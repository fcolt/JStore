(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{150:function(t,e,n){},179:function(t,e,n){"use strict";n.r(e),n.d(e,"history",(function(){return de}));var r=n(59),a=n(13),c=n(120),i=n(0),o=n.n(i),s=n(33),l=n.n(s),d=(n(150),n(248)),u=n(239),j=n(250),b=n(252),h=n(247),p=n(253),x=n(254),O=n(87),f=n(255),g=n(256),m=n(20),v=n(29),y=n(70),k=Object(v.d)({name:"counter",initialState:{data:42,title:"yet another redux counter with redux toolkit"},reducers:{increment:function(t,e){t.data+=e.payload},decrement:function(t,e){t.data-=e.payload}}}),C=k.actions,I=C.increment,w=C.decrement,E=n(26),S=n.n(E),B=n(44),z=n(51),q=n.n(z),T=n(68);q.a.defaults.baseURL="/api/",q.a.defaults.withCredentials=!0;var A=function(t){return t.data};q.a.interceptors.response.use(function(){var t=Object(B.a)(S.a.mark((function t(e){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=3;break;case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){var e=t.response,n=e.data;switch(e.status){case 400:if(n.errors){var r=[];for(var a in n.errors)n.errors[a]&&r.push(n.errors[a]);throw r.flat()}T.b.error(n.title);break;case 401:T.b.error(n.title);break;case 404:de.push("/not-found");break;case 500:de.push("/server-error",{error:n})}return Promise.reject(t.response)}));var F=function(t){return q.a.get(t).then(A)},L=function(t,e){return q.a.post(t,e).then(A)},M=function(t){return q.a.delete(t).then(A)},V={get:function(){return F("basket")},addItem:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return L("basket?productId=".concat(t,"&quantity=").concat(e),{})},removeItem:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return M("basket?productId=".concat(t,"&quantity=").concat(e))}},P={Catalog:{list:function(){return F("products")},details:function(t){return F("products/".concat(t))},fetchFilters:function(){return F("products/filters")}},TestErrors:{get400Error:function(){return F("buggy/bad-request")},get401Error:function(){return F("buggy/unauthorized")},get404Error:function(){return F("buggy/not-found")},get500Error:function(){return F("buggy/server-error")},getValidationError:function(){return F("buggy/validation-error")}},Basket:V},R=Object(v.b)("basket/addBasketItemAsync",function(){var t=Object(B.a)(S.a.mark((function t(e,n){var r,a,c;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.productId,a=e.quantity,c=void 0===a?1:a,t.prev=1,t.next=4,P.Basket.addItem(r,c);case 4:return t.abrupt("return",t.sent);case 7:return t.prev=7,t.t0=t.catch(1),t.abrupt("return",n.rejectWithValue({error:t.t0.data}));case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e,n){return t.apply(this,arguments)}}()),W=Object(v.b)("basket/removeBasketItemAsync",function(){var t=Object(B.a)(S.a.mark((function t(e,n){var r,a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.productId,a=e.quantity,t.prev=1,t.next=4,P.Basket.removeItem(r,a);case 4:t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(1),t.abrupt("return",n.rejectWithValue({error:t.t0.data}));case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n){return t.apply(this,arguments)}}()),U=Object(v.d)({name:"basket",initialState:{basket:null,status:"idle"},reducers:{setBasket:function(t,e){t.basket=e.payload}},extraReducers:function(t){t.addCase(R.pending,(function(t,e){t.status="pendingAddItem"+e.meta.arg.productId})),t.addCase(R.fulfilled,(function(t,e){t.basket=e.payload,t.status="idle"})),t.addCase(R.rejected,(function(t,e){t.status="idle",console.log(e.payload)})),t.addCase(W.pending,(function(t,e){t.status="pendingRemoveItem"+e.meta.arg.productId+e.meta.arg.name})),t.addCase(W.fulfilled,(function(t,e){var n,r,a=e.meta.arg,c=a.productId,i=a.quantity,o=null===(n=t.basket)||void 0===n?void 0:n.items.findIndex((function(t){return t.productId===c}));-1!==o&&void 0!==o&&(t.basket.items[o].quantity-=i,0===(null===(r=t.basket)||void 0===r?void 0:r.items[o].quantity)&&t.basket.items.splice(o,1),t.status="idle")})),t.addCase(W.rejected,(function(t,e){t.status="idle",console.log(e.payload)}))}}),D=U.actions.setBasket,G=Object(v.c)(),J=Object(v.b)("catalog/fetchProductsAsync",function(){var t=Object(B.a)(S.a.mark((function t(e,n){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.Catalog.list();case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",n.rejectWithValue({error:t.t0.data}));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n){return t.apply(this,arguments)}}()),Q=Object(v.b)("catalog/fetchProductAsync",function(){var t=Object(B.a)(S.a.mark((function t(e,n){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.Catalog.details(e);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",n.rejectWithValue({error:t.t0.data}));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n){return t.apply(this,arguments)}}()),$=Object(v.b)("catalog/fetchFiltersAsync",function(){var t=Object(B.a)(S.a.mark((function t(e,n){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.abrupt("return",P.Catalog.fetchFilters());case 4:return t.prev=4,t.t0=t.catch(0),t.abrupt("return",n.rejectWithValue({error:t.t0.data}));case 7:case"end":return t.stop()}}),t,null,[[0,4]])})));return function(e,n){return t.apply(this,arguments)}}()),H=Object(v.d)({name:"catalog",initialState:G.getInitialState({productsLoaded:!1,filtersLoaded:!1,status:"idle",brands:[],types:[]}),reducers:{},extraReducers:function(t){t.addCase(J.pending,(function(t){t.status="pendingFetchProducts"})),t.addCase(J.fulfilled,(function(t,e){G.setAll(t,e.payload),t.status="idle",t.productsLoaded=!0})),t.addCase(J.rejected,(function(t,e){t.status="idle",console.log(e.payload)})),t.addCase(Q.pending,(function(t){t.status="pendingFetchProduct"})),t.addCase(Q.fulfilled,(function(t,e){G.upsertOne(t,e.payload),t.status="idle"})),t.addCase(Q.rejected,(function(t,e){t.status="idle",console.log(e)})),t.addCase($.pending,(function(t){t.status="pendingFetchFilters"})),t.addCase($.fulfilled,(function(t,e){t.brands=e.payload.brands,t.types=e.payload.types,t.filtersLoaded=!0,t.status="idle"})),t.addCase($.rejected,(function(t,e){t.status="idle",console.log(e.payload)}))}}),X=G.getSelectors((function(t){return t.catalog})),N=Object(v.a)({reducer:{counter:k.reducer,basket:U.reducer,catalog:H.reducer}}),Y=function(){return Object(y.b)()},K=y.c;function Z(t){return"$"+(t/100).toFixed(2)}var _=n(1);function tt(t){var e=t.product,n=K((function(t){return t.basket})).status,r=Y();return Object(_.jsxs)(j.a,{children:[Object(_.jsx)(b.a,{avatar:Object(_.jsx)(h.a,{sx:{bgcolor:"secondary.main"},children:e.name.charAt(0).toUpperCase()}),title:e.name,titleTypographyProps:{sx:{fontWeight:"bold",color:"primary.main"}}}),Object(_.jsx)(p.a,{component:"img",sx:{height:140,objectFit:"contain",bgcolor:"primary.light"},image:e.pictureUrl,alt:e.name}),Object(_.jsxs)(x.a,{children:[Object(_.jsx)(O.a,{gutterBottom:!0,color:"secondary",variant:"h5",children:Z(e.price)}),Object(_.jsxs)(O.a,{variant:"body2",color:"text.secondary",children:[e.brand," / ",e.type]})]}),Object(_.jsxs)(f.a,{children:[Object(_.jsx)(u.a,{loading:n.includes("pendingAddItem"+e.id),onClick:function(){return r(R({productId:e.id}))},size:"small",children:"Add to cart"}),Object(_.jsx)(g.a,{component:m.a,to:"/catalog/".concat(e.id),size:"small",children:"View"})]})]})}function et(t){var e=t.products;return Object(_.jsx)(d.a,{container:!0,spacing:4,alignItems:"center",justifyContent:"center",marginBottom:"20px",children:e.map((function(t,e){return Object(_.jsx)(d.a,{item:!0,xs:12,sm:4,md:3,lg:3,children:Object(_.jsx)(tt,{product:t})},e)}))})}var nt=n(243),rt=n(258),at=n(257);function ct(t){var e=t.message,n=void 0===e?"Loading...":e;return Object(_.jsx)(nt.a,{open:!0,invisible:!0,children:Object(_.jsxs)(rt.a,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:[Object(_.jsx)(at.a,{size:100,color:"primary"}),Object(_.jsx)(O.a,{variant:"h4",sx:{justifyContent:"center",position:"fixed",top:"60%"},children:n})]})})}function it(){var t=K(X.selectAll),e=Y(),n=K((function(t){return t.catalog})),r=n.productsLoaded,a=n.status,c=n.filtersLoaded;return Object(i.useEffect)((function(){r||e(J())}),[r,e]),Object(i.useEffect)((function(){c||e($())}),[c,e]),a.includes("pending")?Object(_.jsx)(ct,{message:"Loading products..."}):Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(et,{products:t})})}function ot(){return Object(_.jsx)(O.a,{variant:"h2",children:"Home page"})}var st=n(226),lt=n(260),dt=n(261),ut=n(262),jt=n(263),bt=n(238),ht=n(14),pt=n(259),xt=n(251);function Ot(){return Object(_.jsxs)(pt.a,{component:xt.a,children:[Object(_.jsx)(O.a,{gutterBottom:!0,variant:"h3",children:"Can't seem to find this item"}),Object(_.jsx)(st.a,{}),Object(_.jsx)(g.a,{fullWidth:!0,component:m.a,to:"/catalog",children:"Go back to shop"})]})}function ft(){var t=K((function(t){return t.basket})),e=t.basket,n=t.status,r=Y(),c=Object(ht.g)().id,o=K((function(t){return X.selectById(t,c)})),s=K((function(t){return t.catalog})).status,l=Object(i.useState)(0),j=Object(a.a)(l,2),b=j[0],h=j[1],p=null===e||void 0===e?void 0:e.items.find((function(t){return t.productId===(null===o||void 0===o?void 0:o.id)}));return Object(i.useEffect)((function(){p&&h(p.quantity),o||r(Q(parseInt(c)))}),[c,p,r,o]),s.includes("pending")?Object(_.jsx)(ct,{message:"Loading product..."}):o?Object(_.jsxs)(d.a,{container:!0,spacing:6,alignItems:"center",justifyContent:"center",marginBottom:"20px",children:[Object(_.jsx)(d.a,{item:!0,xs:10,sm:6,md:6,lg:6,children:Object(_.jsx)("img",{src:o.pictureUrl,alt:o.name,style:{width:"100%"}})}),Object(_.jsxs)(d.a,{item:!0,xs:16,sm:6,md:6,lg:6,children:[Object(_.jsx)(O.a,{variant:"h3",children:o.name}),Object(_.jsx)(st.a,{sx:{mb:2}}),Object(_.jsxs)(O.a,{variant:"h4",color:"secondary",children:["$",(o.price/100).toFixed(2)]}),Object(_.jsx)(lt.a,{children:Object(_.jsxs)(dt.a,{children:[Object(_.jsxs)(ut.a,{children:[Object(_.jsx)(jt.a,{children:"Name"}),Object(_.jsx)(jt.a,{children:o.name})]}),Object(_.jsxs)(ut.a,{children:[Object(_.jsx)(jt.a,{children:"Description"}),Object(_.jsx)(jt.a,{children:o.description})]}),Object(_.jsxs)(ut.a,{children:[Object(_.jsx)(jt.a,{children:"Type"}),Object(_.jsx)(jt.a,{children:o.type})]}),Object(_.jsxs)(ut.a,{children:[Object(_.jsx)(jt.a,{children:"Brand"}),Object(_.jsx)(jt.a,{children:o.brand})]}),Object(_.jsxs)(ut.a,{children:[Object(_.jsx)(jt.a,{children:"Quantity in stock"}),Object(_.jsx)(jt.a,{children:o.quantityInStock})]})]})}),Object(_.jsxs)(d.a,{container:!0,spacing:2,children:[Object(_.jsx)(d.a,{item:!0,xs:6,children:Object(_.jsx)(bt.a,{onChange:function(t){t.target.value>0&&h(parseInt(t.target.value))},variant:"outlined",type:"number",label:"Quantity in Cart",fullWidth:!0,value:b})}),Object(_.jsx)(d.a,{item:!0,xs:6,children:Object(_.jsx)(u.a,{disabled:(null===p||void 0===p?void 0:p.quantity)===b,loading:n.includes("pending"),onClick:function(){if(!p||b>p.quantity){var t=p?b-p.quantity:b;r(R({productId:null===o||void 0===o?void 0:o.id,quantity:t}))}else{var e=p.quantity-b;r(W({productId:null===o||void 0===o?void 0:o.id,quantity:e}))}},sx:{height:"55px"},color:"primary",size:"large",variant:"contained",fullWidth:!0,children:p?"Update Quantity":"Add to Cart"})})]})]})]}):Object(_.jsx)(Ot,{})}var gt=n(265),mt=n(241),vt=n(267),yt=n(264),kt=n(242),Ct=n(230);function It(){var t=Object(i.useState)([]),e=Object(a.a)(t,2),n=e[0],r=e[1];return Object(_.jsxs)(d.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",marginBottom:"20px",children:[Object(_.jsx)(O.a,{gutterBottom:!0,variant:"h6",children:"Since this is a portfolio project, I've taken the liberty of making this page an error testing page so have some buttons :)"}),Object(_.jsxs)(gt.a,{style:{flexWrap:"wrap",textAlign:"center",display:"inline-block"},children:[Object(_.jsx)(g.a,{variant:"contained",onClick:function(){return P.TestErrors.get400Error().catch((function(t){return console.log(t)}))},children:"Test 400 Error"}),Object(_.jsx)(g.a,{variant:"contained",onClick:function(){return P.TestErrors.get401Error().catch((function(t){return console.log(t)}))},children:"Test 401 Error"}),Object(_.jsx)(g.a,{variant:"contained",onClick:function(){return P.TestErrors.get404Error().catch((function(t){return console.log(t)}))},children:"Test 404 Error"}),Object(_.jsx)(g.a,{variant:"contained",onClick:function(){return P.TestErrors.get500Error().catch((function(t){return console.log(t)}))},children:"Test 500 Error"}),Object(_.jsx)(g.a,{variant:"contained",onClick:function(){P.TestErrors.getValidationError().then((function(){return console.log("should not see this")})).catch((function(t){return r(t)}))},children:" Test Validation Error"})]}),n.length>0&&Object(_.jsxs)(mt.a,{severity:"error",children:[Object(_.jsx)(vt.a,{children:"Validation Errors"}),Object(_.jsx)(yt.a,{children:n.map((function(t){return Object(_.jsx)(kt.a,{children:Object(_.jsx)(Ct.a,{children:t})},t)}))})]})]})}function wt(){var t=Y(),e=K((function(t){return t.counter})),n=e.data,r=e.title;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(O.a,{variant:"h2",children:r}),Object(_.jsxs)(O.a,{variant:"h5",children:["Data is: ",n]}),Object(_.jsxs)(gt.a,{children:[Object(_.jsx)(g.a,{onClick:function(){return t(w(1))},variant:"contained",color:"error",children:"Decrement"}),Object(_.jsx)(g.a,{onClick:function(){return t(I(1))},variant:"contained",color:"error",children:"Increment"})]})]})}var Et=n(232),St=n(268),Bt=n(269),zt=n(266),qt=n(127),Tt=n(245),At=n(237),Ft=n(249),Lt=n(4),Mt=n(244),Vt=Object(Lt.a)(Mt.a)((function(t){var e=t.theme;return{width:62,height:34,padding:7,"& .MuiSwitch-switchBase":{margin:1,padding:0,transform:"translateX(6px)","&.Mui-checked":{color:"#fff",transform:"translateX(22px)","& .MuiSwitch-thumb:before":{backgroundImage:'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="'.concat(encodeURIComponent("#fff"),'" d="M4.2 2.5l-.7 1.8-1.8.7 1.8.7.7 1.8.6-1.8L6.7 5l-1.9-.7-.6-1.8zm15 8.3a6.7 6.7 0 11-6.6-6.6 5.8 5.8 0 006.6 6.6z"/></svg>\')')},"& + .MuiSwitch-track":{opacity:1,backgroundColor:"dark"===e.palette.mode?"#8796A5":"#aab4be"}}},"& .MuiSwitch-thumb":{backgroundColor:"dark"===e.palette.mode?"#003892":"#001e3c",width:32,height:32,"&:before":{content:"''",position:"absolute",width:"100%",height:"100%",left:0,top:0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundImage:'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="'.concat(encodeURIComponent("#fff"),'" d="M9.305 1.667V3.75h1.389V1.667h-1.39zm-4.707 1.95l-.982.982L5.09 6.072l.982-.982-1.473-1.473zm10.802 0L13.927 5.09l.982.982 1.473-1.473-.982-.982zM10 5.139a4.872 4.872 0 00-4.862 4.86A4.872 4.872 0 0010 14.862 4.872 4.872 0 0014.86 10 4.872 4.872 0 0010 5.139zm0 1.389A3.462 3.462 0 0113.471 10a3.462 3.462 0 01-3.473 3.472A3.462 3.462 0 016.527 10 3.462 3.462 0 0110 6.528zM1.665 9.305v1.39h2.083v-1.39H1.666zm14.583 0v1.39h2.084v-1.39h-2.084zM5.09 13.928L3.616 15.4l.982.982 1.473-1.473-.982-.982zm9.82 0l-.982.982 1.473 1.473.982-.982-1.473-1.473zM9.305 16.25v2.083h1.389V16.25h-1.39z"/></svg>\')')}},"& .MuiSwitch-track":{opacity:1,backgroundColor:"dark"===e.palette.mode?"#8796A5":"#aab4be",borderRadius:10}}})),Pt=n(40),Rt=n(231),Wt=n(101),Ut=n.n(Wt),Dt=n(125),Gt=n.n(Dt),Jt=[{title:"Catalog",path:"/catalog"},{title:"About",path:"/about"},{title:"Contact",path:"/contact"}],Qt=[{title:"Login",path:"/login"},{title:"Register",path:"/register"}],$t={color:"inherit",textDecoration:"none",typography:"h5","&:hover":{color:"grey.500"},"&.active":{color:"text.secondary"}};function Ht(t){var e=t.darkMode,n=t.handleThemeChange,r=K((function(t){return t.basket})).basket,c=null===r||void 0===r?void 0:r.items.reduce((function(t,e){return t+e.quantity}),0),o=Object(i.useState)(null),s=Object(a.a)(o,2),l=s[0],d=s[1],u=Object(i.useState)(null),j=Object(a.a)(u,2),b=j[0],h=j[1],p=function(t){h(t.currentTarget)},x=function(){d(null)},f=function(){h(null)},g=Object(Pt.a)(),v=Object(Rt.a)(g.breakpoints.down("sm"));return Object(_.jsx)(rt.a,{sx:{flexGrow:1},children:Object(_.jsx)(St.a,{position:"static",sx:{mb:4},children:Object(_.jsx)(Bt.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:v?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(rt.a,{sx:{flexGrow:1,display:"flex",alignItems:"center"},children:[Object(_.jsx)(zt.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(t){d(t.currentTarget)},color:"inherit",children:Object(_.jsx)(Gt.a,{})}),Object(_.jsx)(qt.a,{id:"menu-appbar",anchorEl:l,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(l),onClose:x,sx:{display:{xs:"block",md:"none"}},children:Object(_.jsx)(yt.a,{sx:{display:"block"},children:Jt.map((function(t){var e=t.title,n=t.path;return Object(_.jsx)(kt.a,{component:m.b,to:n,sx:$t,children:e},n)}))})}),Object(_.jsx)(O.a,{variant:"h6",component:m.b,to:"/",sx:$t,children:"JStore"}),Object(_.jsx)(Vt,{checked:e,onChange:n})]}),Object(_.jsx)(rt.a,{display:"flex",alignItems:"center"}),Object(_.jsxs)(rt.a,{display:"flex",alignItems:"center",children:[Object(_.jsx)(zt.a,{component:m.a,to:"/basket",size:"large",sx:{color:"inherit"},children:Object(_.jsx)(Tt.a,{badgeContent:c,color:"secondary",children:Object(_.jsx)(Et.a,{})})}),Object(_.jsx)(At.a,{title:"Connect",children:Object(_.jsx)(zt.a,{onClick:p,sx:{color:"inherit"},children:Object(_.jsx)(Ut.a,{})})}),Object(_.jsx)(qt.a,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:b,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(b),onClose:f,children:Object(_.jsx)(Ft.a,{onClick:x,children:Object(_.jsx)(yt.a,{sx:{display:"block"},children:Qt.map((function(t){var e=t.title,n=t.path;return Object(_.jsx)(kt.a,{component:m.b,to:n,sx:$t,children:e},n)}))})})})]})]}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(rt.a,{display:"flex",alignItems:"center",children:[Object(_.jsx)(O.a,{variant:"h6",component:m.b,to:"/",sx:$t,children:"JStore"}),Object(_.jsx)(Vt,{checked:e,onChange:n})]}),Object(_.jsx)(yt.a,{sx:{display:"flex"},children:Jt.map((function(t){var e=t.title,n=t.path;return Object(_.jsx)(kt.a,{component:m.b,to:n,sx:$t,children:e},n)}))}),Object(_.jsxs)(rt.a,{display:"flex",alignItems:"center",children:[Object(_.jsx)(zt.a,{component:m.a,to:"/basket",size:"large",sx:{color:"inherit"},children:Object(_.jsx)(Tt.a,{badgeContent:c,color:"secondary",children:Object(_.jsx)(Et.a,{})})}),Object(_.jsx)(At.a,{title:"Connect",children:Object(_.jsx)(zt.a,{onClick:p,sx:{color:"inherit"},children:Object(_.jsx)(Ut.a,{})})}),Object(_.jsx)(qt.a,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:b,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(b),onClose:f,children:Object(_.jsx)(Ft.a,{onClick:x,children:Object(_.jsx)(yt.a,{sx:{display:"block"},children:Qt.map((function(t){var e=t.title,n=t.path;return Object(_.jsx)(kt.a,{component:m.b,to:n,sx:$t,children:e},n)}))})})})]})]})})})})}var Xt=n(236),Nt=n(126),Yt=n(246);n(178);function Kt(){var t=Object(ht.e)().state;return Object(_.jsxs)(pt.a,{component:xt.a,children:[(null===t||void 0===t?void 0:t.error)?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(O.a,{variant:"h3",color:"error",gutterBottom:!0,children:t.error.title}),Object(_.jsx)(st.a,{}),Object(_.jsx)(O.a,{children:t.error.detail||"Internal server error"})]}):Object(_.jsx)(O.a,{variant:"h5",gutterBottom:!0,children:"Server error"}),Object(_.jsx)(g.a,{onClick:function(){return de.push("/catalog")},children:"Go back to the store"})]})}var Zt=n(233),_t=n(234),te=n(235),ee=n(270),ne=n(271);function re(){var t,e=K((function(t){return t.basket})).basket,n=null!==(t=null===e||void 0===e?void 0:e.items.reduce((function(t,e){return t+e.price*e.quantity}),0))&&void 0!==t?t:0,r=n/100<100?500:0;return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(lt.a,{component:xt.a,variant:"outlined",children:Object(_.jsx)(ee.a,{children:Object(_.jsxs)(dt.a,{children:[Object(_.jsxs)(ut.a,{children:[Object(_.jsx)(jt.a,{colSpan:2,children:"Subtotal"}),Object(_.jsx)(jt.a,{align:"right",children:Z(n)})]}),Object(_.jsxs)(ut.a,{children:[Object(_.jsx)(jt.a,{colSpan:2,children:"Delivery fee*"}),Object(_.jsx)(jt.a,{align:"right",children:Z(r)})]}),Object(_.jsxs)(ut.a,{children:[Object(_.jsx)(jt.a,{colSpan:2,children:"Total"}),Object(_.jsx)(jt.a,{align:"right",children:Z(n+r)})]}),Object(_.jsx)(ut.a,{children:Object(_.jsx)(jt.a,{children:Object(_.jsx)("span",{style:{fontStyle:"italic"},children:"*Orders over $100 qualify for free delivery"})})})]})})})})}function ae(){var t=K((function(t){return t.basket})),e=t.basket,n=t.status,r=Y();return e?Object(_.jsx)(d.a,{container:!0,spacing:6,alignItems:"center",justifyContent:"center",marginBottom:"20px",children:Object(_.jsxs)(d.a,{item:!0,xs:10,sm:8,md:9,lg:10,children:[Object(_.jsx)(lt.a,{component:xt.a,children:Object(_.jsxs)(ee.a,{sx:{minWidth:650},children:[Object(_.jsx)(ne.a,{children:Object(_.jsxs)(ut.a,{children:[Object(_.jsx)(jt.a,{children:"Product"}),Object(_.jsx)(jt.a,{align:"left",children:"Price"}),Object(_.jsx)(jt.a,{align:"left",children:"Quantity"}),Object(_.jsx)(jt.a,{align:"left",children:"Subtotal"}),Object(_.jsx)(jt.a,{})]})}),Object(_.jsx)(dt.a,{children:e.items.map((function(t){return Object(_.jsxs)(ut.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(_.jsx)(jt.a,{component:"th",scope:"row",children:Object(_.jsxs)(rt.a,{display:"flex",alignItems:"center",children:[Object(_.jsx)("img",{src:t.pictureUrl,alt:t.name,style:{height:50,marginRight:20}}),Object(_.jsx)("span",{children:t.name})]})}),Object(_.jsx)(jt.a,{align:"left",children:Z(t.price)}),Object(_.jsxs)(jt.a,{align:"left",children:[Object(_.jsx)(u.a,{loading:n==="pendingAddItem"+t.productId,onClick:function(){return r(R({productId:t.productId}))},color:"success",children:Object(_.jsx)(Zt.a,{})}),t.quantity,Object(_.jsx)(u.a,{loading:n==="pendingRemoveItem"+t.productId+"rem",onClick:function(){return r(W({productId:t.productId,quantity:1,name:"rem"}))},color:"error",children:Object(_.jsx)(_t.a,{})})]}),Object(_.jsx)(jt.a,{align:"left",children:Z(t.price*t.quantity)}),Object(_.jsx)(jt.a,{align:"left",children:Object(_.jsx)(u.a,{loading:n==="pendingRemoveItem"+t.productId+"del",onClick:function(){return r(W({productId:t.productId,quantity:t.quantity,name:"del"}))},color:"error",children:Object(_.jsx)(te.a,{})})})]},t.productId)}))})]})}),Object(_.jsxs)(d.a,{item:!0,xs:10,sm:9,md:7,lg:7,children:[Object(_.jsx)(re,{}),Object(_.jsx)(g.a,{component:m.a,to:"/checkout",variant:"contained",size:"large",fullWidth:!0,children:"Checkout"})]})]})}):Object(_.jsx)(O.a,{variant:"h3",children:"Your basket is empty"})}function ce(){return Object(_.jsx)(O.a,{variant:"h3",children:"Only logged in users should be able to see this!"})}var ie=function(){var t=Y(),e=Object(i.useState)(!0),n=Object(a.a)(e,2),r=n[0],c=n[1];Object(i.useEffect)((function(){(function(t){var e=document.cookie.match("(^|;)\\s*"+t+"\\s*=\\s*([^;]+)");return e?e.pop():""})("buyerId")?P.Basket.get().then((function(e){return t(D(e))})).catch((function(t){return console.log(t)})).finally((function(){return c(!1)})):c(!1)}),[t]);var o=Object(i.useState)(!1),s=Object(a.a)(o,2),l=s[0],d=s[1],u=l?"dark":"light",j=Object(Nt.a)({palette:{mode:u,background:{default:"light"===u?"#eaeaea":"#121212"}}});return r?Object(_.jsx)(ct,{message:"Initialising app..."}):Object(_.jsxs)(Yt.a,{theme:j,children:[Object(_.jsx)(T.a,{theme:"colored",position:"bottom-right",hideProgressBar:!0}),Object(_.jsx)(Xt.a,{}),Object(_.jsx)(Ht,{darkMode:l,handleThemeChange:function(){d(!l)}}),Object(_.jsx)(pt.a,{children:Object(_.jsxs)(ht.c,{children:[Object(_.jsx)(ht.a,{path:"/",element:Object(_.jsx)(ot,{})}),Object(_.jsx)(ht.a,{path:"/catalog",element:Object(_.jsx)(it,{})}),Object(_.jsx)(ht.a,{path:"/catalog/:id",element:Object(_.jsx)(ft,{})}),Object(_.jsx)(ht.a,{path:"/about",element:Object(_.jsx)(It,{})}),Object(_.jsx)(ht.a,{path:"/contact",element:Object(_.jsx)(wt,{})}),Object(_.jsx)(ht.a,{path:"/server-error",element:Object(_.jsx)(Kt,{})}),Object(_.jsx)(ht.a,{path:"/not-found",element:Object(_.jsx)(Ot,{})}),Object(_.jsx)(ht.a,{path:"/basket",element:Object(_.jsx)(ae,{})}),Object(_.jsx)(ht.a,{path:"/checkout",element:Object(_.jsx)(ce,{})})]})})]})},oe=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,272)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),r(t),a(t),c(t),i(t)}))},se=n(24),le=["history"],de=Object(se.b)(),ue=function(t){var e=t.history,n=Object(c.a)(t,le),o=Object(i.useState)({action:e.action,location:e.location}),s=Object(a.a)(o,2),l=s[0],d=s[1];return Object(i.useLayoutEffect)((function(){return e.listen(d)}),[e]),Object(_.jsx)(ht.b,Object(r.a)(Object(r.a)({},n),{},{location:l.location,navigationType:l.action,navigator:e}))};l.a.render(Object(_.jsx)(o.a.StrictMode,{children:Object(_.jsx)(ue,{history:de,children:Object(_.jsx)(y.a,{store:N,children:Object(_.jsx)(ie,{})})})}),document.getElementById("root")),oe()}},[[179,1,2]]]);
//# sourceMappingURL=main.a0c8dbd7.chunk.js.map