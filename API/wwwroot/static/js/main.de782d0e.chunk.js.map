{"version":3,"sources":["features/contact/counterSlice.ts","app/models/pagination.ts","app/api/agent.ts","features/basket/basketSlice.ts","features/catalog/catalogSlice.ts","app/store/configureStore.ts","app/util/util.ts","features/catalog/ProductCard.tsx","features/catalog/ProductCardSkeleton.tsx","features/catalog/ProductList.tsx","features/catalog/ProductSearch.tsx","app/components/RadioButtonGroup.tsx","app/components/CheckboxButtons.tsx","app/components/AppPagination.tsx","app/layout/LoadingComponent.tsx","features/catalog/Catalog.tsx","features/home/HomePage.tsx","app/errors/NotFound.tsx","features/catalog/ProductDetails.tsx","features/about/AboutPage.tsx","features/contact/ContactPage.tsx","app/layout/DarkModeSwitch.tsx","app/layout/Header.tsx","app/errors/ServerError.tsx","features/basket/BasketSummary.tsx","features/basket/BasketPage.tsx","features/checkout/CheckoutPage.tsx","app/layout/App.tsx","reportWebVitals.ts","index.tsx"],"names":["counterSlice","createSlice","name","initialState","data","title","reducers","increment","state","action","payload","decrement","actions","PaginatedResponse","items","metaData","this","axios","defaults","baseURL","process","withCredentials","responseBody","response","interceptors","use","a","pagination","headers","JSON","parse","error","status","errors","modelStateErrors","key","push","flat","toast","history","Promise","reject","requests","url","params","get","then","body","post","delete","Basket","addItem","productId","quantity","removeItem","agent","Catalog","list","details","id","fetchFilters","TestErrors","get400Error","get401Error","get404Error","get500Error","getValidationError","addBasketItemAsync","createAsyncThunk","thunkAPI","rejectWithValue","removeBasketItemAsync","basketSlice","basket","setBasket","extraReducers","builder","addCase","pending","meta","arg","fulfilled","rejected","console","log","itemIndex","findIndex","i","undefined","splice","productsAdapter","createEntityAdapter","getAxiosParams","productParams","URLSearchParams","append","pageNumber","toString","pageSize","orderBy","searchTerm","brands","length","types","fetchProductsAsync","_","getState","catalog","dispatch","setMetaData","fetchProductAsync","fetchFiltersAsync","catalogSlice","getInitialState","productsLoaded","filtersLoaded","setProductParams","setPageNumber","resetProductParams","setAll","upsertOne","productSelectors","getSelectors","store","configureStore","reducer","counter","useAppDispatch","useDispatch","useAppSelector","useSelector","currencyFormat","amount","toFixed","ProductCard","product","Card","CardHeader","avatar","Avatar","sx","bgcolor","charAt","toUpperCase","titleTypographyProps","fontWeight","color","CardMedia","component","height","objectFit","image","pictureUrl","alt","CardContent","Typography","gutterBottom","variant","price","brand","type","CardActions","LoadingButton","loading","includes","onClick","size","Button","Link","to","ProductCardSkeleton","Grid","item","xs","Skeleton","animation","width","style","marginBottom","ProductList","products","container","spacing","map","sm","md","lg","ProductSearch","useState","setSearchTerm","debouncedSearch","debounce","event","target","value","TextField","label","fullWidth","onChange","RadioButtonGroup","options","selectedValue","FormControl","FormLabel","RadioGroup","FormControlLabel","control","Radio","CheckboxButtons","checked","checkedItems","setCheckedItems","FormGroup","Checkbox","indexOf","newChecked","filter","handleChecked","AppPagination","onPageChange","currentPage","totalCount","totalPages","Box","display","justifyContent","alignItems","Pagination","count","page","e","LoadingComponent","message","Backdrop","open","invisible","CircularProgress","position","top","sortOptions","selectAll","useEffect","columnSpacing","Paper","mb","p","HomePage","NotFound","Container","Divider","ProductDetails","useParams","selectById","productStatus","setQuantity","find","parseInt","src","TableContainer","TableBody","TableRow","TableCell","description","quantityInStock","disabled","updatedQuantity","AboutPage","validationErrors","setValidationErrors","direction","ButtonGroup","flexWrap","textAlign","catch","Alert","severity","AlertTitle","List","ListItem","ListItemText","ContactPage","MaterialUISwitch","styled","Switch","theme","padding","margin","transform","backgroundImage","encodeURIComponent","opacity","backgroundColor","palette","mode","content","left","backgroundRepeat","backgroundPosition","borderRadius","midLinks","path","rightLinks","navStyles","textDecoration","typography","Header","darkMode","handleThemeChange","itemCount","reduce","sum","anchorElNav","setAnchorElNav","anchorElUser","setAnchorElUser","handleOpenUserMenu","currentTarget","handleCloseNavMenu","handleCloseUserMenu","useTheme","isMobile","useMediaQuery","breakpoints","down","flexGrow","AppBar","Toolbar","IconButton","Menu","anchorEl","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","Boolean","onClose","NavLink","Badge","badgeContent","ShoppingCart","Tooltip","mt","MenuItem","ServerError","useLocation","detail","BasketSummary","subtotal","deliveryFee","Table","colSpan","align","fontStyle","BasketPage","minWidth","TableHead","border","scope","marginRight","Add","Remove","Delete","CheckoutPage","App","setLoading","b","document","cookie","match","pop","getCookie","finally","setDarkMode","paletteType","createTheme","background","default","ThemeProvider","hideProgressBar","CssBaseline","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","createBrowserHistory","CustomRouter","props","location","setState","useLayoutEffect","listen","navigationType","navigator","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.de782d0e.chunk.js","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\"\r\n\r\nexport interface CounterState {\r\n    data: number;\r\n    title: string;\r\n}\r\n\r\nconst initialState: CounterState = {\r\n    data: 42,\r\n    title: 'yet another redux counter with redux toolkit'\r\n}\r\n\r\nexport const counterSlice = createSlice({\r\n    name: 'counter',\r\n    initialState,\r\n    reducers: {\r\n        increment: (state, action) => {\r\n            state.data += action.payload\r\n        },\r\n        decrement: (state, action) => {\r\n            state.data -= action.payload\r\n        }\r\n    }\r\n})\r\n\r\nexport const {increment, decrement} = counterSlice.actions;","export interface MetaData {\r\n    currentPage: number;\r\n    totalPages: number;\r\n    pageSize: number;\r\n    totalCount: number;\r\n}\r\n\r\nexport class PaginatedResponse<T> {\r\n    items: T;\r\n    metaData: MetaData;\r\n\r\n    constructor(items: T, metaData: MetaData) {\r\n        this.items = items;\r\n        this.metaData = metaData;\r\n    }\r\n}","import axios, { AxiosError, AxiosResponse } from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport { history } from \"../..\"\r\nimport { PaginatedResponse } from \"../models/pagination\"\r\n\r\nconst sleep = () => new Promise(resolve => setTimeout(resolve, 500));\r\n\r\naxios.defaults.baseURL = process.env.REACT_APP_API_URL;\r\naxios.defaults.withCredentials = true;\r\n\r\nconst responseBody = (response: AxiosResponse) => response.data;\r\n\r\naxios.interceptors.response.use(async response => {\r\n    if (process.env.NODE_ENV === 'development') await sleep();\r\n    const pagination = response.headers['pagination'];\r\n    if (pagination) {\r\n        response.data = new PaginatedResponse(response.data, JSON.parse(pagination));\r\n        return response;\r\n    }\r\n    return response\r\n}, (error: AxiosError) => {\r\n    const {data, status} = error.response!;\r\n    switch (status) {\r\n        case 400:\r\n            if (data.errors) {\r\n                const modelStateErrors: string[] = [];\r\n                for (const key in data.errors) {\r\n                    if (data.errors[key]) {\r\n                        modelStateErrors.push(data.errors[key])\r\n                    }\r\n                }\r\n                throw modelStateErrors.flat();\r\n            }\r\n            toast.error(data.title);\r\n            break;\r\n        case 401:\r\n            toast.error(data.title);\r\n            break;\r\n        case 404:\r\n            history.push('/not-found');\r\n            break;\r\n        case 500:\r\n            history.push('/server-error', {error: data});\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n    return Promise.reject(error.response);\r\n})\r\n\r\nconst requests = {\r\n    get: (url: string, params?: URLSearchParams) => axios.get(url, {params}).then(responseBody),\r\n    post: (url: string, body: {}) => axios.post(url, body).then(responseBody),\r\n    put: (url: string, body: {}) => axios.put(url, body).then(responseBody),\r\n    delete: (url: string) => axios.delete(url).then(responseBody),\r\n}\r\n\r\nconst Catalog = {\r\n    list: (params: URLSearchParams) => requests.get('products', params),\r\n    details: (id: number) => requests.get(`products/${id}`),\r\n    fetchFilters: () => requests.get('products/filters')\r\n}\r\n\r\nconst TestErrors = {\r\n    get400Error: () => requests.get('buggy/bad-request'),\r\n    get401Error: () => requests.get('buggy/unauthorized'),\r\n    get404Error: () => requests.get('buggy/not-found'),\r\n    get500Error: () => requests.get('buggy/server-error'),\r\n    getValidationError: () => requests.get('buggy/validation-error')\r\n}\r\n\r\nconst Basket = {\r\n    get: () => requests.get('basket'),\r\n    addItem: (productId: number, quantity = 1) => requests.post(`basket?productId=${productId}&quantity=${quantity}`, {}),\r\n    removeItem: (productId: number, quantity = 1) => requests.delete(`basket?productId=${productId}&quantity=${quantity}`)\r\n}\r\n\r\nconst agent = {\r\n    Catalog,\r\n    TestErrors,\r\n    Basket\r\n}\r\n\r\nexport default agent;","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport agent from \"../../app/api/agent\";\r\nimport { Basket } from \"../../app/models/basket\";\r\n\r\ninterface BasketState {\r\n    basket: Basket | null;\r\n    status: string;\r\n}\r\n\r\nconst initialState: BasketState = {\r\n    basket: null,\r\n    status: 'idle'\r\n}\r\n\r\nexport const addBasketItemAsync = createAsyncThunk<Basket, {productId: number, quantity?: number}>(\r\n    'basket/addBasketItemAsync',\r\n    async ({productId, quantity = 1}, thunkAPI) => {\r\n        try {\r\n            return await agent.Basket.addItem(productId, quantity);\r\n        } catch (error: any) {\r\n            return thunkAPI.rejectWithValue({error: error.data});\r\n        }\r\n    }\r\n);\r\n\r\nexport const removeBasketItemAsync = createAsyncThunk<void, {productId: number, quantity: number, name?: string}>(\r\n    'basket/removeBasketItemAsync',\r\n    async ({productId, quantity}, thunkAPI) => {\r\n        try {\r\n            await agent.Basket.removeItem(productId, quantity);\r\n        } catch (error: any) {\r\n            return thunkAPI.rejectWithValue({error: error.data});\r\n        }\r\n    }\r\n);\r\n\r\nexport const basketSlice = createSlice({\r\n    name: 'basket',\r\n    initialState,\r\n    reducers: {\r\n        setBasket: (state, action) => {\r\n            state.basket = action.payload\r\n        }\r\n    },\r\n    extraReducers: (builder => {\r\n        builder.addCase(addBasketItemAsync.pending, (state, action) => {\r\n            state.status = 'pendingAddItem' + action.meta.arg.productId;\r\n        });\r\n        builder.addCase(addBasketItemAsync.fulfilled, (state, action) => {\r\n            state.basket = action.payload;\r\n            state.status = 'idle';\r\n        });\r\n        builder.addCase(addBasketItemAsync.rejected, (state, action) => {\r\n            state.status = 'idle';\r\n            console.log(action.payload);\r\n        });\r\n        builder.addCase(removeBasketItemAsync.pending, (state, action) => {\r\n            state.status = 'pendingRemoveItem' + action.meta.arg.productId + action.meta.arg.name;\r\n        })\r\n        builder.addCase(removeBasketItemAsync.fulfilled, (state, action) => {\r\n            const {productId, quantity} = action.meta.arg;\r\n            const itemIndex = state.basket?.items.findIndex(i => i.productId === productId);\r\n            if (itemIndex === -1 || itemIndex === undefined) return;\r\n            state.basket!.items[itemIndex].quantity -= quantity;\r\n            if (state.basket?.items[itemIndex].quantity === 0) \r\n                state.basket.items.splice(itemIndex, 1);\r\n            state.status = 'idle';\r\n        })\r\n        builder.addCase(removeBasketItemAsync.rejected, (state, action) => {\r\n            state.status = 'idle';\r\n            console.log(action.payload);\r\n        })\r\n    })\r\n})\r\n\r\nexport const {setBasket} = basketSlice.actions;","import { createEntityAdapter, createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport agent from \"../../app/api/agent\";\r\nimport { MetaData } from \"../../app/models/pagination\";\r\nimport { Product, ProductParams } from \"../../app/models/product\";\r\nimport { RootState } from \"../../app/store/configureStore\";\r\n\r\ninterface CatalogState {\r\n    productsLoaded: boolean;\r\n    filtersLoaded: boolean;\r\n    status: string;\r\n    brands: string[];\r\n    types: string[];\r\n    productParams: ProductParams;\r\n    metaData: MetaData | null;\r\n}\r\n\r\nconst productsAdapter = createEntityAdapter<Product>();\r\n\r\nfunction getAxiosParams(productParams: ProductParams) {\r\n    const params = new URLSearchParams();\r\n    params.append('pageNumber', productParams.pageNumber.toString());\r\n    params.append('pageSize', productParams.pageSize.toString());\r\n    params.append('orderBy', productParams.orderBy);\r\n    if (productParams.searchTerm) params.append('searchTerm', productParams.searchTerm);\r\n    if (productParams.brands.length > 0) params.append('brands', productParams.brands.toString());\r\n    if (productParams.types.length > 0) params.append('types', productParams.types.toString());\r\n    return params;\r\n}\r\n\r\nexport const fetchProductsAsync = createAsyncThunk<Product[], void, {state: RootState}>(\r\n    'catalog/fetchProductsAsync',\r\n    async (_, thunkAPI) => {\r\n        const params = getAxiosParams(thunkAPI.getState().catalog.productParams);\r\n        try {\r\n            const response = await agent.Catalog.list(params);\r\n            thunkAPI.dispatch(setMetaData(response.metaData));\r\n            return response.items;\r\n        } catch (error: any) {\r\n            return thunkAPI.rejectWithValue({error: error.data})\r\n        }\r\n    }\r\n)\r\nexport const fetchProductAsync = createAsyncThunk<Product, number>(\r\n    'catalog/fetchProductAsync',\r\n    async (productId, thunkAPI) => {\r\n        try {\r\n            return await agent.Catalog.details(productId);\r\n        } catch (error: any) {\r\n            return thunkAPI.rejectWithValue({error: error.data})\r\n        }\r\n    }\r\n)\r\n\r\nexport const fetchFiltersAsync = createAsyncThunk(\r\n    'catalog/fetchFiltersAsync',\r\n    async (_, thunkAPI) => {\r\n        try {\r\n            return agent.Catalog.fetchFilters();\r\n        } catch (error: any) {\r\n            return thunkAPI.rejectWithValue({error: error.data});\r\n        }\r\n    }\r\n)\r\n\r\nfunction initParams() {\r\n    return {\r\n        pageNumber: 1,\r\n        pageSize: 8,\r\n        orderBy: 'name',\r\n        brands: [],\r\n        types: []\r\n    }\r\n}\r\n\r\nexport const catalogSlice = createSlice({\r\n    name: 'catalog',\r\n    initialState: productsAdapter.getInitialState<CatalogState>({\r\n        productsLoaded: false,\r\n        filtersLoaded: false,\r\n        status: 'idle',\r\n        brands: [],\r\n        types: [],\r\n        productParams: initParams(),\r\n        metaData: null\r\n    }),\r\n    reducers: {\r\n        setProductParams: (state, action) => {\r\n            state.productsLoaded = false;\r\n            state.productParams = {...state.productParams, ...action.payload, pageNumber: 1};\r\n        },\r\n        setPageNumber: (state, action) => {\r\n            state.productsLoaded = false;\r\n            state.productParams = {...state.productParams, ...action.payload};\r\n        },\r\n        resetProductParams: (state) => {\r\n            state.productParams = initParams();\r\n        },\r\n        setMetaData: (state,action) => {\r\n            state.metaData = action.payload;\r\n        }\r\n    },\r\n    extraReducers: (builder => {\r\n        builder.addCase(fetchProductsAsync.pending, (state) => {\r\n            state.status = 'pendingFetchProducts';\r\n        });\r\n        builder.addCase(fetchProductsAsync.fulfilled, (state, action) => {\r\n            productsAdapter.setAll(state, action.payload);\r\n            state.status = 'idle';\r\n            state.productsLoaded = true;\r\n        });\r\n        builder.addCase(fetchProductsAsync.rejected, (state, action) => {\r\n            state.status = 'idle';\r\n            console.log(action.payload);\r\n        });\r\n        builder.addCase(fetchProductAsync.pending, (state) => {\r\n            state.status = 'pendingFetchProduct';\r\n        });\r\n        builder.addCase(fetchProductAsync.fulfilled, (state, action) => {\r\n            productsAdapter.upsertOne(state, action.payload);\r\n            state.status = 'idle';\r\n        });\r\n        builder.addCase(fetchProductAsync.rejected, (state, action) => {\r\n            state.status = 'idle';\r\n            console.log(action);\r\n        });\r\n        builder.addCase(fetchFiltersAsync.pending, (state) => {\r\n            state.status = 'pendingFetchFilters';\r\n        });\r\n        builder.addCase(fetchFiltersAsync.fulfilled, (state, action) => {\r\n            state.brands = action.payload.brands;\r\n            state.types = action.payload.types;\r\n            state.filtersLoaded = true;\r\n            state.status = 'idle';\r\n        });\r\n        builder.addCase(fetchFiltersAsync.rejected, (state, action) => {\r\n            state.status = 'idle';\r\n            console.log(action.payload);\r\n        });\r\n    })\r\n})\r\n\r\nexport const productSelectors = productsAdapter.getSelectors((state: RootState) => state.catalog);\r\n\r\nexport const {setProductParams, resetProductParams, setMetaData, setPageNumber} = catalogSlice.actions;","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\r\nimport { counterSlice } from \"../../features/contact/counterSlice\";\r\nimport { basketSlice } from \"../../features/basket/basketSlice\";\r\nimport { catalogSlice } from \"../../features/catalog/catalogSlice\";\r\n\r\n/* export function configureStore() {\r\n    return createStore(counterReducer);\r\n} */\r\n\r\nexport const store = configureStore({\r\n    reducer: {\r\n        counter: counterSlice.reducer,\r\n        basket: basketSlice.reducer,\r\n        catalog: catalogSlice.reducer\r\n    }\r\n});\r\n\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport type AppDispatch = typeof store.dispatch;\r\n\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;","export function getCookie(key: string) {\r\n    const b = document.cookie.match(\"(^|;)\\\\s*\" + key + \"\\\\s*=\\\\s*([^;]+)\");\r\n    return b ? b.pop() : \"\";\r\n}\r\n\r\nexport function currencyFormat(amount: number) {\r\n    return '$' + (amount/100).toFixed(2);\r\n}","import { LoadingButton } from \"@mui/lab\";\r\nimport { Avatar, Button, Card, CardActions, CardContent, CardHeader, CardMedia, Typography } from \"@mui/material\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Product } from \"../../app/models/product\";\r\nimport { useAppDispatch, useAppSelector } from \"../../app/store/configureStore\";\r\nimport { currencyFormat } from \"../../app/util/util\";\r\nimport { addBasketItemAsync } from \"../basket/basketSlice\";\r\n\r\ninterface Props {\r\n    product: Product;\r\n}\r\nexport default function ProductCard({product}: Props) {\r\n    const {status} = useAppSelector(state => state.basket);\r\n    const dispatch = useAppDispatch();\r\n\r\n    return (\r\n    <Card>  \r\n        <CardHeader \r\n            avatar={\r\n                <Avatar sx={{bgcolor: 'secondary.main'}}>\r\n                    {product.name.charAt(0).toUpperCase()}\r\n                </Avatar>\r\n            }\r\n            title={product.name}\r\n            titleTypographyProps={{\r\n                sx: {fontWeight: 'bold', color: 'primary.main'}\r\n            }}\r\n        />\r\n        <CardMedia\r\n            component=\"img\"\r\n            sx={{ height: 140,  objectFit: 'contain', bgcolor: 'primary.light' }}\r\n            image={product.pictureUrl}\r\n            alt={product.name}\r\n        />\r\n        <CardContent>\r\n            <Typography gutterBottom color='secondary' variant=\"h5\">\r\n                {currencyFormat(product.price)}\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n                {product.brand} / {product.type}\r\n            </Typography>\r\n        </CardContent>\r\n        <CardActions>\r\n            <LoadingButton \r\n                loading={status.includes('pendingAddItem' + product.id)} \r\n                onClick={() => dispatch(addBasketItemAsync({productId: product.id}))} \r\n                size=\"small\">Add to cart\r\n            </LoadingButton>\r\n            <Button component={Link} to={`/catalog/${product.id}`} size=\"small\">View</Button>\r\n        </CardActions>\r\n    </Card>\r\n    )\r\n}","import {\r\n    Card,\r\n    CardActions,\r\n    CardContent,\r\n    CardHeader,\r\n    Grid,\r\n    Skeleton\r\n} from \"@mui/material\";\r\n\r\nexport default function ProductCardSkeleton() {\r\n    return (\r\n        <Grid item xs component={Card}>\r\n            <CardHeader\r\n                avatar={\r\n                    <Skeleton animation=\"wave\" variant=\"circular\" width={40} height={40} />\r\n                }\r\n                title={\r\n                    <Skeleton\r\n                        animation=\"wave\"\r\n                        height={10}\r\n                        width=\"80%\"\r\n                        style={{ marginBottom: 6 }}\r\n                    />\r\n                }\r\n            />\r\n            <Skeleton sx={{ height: 190 }} animation=\"wave\" variant=\"rectangular\" />\r\n            <CardContent>\r\n                <>\r\n                    <Skeleton animation=\"wave\" height={10} style={{ marginBottom: 6 }} />\r\n                    <Skeleton animation=\"wave\" height={10} width=\"80%\" />\r\n                </>\r\n            </CardContent>\r\n            <CardActions>\r\n                <>\r\n                    <Skeleton animation=\"wave\" height={10} width='40%' />\r\n                    <Skeleton animation=\"wave\" height={10} width=\"20%\" />\r\n                </>\r\n            </CardActions>\r\n        </Grid>\r\n    )\r\n}","import { Grid } from \"@mui/material\";\r\nimport { Product } from \"../../app/models/product\";\r\nimport { useAppSelector } from \"../../app/store/configureStore\";\r\nimport ProductCard from \"./ProductCard\";\r\nimport ProductCardSkeleton from \"./ProductCardSkeleton\"\r\n\r\ninterface Props {\r\n    products: Product[];\r\n}\r\n\r\nexport default function ProductList({products}: Props) {\r\n    const {productsLoaded} = useAppSelector(state => state.catalog);\r\n    return(\r\n        <Grid\r\n            container\r\n            spacing={4}\r\n            marginBottom='20px'\r\n        >\r\n            {products.map((product, key) => (\r\n                <Grid item xs={12} sm={4} md={3} lg={3} key={key}>\r\n                    {!productsLoaded ? (\r\n                        <ProductCardSkeleton/>\r\n                    ) : (\r\n                        <ProductCard product={product} />\r\n                    )}\r\n                </Grid>\r\n            ))}\r\n        </Grid>\r\n    )\r\n}","import { debounce, TextField } from \"@mui/material\";\r\nimport { useState } from \"react\";\r\nimport { useAppDispatch, useAppSelector } from \"../../app/store/configureStore\";\r\nimport { setProductParams } from \"./catalogSlice\";\r\n\r\nexport default function ProductSearch() {\r\n    const {productParams} = useAppSelector(state => state.catalog);\r\n    const [searchTerm, setSearchTerm] = useState(productParams.searchTerm);\r\n    const dispatch = useAppDispatch();\r\n\r\n    const debouncedSearch = debounce((event: any) => {\r\n        dispatch(setProductParams({searchTerm: event.target.value}))\r\n    }, 1000)\r\n\r\n    return (\r\n        <TextField\r\n            label='Search products'\r\n            variant='outlined'\r\n            fullWidth\r\n            value={searchTerm || ''}\r\n            onChange={(event: any) => {\r\n                setSearchTerm(event.target.value);\r\n                debouncedSearch(event);\r\n            }}\r\n          />\r\n    )\r\n}","import { FormControl, FormLabel, RadioGroup, FormControlLabel, Radio } from \"@mui/material\";\r\n\r\ninterface Props {\r\n    options: any[];\r\n    onChange: (event: any) => void;\r\n    selectedValue: string;\r\n}\r\n\r\nexport default function RadioButtonGroup({options, onChange, selectedValue}: Props) {\r\n    return (\r\n        <FormControl>\r\n            <FormLabel id=\"demo-radio-buttons-group-label\">Order by</FormLabel>\r\n            <RadioGroup onChange={onChange} value={selectedValue}>\r\n              {options.map(({value, label}) => (\r\n                <FormControlLabel value={value} control={<Radio />} label={label} key={value} />\r\n              ))}\r\n            </RadioGroup>\r\n          </FormControl>\r\n    )\r\n}","import { FormGroup, FormControlLabel, Checkbox } from \"@mui/material\";\r\nimport { useState } from \"react\";\r\n\r\ninterface Props {\r\n    items: string[];\r\n    checked: string[];\r\n    onChange: (items: string[]) => void;\r\n}\r\n\r\nexport default function CheckboxButtons({items, checked, onChange}: Props) {\r\n    const [checkedItems, setCheckedItems] = useState(checked || [])\r\n\r\n    function handleChecked(value: string) {\r\n        const currentIndex = checkedItems.findIndex(item => item === value);\r\n        let newChecked: string[] = [];\r\n        if (currentIndex === -1) newChecked = [...checkedItems, value];\r\n        else newChecked = checkedItems.filter(item => item !== value);\r\n        setCheckedItems(newChecked);\r\n        onChange(newChecked);\r\n    }\r\n\r\n    return (\r\n        <FormGroup>\r\n            {items.map(item => (\r\n              <FormControlLabel \r\n                control={<Checkbox \r\n                    checked={checkedItems.indexOf(item) !== -1}\r\n                    onClick={() => handleChecked(item)} \r\n                />} \r\n                label={item} \r\n                key={item} />\r\n            ))}\r\n          </FormGroup>\r\n    )\r\n}","import { Box, Typography, Pagination } from \"@mui/material\";\r\nimport { MetaData } from \"../models/pagination\";\r\n\r\ninterface Props {\r\n    metaData: MetaData;\r\n    onPageChange: (page: number) => void;\r\n}\r\n\r\nexport default function AppPagination({metaData, onPageChange}: Props) {\r\n    const {currentPage, totalCount, totalPages, pageSize} = metaData;\r\n    return (\r\n        <Box display='flex' justifyContent='space-between' alignItems='center'>\r\n          <Typography>\r\n            Displaying {(currentPage-1)*pageSize+1}-{currentPage*pageSize > totalCount \r\n                ? totalCount \r\n                : currentPage*pageSize} of {totalCount} items\r\n          </Typography>\r\n          <Pagination\r\n            color='secondary'\r\n            size='large'\r\n            count={totalPages}\r\n            page={currentPage}\r\n            onChange={(e, page) => onPageChange(page)}\r\n          />\r\n        </Box>\r\n    )\r\n}","import { Backdrop, Box, Typography, CircularProgress } from \"@mui/material\";\r\n\r\ninterface Props {\r\n    message?: string;\r\n}\r\n\r\nexport default function LoadingComponent({message = 'Loading...'}: Props) {\r\n    return (\r\n        <Backdrop open={true} invisible={true}>\r\n            <Box display='flex' justifyContent='center' alignItems='center' height='100vh'>\r\n                <CircularProgress size={100} color='primary' />\r\n                <Typography variant='h4' sx={{justifyContent: 'center', position: 'fixed', top: '60%'}}>{message}</Typography>\r\n            </Box>\r\n        </Backdrop>\r\n    )\r\n}","import { useEffect } from \"react\";\r\nimport ProductList from \"./ProductList\";\r\nimport { useAppDispatch, useAppSelector } from \"../../app/store/configureStore\";\r\nimport { fetchFiltersAsync, fetchProductsAsync, productSelectors, setPageNumber, setProductParams } from \"./catalogSlice\";\r\nimport { Grid, Paper } from \"@mui/material\";\r\nimport ProductSearch from \"./ProductSearch\";\r\nimport RadioButtonGroup from \"../../app/components/RadioButtonGroup\";\r\nimport CheckboxButtons from \"../../app/components/CheckboxButtons\";\r\nimport AppPagination from \"../../app/components/AppPagination\";\r\nimport LoadingComponent from \"../../app/layout/LoadingComponent\";\r\n\r\nconst sortOptions = [\r\n  {value: 'name', label: 'Alphabetical'},\r\n  {value: 'priceDesc', label: 'Price - High to low'},\r\n  {value: 'price', label: 'Price - Low to high'},\r\n]\r\n\r\nexport default function Catalog() {\r\n    const products = useAppSelector(productSelectors.selectAll);\r\n    const dispatch = useAppDispatch();\r\n    const {productsLoaded, filtersLoaded, brands, types, productParams, metaData} = useAppSelector(state => state.catalog);\r\n\r\n    useEffect(() => {\r\n      if (!productsLoaded) dispatch(fetchProductsAsync());\r\n    }, [productsLoaded, dispatch])\r\n\r\n    useEffect(() => {\r\n      if (!filtersLoaded) dispatch(fetchFiltersAsync());\r\n    }, [filtersLoaded, dispatch])\r\n\r\n    if (!filtersLoaded) return <LoadingComponent message='Loading products...'/>  \r\n\r\n    return (\r\n    <Grid \r\n      container\r\n      spacing={4}\r\n      columnSpacing={4}\r\n    >\r\n      <Grid item xs={3}>\r\n        <Paper sx={{mb: 2}}>\r\n          <ProductSearch/>        \r\n        </Paper>\r\n        <Paper sx={{mb: 2, p: 2}}>\r\n          <RadioButtonGroup\r\n            selectedValue={productParams.orderBy}\r\n            options={sortOptions}\r\n            onChange={(e) => dispatch(setProductParams({orderBy: e.target.value}))}\r\n          />\r\n        </Paper>\r\n        <Paper sx={{mb: 2, p: 2}}>\r\n          <CheckboxButtons\r\n            items={brands}\r\n            checked={productParams.brands!}\r\n            onChange={(items: string[]) => dispatch(setProductParams({brands: items}))}\r\n          />\r\n        </Paper>\r\n        <Paper sx={{mb: 2, p: 2}}>\r\n          <CheckboxButtons\r\n            items={types}\r\n            checked={productParams.types!}\r\n            onChange={(items: string[]) => dispatch(setProductParams({types: items}))}\r\n          />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={9}>\r\n        <ProductList products={products}/>\r\n      </Grid>\r\n      <Grid item xs={3} />\r\n      <Grid item xs={8} sx={{mb: 2}}>\r\n        {metaData &&\r\n        <AppPagination\r\n          metaData={metaData}\r\n          onPageChange={(page: number) => dispatch(setPageNumber({pageNumber: page}))}\r\n        />}\r\n      </Grid>\r\n    </Grid>\r\n    )\r\n}","import { Typography } from \"@mui/material\";\r\n\r\nexport default function HomePage() {\r\n    return (\r\n        <Typography variant='h2'>\r\n            Home page\r\n        </Typography>\r\n    )\r\n}","import { Container, Paper, Typography, Divider, Button } from \"@mui/material\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function NotFound() {\r\n    return (\r\n        <Container component={Paper}>\r\n            <Typography gutterBottom variant='h3'>Can't seem to find this item</Typography>\r\n            <Divider />\r\n            <Button fullWidth component={Link} to='/catalog'>Go back to shop</Button>\r\n        </Container>\r\n    )\r\n}","import { LoadingButton } from \"@mui/lab\";\r\nimport { Grid, Typography, Divider, TableContainer, TableRow, TableCell, TableBody, TextField } from \"@mui/material\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport NotFound from \"../../app/errors/NotFound\";\r\nimport LoadingComponent from \"../../app/layout/LoadingComponent\";\r\nimport { useAppDispatch, useAppSelector } from \"../../app/store/configureStore\";\r\nimport { addBasketItemAsync, removeBasketItemAsync } from \"../basket/basketSlice\";\r\nimport { fetchProductAsync, productSelectors } from \"./catalogSlice\";\r\n\r\nexport default function ProductDetails() {\r\n    const {basket, status} = useAppSelector(state => state.basket);\r\n    const dispatch = useAppDispatch();\r\n    const {id} = useParams() as {id: string};\r\n    const product = useAppSelector(state => productSelectors.selectById(state, id));\r\n    const {status: productStatus} = useAppSelector(state => state.catalog);\r\n    const [quantity, setQuantity] = useState(0);\r\n    const item = basket?.items.find(i => i.productId === product?.id)\r\n\r\n    useEffect(() => {\r\n        if (item) setQuantity(item.quantity);\r\n        if (!product) dispatch(fetchProductAsync(parseInt(id)));\r\n    }, [id, item, dispatch, product])\r\n\r\n    function handleInputChange(event: any) {\r\n        event.target.value > 0 &&\r\n            setQuantity(parseInt(event.target.value));\r\n    }\r\n\r\n    function handleUpdateCart() {\r\n        if (!item || quantity > item.quantity) {\r\n            const updatedQuantity = item ? quantity - item.quantity : quantity;\r\n            dispatch(addBasketItemAsync({productId: product?.id!, quantity: updatedQuantity}))\r\n        } else {\r\n            const updatedQuantity = item.quantity - quantity;\r\n            dispatch(removeBasketItemAsync({productId: product?.id!, quantity: updatedQuantity}))\r\n        }\r\n    }\r\n\r\n    if (productStatus.includes('pending')) return <LoadingComponent message='Loading product...'/>\r\n \r\n    if (!product) return <NotFound />\r\n\r\n    return (\r\n        <Grid \r\n            container \r\n            spacing={6}\r\n            alignItems=\"center\"\r\n            justifyContent=\"center\"\r\n            marginBottom='20px'\r\n        >\r\n            <Grid item xs={10} sm={6} md={6} lg={6}>\r\n                <img src={product.pictureUrl} alt={product.name} style={{width: '100%'}} />\r\n            </Grid>\r\n            <Grid item xs={16} sm={6} md={6} lg={6}>\r\n                <Typography variant='h3'>{product.name}</Typography>\r\n                <Divider sx={{mb: 2}}/>\r\n                <Typography variant='h4' color='secondary'>${(product.price / 100).toFixed(2)}</Typography>\r\n                <TableContainer>\r\n                    <TableBody>\r\n                        <TableRow>\r\n                            <TableCell>Name</TableCell>\r\n                            <TableCell>{product.name}</TableCell>\r\n                        </TableRow>\r\n                        <TableRow>\r\n                            <TableCell>Description</TableCell>\r\n                            <TableCell>{product.description}</TableCell>\r\n                        </TableRow>\r\n                        <TableRow>\r\n                            <TableCell>Type</TableCell>\r\n                            <TableCell>{product.type}</TableCell>\r\n                        </TableRow>\r\n                        <TableRow>\r\n                            <TableCell>Brand</TableCell>\r\n                            <TableCell>{product.brand}</TableCell>\r\n                        </TableRow>\r\n                        <TableRow>\r\n                            <TableCell>Quantity in stock</TableCell>\r\n                            <TableCell>{product.quantityInStock}</TableCell>\r\n                        </TableRow>\r\n                    </TableBody>\r\n                </TableContainer>\r\n                <Grid container spacing={2}>\r\n                    <Grid item xs={6}>\r\n                        <TextField\r\n                            onChange={handleInputChange}\r\n                            variant='outlined'\r\n                            type='number'\r\n                            label='Quantity in Cart'\r\n                            fullWidth\r\n                            value={quantity}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={6}>\r\n                        <LoadingButton\r\n                            disabled={item?.quantity === quantity}\r\n                            loading={status.includes('pending')}\r\n                            onClick={handleUpdateCart}\r\n                            sx={{height: '55px'}}\r\n                            color='primary'\r\n                            size='large'\r\n                            variant='contained'\r\n                            fullWidth\r\n                        >\r\n                            {item ? 'Update Quantity' : 'Add to Cart'}\r\n                        </LoadingButton>\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}","import { Alert, AlertTitle, Button, ButtonGroup, List, ListItem, ListItemText, Typography, Grid } from \"@mui/material\";\r\nimport { useState } from \"react\";\r\nimport agent from \"../../app/api/agent\";\r\n\r\nexport default function AboutPage() {\r\n    const [validationErrors, setValidationErrors] = useState<string[]>([]);\r\n\r\n    function getValidationError() {\r\n        agent.TestErrors.getValidationError()\r\n            .then(() => console.log('should not see this'))\r\n            .catch(error => setValidationErrors(error))\r\n\r\n    }\r\n    return (\r\n        <Grid \r\n            container\r\n            spacing={0}\r\n            direction=\"column\"\r\n            alignItems=\"center\"\r\n            justifyContent=\"center\"\r\n            marginBottom='20px'\r\n        >\r\n            <Typography gutterBottom variant='h6'>\r\n                Since this is a portfolio project, I've taken the liberty of making this page an error testing page so have some buttons :)\r\n            </Typography>\r\n\r\n            <ButtonGroup style={{flexWrap: 'wrap', textAlign: 'center', display: 'inline-block'}}>\r\n                <Button variant='contained' onClick={() => agent.TestErrors.get400Error().catch(error => console.log(error))}>Test 400 Error</Button>\r\n                <Button variant='contained' onClick={() => agent.TestErrors.get401Error().catch(error => console.log(error))}>Test 401 Error</Button>\r\n                <Button variant='contained' onClick={() => agent.TestErrors.get404Error().catch(error => console.log(error))}>Test 404 Error</Button>\r\n                <Button variant='contained' onClick={() => agent.TestErrors.get500Error().catch(error => console.log(error))}>Test 500 Error</Button>\r\n                <Button variant='contained' onClick={getValidationError}> Test Validation Error</Button>\r\n            </ButtonGroup>\r\n\r\n            {validationErrors.length > 0 && \r\n                <Alert severity='error'>\r\n                    <AlertTitle>Validation Errors</AlertTitle>\r\n                    <List>\r\n                        {validationErrors.map(error => (\r\n                            <ListItem key={error}>\r\n                                <ListItemText>{error}</ListItemText>\r\n                            </ListItem>\r\n                        ))}\r\n                    </List>\r\n                </Alert>\r\n            }\r\n        </Grid>\r\n    )\r\n}","import { Button, ButtonGroup, Typography } from \"@mui/material\";\r\nimport { useAppDispatch, useAppSelector } from \"../../app/store/configureStore\";\r\nimport { decrement, increment } from \"./counterSlice\";\r\n\r\nexport default function ContactPage() {\r\n    const dispatch = useAppDispatch();\r\n    const {data, title} = useAppSelector(state => state.counter);\r\n    return (\r\n        <>\r\n            <Typography variant='h2'>\r\n                {title}\r\n            </Typography>\r\n            <Typography variant='h5'>\r\n                Data is: {data}\r\n            </Typography>\r\n            <ButtonGroup>\r\n                <Button onClick={() => dispatch(decrement(1))} variant='contained' color='error'>Decrement</Button>\r\n                <Button onClick={() => dispatch(increment(1))} variant='contained' color='error'>Increment</Button>\r\n            </ButtonGroup>\r\n        </>\r\n    )\r\n}","import { styled, Switch } from \"@mui/material\";\r\nexport const MaterialUISwitch = styled(Switch)(({ theme }) => ({\r\n    width: 62,\r\n    height: 34,\r\n    padding: 7,\r\n    '& .MuiSwitch-switchBase': {\r\n      margin: 1,\r\n      padding: 0,\r\n      transform: 'translateX(6px)',\r\n      '&.Mui-checked': {\r\n        color: '#fff',\r\n        transform: 'translateX(22px)',\r\n        '& .MuiSwitch-thumb:before': {\r\n          backgroundImage: `url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"20\" width=\"20\" viewBox=\"0 0 20 20\"><path fill=\"${encodeURIComponent(\r\n            '#fff',\r\n          )}\" d=\"M4.2 2.5l-.7 1.8-1.8.7 1.8.7.7 1.8.6-1.8L6.7 5l-1.9-.7-.6-1.8zm15 8.3a6.7 6.7 0 11-6.6-6.6 5.8 5.8 0 006.6 6.6z\"/></svg>')`,\r\n        },\r\n        '& + .MuiSwitch-track': {\r\n          opacity: 1,\r\n          backgroundColor: theme.palette.mode === 'dark' ? '#8796A5' : '#aab4be',\r\n        },\r\n      },\r\n    },\r\n    '& .MuiSwitch-thumb': {\r\n      backgroundColor: theme.palette.mode === 'dark' ? '#003892' : '#001e3c',\r\n      width: 32,\r\n      height: 32,\r\n      '&:before': {\r\n        content: \"''\",\r\n        position: 'absolute',\r\n        width: '100%',\r\n        height: '100%',\r\n        left: 0,\r\n        top: 0,\r\n        backgroundRepeat: 'no-repeat',\r\n        backgroundPosition: 'center',\r\n        backgroundImage: `url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"20\" width=\"20\" viewBox=\"0 0 20 20\"><path fill=\"${encodeURIComponent(\r\n          '#fff',\r\n        )}\" d=\"M9.305 1.667V3.75h1.389V1.667h-1.39zm-4.707 1.95l-.982.982L5.09 6.072l.982-.982-1.473-1.473zm10.802 0L13.927 5.09l.982.982 1.473-1.473-.982-.982zM10 5.139a4.872 4.872 0 00-4.862 4.86A4.872 4.872 0 0010 14.862 4.872 4.872 0 0014.86 10 4.872 4.872 0 0010 5.139zm0 1.389A3.462 3.462 0 0113.471 10a3.462 3.462 0 01-3.473 3.472A3.462 3.462 0 016.527 10 3.462 3.462 0 0110 6.528zM1.665 9.305v1.39h2.083v-1.39H1.666zm14.583 0v1.39h2.084v-1.39h-2.084zM5.09 13.928L3.616 15.4l.982.982 1.473-1.473-.982-.982zm9.82 0l-.982.982 1.473 1.473.982-.982-1.473-1.473zM9.305 16.25v2.083h1.389V16.25h-1.39z\"/></svg>')`,\r\n      },\r\n    },\r\n    '& .MuiSwitch-track': {\r\n      opacity: 1,\r\n      backgroundColor: theme.palette.mode === 'dark' ? '#8796A5' : '#aab4be',\r\n      borderRadius: 20 / 2,\r\n    },\r\n  }));","import { ShoppingCart } from \"@mui/icons-material\";\r\nimport { AppBar, Badge, Box, IconButton, List, ListItem, Menu, MenuItem, Toolbar, Tooltip, Typography } from \"@mui/material\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { MaterialUISwitch } from \"./DarkModeSwitch\";\r\nimport { useTheme } from '@mui/material/styles';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport { useState } from \"react\";\r\nimport LoginIcon from '@mui/icons-material/Login';\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport { Link } from \"react-router-dom\";\r\nimport { useAppSelector } from \"../store/configureStore\";\r\n\r\ninterface Props {\r\n    darkMode: boolean;\r\n    handleThemeChange: () => void;\r\n}\r\n\r\nconst midLinks = [\r\n  {title: 'Catalog', path: '/catalog'},\r\n  {title: 'About', path: '/about'},\r\n  {title: 'Contact', path: '/contact'}\r\n]\r\n\r\nconst rightLinks = [\r\n  {title: 'Login', path: '/login'},\r\n  {title: 'Register', path: '/register'}\r\n]\r\n\r\nconst navStyles = {\r\n  color: 'inherit',\r\n  textDecoration: 'none',\r\n  typography: 'h5',\r\n  '&:hover': {\r\n      color:'grey.500'\r\n  },\r\n  '&.active':{\r\n      color: 'text.secondary'\r\n  }\r\n}\r\n\r\nexport default function Header({darkMode, handleThemeChange}: Props) {\r\n  const {basket} = useAppSelector(state => state.basket);\r\n  const itemCount = basket?.items.reduce((sum, item) => sum + item.quantity, 0);\r\n\r\n  const [anchorElNav, setAnchorElNav] = useState(null);\r\n  const [anchorElUser, setAnchorElUser] = useState(null);\r\n  \r\n  const handleOpenNavMenu = (event: any) => {\r\n    setAnchorElNav(event.currentTarget);\r\n  };\r\n\r\n  const handleOpenUserMenu = (event: any) => {\r\n    setAnchorElUser(event.currentTarget);\r\n  };\r\n\r\n  const handleCloseNavMenu = () => {\r\n    setAnchorElNav(null);\r\n  };\r\n\r\n  const handleCloseUserMenu = () => {\r\n    setAnchorElUser(null);\r\n  };\r\n\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n    return (\r\n      <Box sx={{ flexGrow: 1 }}>\r\n        <AppBar position='static' sx={{mb: 4}}>\r\n            <Toolbar sx={{display: 'flex', justifyContent: 'space-between', alignItems: 'center'}}>\r\n              {isMobile ? (\r\n              <>\r\n              <Box sx={{ flexGrow: 1, display: 'flex', alignItems: 'center' }}>\r\n                <IconButton\r\n                  size=\"large\"\r\n                  aria-label=\"account of current user\"\r\n                  aria-controls=\"menu-appbar\"\r\n                  aria-haspopup=\"true\"\r\n                  onClick={handleOpenNavMenu}\r\n                  color=\"inherit\"\r\n                >\r\n                  <MenuIcon />\r\n                </IconButton>\r\n                <Menu\r\n                  id=\"menu-appbar\"\r\n                  anchorEl={anchorElNav}\r\n                  anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'left',\r\n                  }}\r\n                  keepMounted\r\n                  transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'left',\r\n                  }}\r\n                  open={Boolean(anchorElNav)}\r\n                  onClose={handleCloseNavMenu}\r\n                  sx={{\r\n                    display: { xs: 'block', md: 'none' },\r\n                  }}\r\n                >\r\n                  <List sx={{display: 'block'}}>\r\n                      {midLinks.map(({title, path}) => (\r\n                        <ListItem\r\n                          component={NavLink}\r\n                          to={path}\r\n                          key={path}\r\n                          sx={navStyles}                      \r\n                        >\r\n                          {title}\r\n                        </ListItem>\r\n                      ))}\r\n                  </List>\r\n                </Menu>\r\n                <Typography \r\n                    variant='h6' \r\n                    component={NavLink} \r\n                    to='/' \r\n                    sx={navStyles}\r\n                  >\r\n                      JStore\r\n                  </Typography>\r\n                <MaterialUISwitch \r\n                  checked={darkMode} \r\n                  onChange={handleThemeChange}\r\n                />\r\n              </Box>\r\n\r\n              <Box display='flex' alignItems='center'>\r\n                \r\n              </Box>\r\n\r\n              <Box display='flex' alignItems='center'>\r\n                  <IconButton component={Link} to='/basket' size='large' sx={{color: 'inherit'}}>\r\n                    <Badge badgeContent={itemCount} color='secondary'>\r\n                      <ShoppingCart />                  \r\n                    </Badge>\r\n                  </IconButton>\r\n                  <Tooltip title=\"Connect\">\r\n                  <IconButton onClick={handleOpenUserMenu} sx={{color: 'inherit'}}>\r\n                    <LoginIcon />\r\n                  </IconButton>\r\n                </Tooltip>\r\n                <Menu\r\n                  sx={{ mt: '45px' }}\r\n                  id=\"menu-appbar\"\r\n                  anchorEl={anchorElUser}\r\n                  anchorOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                  }}\r\n                  keepMounted\r\n                  transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                  }}\r\n                  open={Boolean(anchorElUser)}\r\n                  onClose={handleCloseUserMenu}\r\n                >\r\n                  <MenuItem onClick={handleCloseNavMenu}>\r\n                    <List sx={{display: 'block'}}>\r\n                      {rightLinks.map(({title, path}) => (\r\n                        <ListItem\r\n                          component={NavLink}\r\n                          to={path}\r\n                          key={path}\r\n                          sx={navStyles}                      \r\n                        >\r\n                          {title}\r\n                        </ListItem>\r\n                      ))}\r\n                    </List>\r\n                  </MenuItem>\r\n                </Menu>\r\n              </Box>\r\n              </>\r\n              ) : (\r\n              <>\r\n              <Box display='flex' alignItems='center'>\r\n                <Typography \r\n                    variant='h6' \r\n                    component={NavLink} \r\n                    to='/' \r\n                    sx={navStyles}\r\n                  >\r\n                      JStore\r\n                  </Typography>\r\n                  <MaterialUISwitch \r\n                    checked={darkMode} \r\n                    onChange={handleThemeChange}\r\n                  />\r\n              </Box>\r\n\r\n              <List sx={{display: 'flex'}}>\r\n                  {midLinks.map(({title, path}) => (\r\n                    <ListItem\r\n                      component={NavLink}\r\n                      to={path}\r\n                      key={path}\r\n                      sx={navStyles}                      \r\n                    >\r\n                      {title}\r\n                    </ListItem>\r\n                  ))}\r\n              </List>  \r\n                \r\n              <Box display='flex' alignItems='center'>\r\n                  <IconButton component={Link} to='/basket' size='large' sx={{color: 'inherit'}}>\r\n                    <Badge badgeContent={itemCount} color='secondary'>\r\n                      <ShoppingCart />                  \r\n                    </Badge>\r\n                  </IconButton>\r\n                  <Tooltip title=\"Connect\">\r\n                    <IconButton onClick={handleOpenUserMenu} sx={{color: 'inherit'}}>\r\n                      <LoginIcon />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                <Menu\r\n                  sx={{ mt: '45px' }}\r\n                  id=\"menu-appbar\"\r\n                  anchorEl={anchorElUser}\r\n                  anchorOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                  }}\r\n                  keepMounted\r\n                  transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                  }}\r\n                  open={Boolean(anchorElUser)}\r\n                  onClose={handleCloseUserMenu}\r\n                >\r\n                  <MenuItem onClick={handleCloseNavMenu}>\r\n                    <List sx={{display: 'block'}}>\r\n                      {rightLinks.map(({title, path}) => (\r\n                        <ListItem\r\n                          component={NavLink}\r\n                          to={path}\r\n                          key={path}\r\n                          sx={navStyles}                      \r\n                        >\r\n                          {title}\r\n                        </ListItem>\r\n                      ))}\r\n                    </List>\r\n                  </MenuItem>\r\n                </Menu>\r\n              </Box>\r\n\r\n              </>\r\n              )}\r\n              \r\n\r\n            </Toolbar>\r\n        </AppBar>\r\n      </Box>\r\n    )\r\n}","import { Button, Container, Divider, Paper, Typography } from \"@mui/material\"\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { history } from '../..'\r\n\r\nexport default function ServerError() {\r\n    const {state} = useLocation();\r\n    return (\r\n        <Container component={Paper}>\r\n            {state?.error ? (\r\n                <>\r\n                    <Typography variant='h3' color ='error' gutterBottom>{state.error.title}</Typography>\r\n                    <Divider />\r\n                    <Typography>{state.error.detail || 'Internal server error'}</Typography>\r\n                </>\r\n            ) : (\r\n                <Typography variant='h5' gutterBottom>Server error</Typography>\r\n            )}\r\n            <Button onClick={() => history.push('/catalog')}>Go back to the store</Button>\r\n        </Container>\r\n    )\r\n}","import { Paper, Table, TableBody, TableCell, TableContainer, TableRow } from \"@mui/material\";\r\nimport { useAppSelector } from \"../../app/store/configureStore\";\r\nimport { currencyFormat } from \"../../app/util/util\";\r\n\r\nexport default function BasketSummary() {\r\n    const {basket} = useAppSelector(state => state.basket);\r\n    const subtotal = basket?.items.reduce((sum, item) => sum + item.price * item.quantity, 0) ?? 0;\r\n    const deliveryFee = subtotal/100 < 100 ? 500 : 0\r\n    \r\n    return (\r\n        <>\r\n            <TableContainer component={Paper} variant={'outlined'}>\r\n                <Table>\r\n                    <TableBody>\r\n                        <TableRow>\r\n                            <TableCell colSpan={2}>Subtotal</TableCell>\r\n                            <TableCell align=\"right\">{currencyFormat(subtotal!)}</TableCell>\r\n                        </TableRow>\r\n                        <TableRow>\r\n                            <TableCell colSpan={2}>Delivery fee*</TableCell>\r\n                            <TableCell align=\"right\">{currencyFormat(deliveryFee)}</TableCell>\r\n                        </TableRow>\r\n                        <TableRow>\r\n                            <TableCell colSpan={2}>Total</TableCell>\r\n                            <TableCell align=\"right\">{currencyFormat(subtotal! + deliveryFee)}</TableCell>\r\n                        </TableRow>\r\n                        <TableRow>\r\n                            <TableCell>\r\n                                <span style={{fontStyle: 'italic'}}>*Orders over $100 qualify for free delivery</span>\r\n                            </TableCell>\r\n                        </TableRow>\r\n                    </TableBody>\r\n                </Table>\r\n            </TableContainer>\r\n        </>\r\n    )\r\n}","import { Add, Delete, Remove } from \"@mui/icons-material\";\r\nimport { LoadingButton } from \"@mui/lab\";\r\nimport { Grid, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Typography, Box, Button } from \"@mui/material\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useAppDispatch, useAppSelector } from \"../../app/store/configureStore\";\r\nimport { currencyFormat } from \"../../app/util/util\";\r\nimport { addBasketItemAsync, removeBasketItemAsync } from \"./basketSlice\";\r\nimport BasketSummary from \"./BasketSummary\"\r\n\r\nexport default function BasketPage() {\r\n    const {basket, status} = useAppSelector(state => state.basket);\r\n    const dispatch = useAppDispatch();\r\n    \r\n    if (!basket) return <Typography variant='h3'>Your basket is empty</Typography>\r\n\r\n    return (\r\n    <Grid\r\n        container \r\n        spacing={6}\r\n        alignItems=\"center\"\r\n        justifyContent=\"center\"\r\n        marginBottom='20px'\r\n    >\r\n        <Grid item xs={10} sm={8} md={9} lg={10}>\r\n            <TableContainer component={Paper}>\r\n                <Table sx={{ minWidth: 650 }}>\r\n                    <TableHead>\r\n                    <TableRow>\r\n                        <TableCell>Product</TableCell>\r\n                        <TableCell align=\"left\">Price</TableCell>\r\n                        <TableCell align=\"left\">Quantity</TableCell>\r\n                        <TableCell align=\"left\">Subtotal</TableCell>\r\n                        <TableCell></TableCell>\r\n                    </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                    {basket.items.map(item => (\r\n                        <TableRow\r\n                        key={item.productId}\r\n                        sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\r\n                        >\r\n                        <TableCell component=\"th\" scope=\"row\">\r\n                            <Box display='flex' alignItems='center'>\r\n                                <img src={item.pictureUrl} alt={item.name} style={{height: 50, marginRight: 20}} />\r\n                                <span>{item.name}</span>\r\n                            </Box>\r\n                        </TableCell>\r\n                        <TableCell align=\"left\">{currencyFormat(item.price)}</TableCell>\r\n                        <TableCell align=\"left\">\r\n                            <LoadingButton \r\n                                loading={status === 'pendingAddItem' + item.productId} \r\n                                onClick={() => dispatch(addBasketItemAsync({productId: item.productId}))} \r\n                                color='success'\r\n                            >\r\n                                <Add />\r\n                            </LoadingButton>\r\n                                {item.quantity}\r\n                            <LoadingButton \r\n                                loading={status === 'pendingRemoveItem' + item.productId + 'rem'} \r\n                                onClick={() => dispatch(removeBasketItemAsync({productId: item.productId, quantity: 1, name: 'rem'}))} \r\n                                color='error'\r\n                            >\r\n                                <Remove />\r\n                            </LoadingButton>\r\n                        </TableCell>\r\n                        <TableCell align=\"left\">{currencyFormat(item.price * item.quantity)}</TableCell>\r\n                        <TableCell align=\"left\">\r\n                            <LoadingButton \r\n                                loading={status === 'pendingRemoveItem' + item.productId + 'del'}\r\n                                onClick={() => dispatch(removeBasketItemAsync({\r\n                                    productId: item.productId, quantity: item.quantity, name: 'del'\r\n                                }))} \r\n                                color='error'\r\n                            >\r\n                                <Delete/>\r\n                            </LoadingButton>\r\n                        </TableCell>\r\n                        </TableRow>\r\n                    ))}\r\n                    </TableBody>\r\n                </Table>\r\n            </TableContainer>\r\n            <Grid item xs={10} sm={9} md={7} lg={7}>\r\n                <BasketSummary />\r\n                <Button\r\n                    component={Link}\r\n                    to='/checkout'\r\n                    variant='contained'\r\n                    size='large'\r\n                    fullWidth\r\n                >\r\n                    Checkout\r\n                </Button>\r\n            </Grid>\r\n        </Grid>\r\n    </Grid>\r\n    )\r\n}","import { Typography } from \"@mui/material\"\r\nexport default function CheckoutPage() {\r\n    return (\r\n        <Typography variant='h3'>\r\n            Only logged in users should be able to see this!\r\n        </Typography>\r\n    )\r\n}","import Catalog from \"../../features/catalog/Catalog\";\nimport HomePage from \"../../features/home/HomePage\";\nimport ProductDetails from \"../../features/catalog/ProductDetails\";\nimport AboutPage from \"../../features/about/AboutPage\";\nimport ContactPage from \"../../features/contact/ContactPage\";\nimport Header from \"./Header\";\nimport { Container, CssBaseline } from \"@mui/material\";\nimport { ThemeProvider, createTheme } from \"@mui/material/styles\";\nimport { useEffect, useState } from \"react\";\nimport { Route, Routes } from \"react-router-dom\";\nimport { ToastContainer } from \"react-toastify\";\nimport 'react-toastify/dist/ReactToastify.css';\nimport ServerError from \"../errors/ServerError\";\nimport NotFound from \"../errors/NotFound\";\nimport BasketPage from \"../../features/basket/BasketPage\";\nimport { getCookie } from \"../util/util\";\nimport agent from \"../../app/api/agent\";\nimport LoadingComponent from \"./LoadingComponent\";\nimport CheckoutPage from \"../../features/checkout/CheckoutPage\";\nimport { useAppDispatch } from \"../store/configureStore\";\nimport { setBasket } from \"../../features/basket/basketSlice\";\n\nfunction App() {\n  const dispatch = useAppDispatch();\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const buyerId = getCookie('buyerId');\n    if (buyerId) {\n      agent.Basket.get()\n        .then(basket => dispatch(setBasket(basket)))\n        .catch(error => console.log(error))\n        .finally(() => setLoading(false));\n    } else {\n      setLoading(false);\n    }\n  }, [dispatch])\n\n  const [darkMode, setDarkMode] = useState(false);\n  const paletteType = darkMode ? 'dark' : 'light';\n  const theme = createTheme({\n    palette: {\n      mode: paletteType,\n      background: {\n        default: paletteType === 'light' ? '#eaeaea' : '#121212'\n      }\n    }\n  })\n\n  function handleThemeChange() {\n    setDarkMode(!darkMode);\n  }\n\n  if (loading) return <LoadingComponent message=\"Initialising app...\"></LoadingComponent>\n\n  return (\n    <ThemeProvider theme={theme}>\n      <ToastContainer theme='colored' position='bottom-right' hideProgressBar/>\n      <CssBaseline />\n      <Header darkMode={darkMode} handleThemeChange={handleThemeChange}/>\n      <Container>\n        <Routes>\n          <Route path='/' element={<HomePage/>}/>\n          <Route path='/catalog' element={<Catalog/>}/>\n          <Route path='/catalog/:id' element={<ProductDetails/>}/>\n          <Route path='/about' element={<AboutPage/>}/>\n          <Route path='/contact' element={<ContactPage/>}/>\n          <Route path='/server-error' element={<ServerError/>}/>\n          <Route path='/not-found' element={<NotFound/>}/>\n          <Route path='/basket' element={<BasketPage/>}></Route>\n          <Route path='/checkout' element={<CheckoutPage/>}></Route>\n        </Routes>\n      </Container>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, { FC, useLayoutEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport './app/layout/styles.css';\nimport App from './app/layout/App';\nimport reportWebVitals from './reportWebVitals';\nimport { Router } from 'react-router-dom';\nimport { createBrowserHistory, BrowserHistory } from 'history';\nimport { Provider } from 'react-redux';\nimport { store } from \"./app/store/configureStore\";\n\ninterface Props {\n  history: BrowserHistory\n}\n\nexport const history = createBrowserHistory();\nconst CustomRouter: FC<Props> = ({ history, ...props }) => {\n  const [state, setState] = useState({\n    action: history.action,\n    location: history.location\n  });\n\n  useLayoutEffect(() => history.listen(setState), [history]);\n\n  return (\n    <Router\n      {...props}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n    />\n  );\n};\n\nReactDOM.render(\n  <React.StrictMode>\n    <CustomRouter history={history}>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </CustomRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}