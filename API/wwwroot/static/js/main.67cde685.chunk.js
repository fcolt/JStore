(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{221:function(e,t,n){},367:function(e,t,n){"use strict";n.r(t),n.d(t,"history",(function(){return gn}));var r=n(16),a=n(11),c=n(96),i=n(1),o=n.n(i),s=n(41),l=n.n(s),d=(n(221),n(451)),u=n(28),j=n(98),b=Object(u.d)({name:"counter",initialState:{data:42,title:"yet another redux counter with redux toolkit"},reducers:{increment:function(e,t){e.data+=t.payload},decrement:function(e,t){e.data-=t.payload}}}),h=b.actions,p=h.increment,x=h.decrement,O=n(15),m=n.n(O),g=n(23),f=n(50),v=n.n(f),y=n(67),k=n(21),w=function e(t,n){Object(k.a)(this,e),this.items=void 0,this.metaData=void 0,this.items=t,this.metaData=n};v.a.defaults.baseURL="/api/",v.a.defaults.withCredentials=!0;var C=function(e){return e.data};v.a.interceptors.response.use(function(){var e=Object(g.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=3;break;case 3:if(!(n=t.headers.pagination)){e.next=7;break}return t.data=new w(t.data,JSON.parse(n)),e.abrupt("return",t);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){var t=e.response,n=t.data;switch(t.status){case 400:if(n.errors){var r=[];for(var a in n.errors)n.errors[a]&&r.push(n.errors[a]);throw r.flat()}y.b.error(n.title);break;case 401:y.b.error(n.title);break;case 404:gn.push("/not-found");break;case 500:gn.push("/server-error",{error:n})}return Promise.reject(e.response)}));var I=function(e,t){return v.a.get(e,{params:t}).then(C)},S=function(e,t){return v.a.post(e,t).then(C)},P=function(e){return v.a.delete(e).then(C)},B=function(e,t){return v.a.post(e,t,{headers:{"Content-type":"multipart/form-data"}}).then(C)},q=function(e,t){return v.a.put(e,t,{headers:{"Content-type":"multipart/form-data"}}).then(C)};function T(e){var t=new FormData;for(var n in e)t.append(n,e[n]);return t}var z={get:function(){return I("basket")},addItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return S("basket?productId=".concat(e,"&quantity=").concat(t),{})},removeItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return P("basket?productId=".concat(e,"&quantity=").concat(t))}},L={Catalog:{list:function(e){return I("products",e)},details:function(e){return I("products/".concat(e))},fetchFilters:function(){return I("products/filters")}},TestErrors:{get400Error:function(){return I("buggy/bad-request")},get401Error:function(){return I("buggy/unauthorized")},get404Error:function(){return I("buggy/not-found")},get500Error:function(){return I("buggy/server-error")},getValidationError:function(){return I("buggy/validation-error")}},Basket:z,Account:{login:function(e){return S("account/login",e)},register:function(e){return S("account/register",e)},currentUser:function(){return I("account/currentUser")}},Admin:{createProduct:function(e){return B("products",T(e))},updateProduct:function(e){return q("products",T(e))},deleteProduct:function(e){return P("products/".concat(e))}}},E=Object(u.b)("basket/addBasketItemAsync",function(){var e=Object(g.a)(m.a.mark((function e(t,n){var r,a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.productId,a=t.quantity,c=void 0===a?1:a,e.prev=1,e.next=4,L.Basket.addItem(r,c);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",n.rejectWithValue({error:e.t0.data}));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()),D=Object(u.b)("basket/removeBasketItemAsync",function(){var e=Object(g.a)(m.a.mark((function e(t,n){var r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.productId,a=t.quantity,e.prev=1,e.next=4,L.Basket.removeItem(r,a);case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",n.rejectWithValue({error:e.t0.data}));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()),A=Object(u.d)({name:"basket",initialState:{basket:null,status:"idle"},reducers:{setBasket:function(e,t){e.basket=t.payload}},extraReducers:function(e){e.addCase(E.pending,(function(e,t){e.status="pendingAddItem"+t.meta.arg.productId})),e.addCase(E.fulfilled,(function(e,t){e.basket=t.payload,e.status="idle"})),e.addCase(E.rejected,(function(e,t){e.status="idle",console.log(t.payload)})),e.addCase(D.pending,(function(e,t){e.status="pendingRemoveItem"+t.meta.arg.productId+t.meta.arg.name})),e.addCase(D.fulfilled,(function(e,t){var n,r,a=t.meta.arg,c=a.productId,i=a.quantity,o=null===(n=e.basket)||void 0===n?void 0:n.items.findIndex((function(e){return e.productId===c}));-1!==o&&void 0!==o&&(e.basket.items[o].quantity-=i,0===(null===(r=e.basket)||void 0===r?void 0:r.items[o].quantity)&&e.basket.items.splice(o,1),e.status="idle")})),e.addCase(D.rejected,(function(e,t){e.status="idle",console.log(t.payload)}))}}),F=A.actions.setBasket,U=Object(u.c)();function W(e){var t=new URLSearchParams;return t.append("pageNumber",e.pageNumber.toString()),t.append("pageSize",e.pageSize.toString()),t.append("orderBy",e.orderBy),e.searchTerm&&t.append("searchTerm",e.searchTerm),e.brands.length>0&&t.append("brands",e.brands.toString()),e.types.length>0&&t.append("types",e.types.toString()),t}var R=Object(u.b)("catalog/fetchProductsAsync",function(){var e=Object(g.a)(m.a.mark((function e(t,n){var r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=W(n.getState().catalog.productParams),e.prev=1,e.next=4,L.Catalog.list(r);case 4:return a=e.sent,n.dispatch(G(a.metaData)),e.abrupt("return",a.items);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",n.rejectWithValue({error:e.t0.data}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),M=Object(u.b)("catalog/fetchProductAsync",function(){var e=Object(g.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.Catalog.details(t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue({error:e.t0.data}));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()),V=Object(u.b)("catalog/fetchFiltersAsync",function(){var e=Object(g.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",L.Catalog.fetchFilters());case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue({error:e.t0.data}));case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t,n){return e.apply(this,arguments)}}());var N=Object(u.d)({name:"catalog",initialState:U.getInitialState({productsLoaded:!1,filtersLoaded:!1,status:"idle",brands:[],types:[],productParams:{pageNumber:1,pageSize:8,orderBy:"name",brands:[],types:[]},metaData:null}),reducers:{setProductParams:function(e,t){e.productsLoaded=!1,e.productParams=Object(r.a)(Object(r.a)(Object(r.a)({},e.productParams),t.payload),{},{pageNumber:1})},setPageNumber:function(e,t){e.productsLoaded=!1,e.productParams=Object(r.a)(Object(r.a)({},e.productParams),t.payload)},resetProductParams:function(e){e.productParams={pageNumber:1,pageSize:8,orderBy:"name",brands:[],types:[]}},setMetaData:function(e,t){e.metaData=t.payload},setProduct:function(e,t){U.upsertOne(e,t.payload),e.productsLoaded=!1},removeProduct:function(e,t){U.removeOne(e,t.payload),e.productsLoaded=!1}},extraReducers:function(e){e.addCase(R.pending,(function(e){e.status="pendingFetchProducts"})),e.addCase(R.fulfilled,(function(e,t){U.setAll(e,t.payload),e.status="idle",e.productsLoaded=!0})),e.addCase(R.rejected,(function(e,t){e.status="idle",console.log(t.payload)})),e.addCase(M.pending,(function(e){e.status="pendingFetchProduct"})),e.addCase(M.fulfilled,(function(e,t){U.upsertOne(e,t.payload),e.status="idle"})),e.addCase(M.rejected,(function(e,t){e.status="idle",console.log(t)})),e.addCase(V.pending,(function(e){e.status="pendingFetchFilters"})),e.addCase(V.fulfilled,(function(e,t){e.brands=t.payload.brands,e.types=t.payload.types,e.filtersLoaded=!0,e.status="idle"})),e.addCase(V.rejected,(function(e,t){e.status="idle",console.log(t.payload)}))}}),J=U.getSelectors((function(e){return e.catalog})),H=N.actions,Q=H.setProductParams,G=(H.resetProductParams,H.setMetaData),_=H.setPageNumber,Y=H.setProduct,$=H.removeProduct,X=["basket"],K=["basket"],Z=Object(u.b)("account/signInUser",function(){var e=Object(g.a)(m.a.mark((function e(t,n){var r,a,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.Account.login(t);case 3:return r=e.sent,a=r.basket,i=Object(c.a)(r,X),a&&n.dispatch(F(a)),localStorage.setItem("user",JSON.stringify(i)),e.abrupt("return",i);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue({error:e.t0.data}));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()),ee=Object(u.b)("account/fetchCurrentUser",function(){var e=Object(g.a)(m.a.mark((function e(t,n){var r,a,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch(re(JSON.parse(localStorage.getItem("user")))),e.prev=1,e.next=4,L.Account.currentUser();case 4:return r=e.sent,a=r.basket,i=Object(c.a)(r,K),a&&n.dispatch(F(a)),localStorage.setItem("user",JSON.stringify(i)),e.abrupt("return",i);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",n.rejectWithValue({error:e.t0.data}));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),{condition:function(){if(!localStorage.getItem("user"))return!1}}),te=Object(u.d)({name:"account",initialState:{user:null},reducers:{signOut:function(e){e.user=null,localStorage.removeItem("user"),gn.push("/")},setUser:function(e,t){var n=JSON.parse(atob(t.payload.token.split(".")[1]))["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"];e.user=Object(r.a)(Object(r.a)({},t.payload),{},{roles:"string"===typeof n?[n]:n})}},extraReducers:function(e){e.addCase(ee.rejected,(function(e){e.user=null,localStorage.removeItem("user"),y.b.error("Session expired - please login again"),gn.push("/")})),e.addMatcher(Object(u.e)(Z.fulfilled,ee.fulfilled),(function(e,t){var n=JSON.parse(atob(t.payload.token.split(".")[1]))["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"];e.user=Object(r.a)(Object(r.a)({},t.payload),{},{roles:"string"===typeof n?[n]:n})})),e.addMatcher(Object(u.e)(Z.rejected),(function(e,t){throw t.payload}))}}),ne=te.actions,re=(ne.signOut,ne.setUser),ae=Object(u.a)({reducer:{counter:b.reducer,basket:A.reducer,catalog:N.reducer,account:te.reducer}}),ce=function(){return Object(j.b)()},ie=j.c,oe=n(440),se=n(455),le=n(457),de=n(450),ue=n(458),je=n(459),be=n(124),he=n(460),pe=n(461),xe=n(26);function Oe(e){return"$"+(e/100).toFixed(2)}var me=n(0);function ge(e){var t=e.product,n=ie((function(e){return e.basket})).status,r=ce();return Object(me.jsxs)(se.a,{children:[Object(me.jsx)(le.a,{avatar:Object(me.jsx)(de.a,{sx:{bgcolor:"secondary.main"},children:t.name.charAt(0).toUpperCase()}),title:t.name,titleTypographyProps:{sx:{fontWeight:"bold",color:"primary.main"}}}),Object(me.jsx)(ue.a,{component:"img",sx:{height:140,objectFit:"contain",bgcolor:"primary.light"},image:t.pictureUrl,alt:t.name}),Object(me.jsxs)(je.a,{children:[Object(me.jsx)(be.a,{gutterBottom:!0,color:"secondary",variant:"h5",children:Oe(t.price)}),Object(me.jsxs)(be.a,{variant:"body2",color:"text.secondary",children:[t.brand," / ",t.type]})]}),Object(me.jsxs)(he.a,{children:[Object(me.jsx)(oe.a,{loading:n.includes("pendingAddItem"+t.id),onClick:function(){return r(E({productId:t.id}))},size:"small",children:"Add to cart"}),Object(me.jsx)(pe.a,{component:xe.a,to:"/catalog/".concat(t.id),size:"small",children:"View"})]})]})}var fe=n(452);function ve(){return Object(me.jsxs)(d.a,{item:!0,xs:!0,component:se.a,children:[Object(me.jsx)(le.a,{avatar:Object(me.jsx)(fe.a,{animation:"wave",variant:"circular",width:40,height:40}),title:Object(me.jsx)(fe.a,{animation:"wave",height:10,width:"80%",style:{marginBottom:6}})}),Object(me.jsx)(fe.a,{sx:{height:190},animation:"wave",variant:"rectangular"}),Object(me.jsx)(je.a,{children:Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(fe.a,{animation:"wave",height:10,style:{marginBottom:6}}),Object(me.jsx)(fe.a,{animation:"wave",height:10,width:"80%"})]})}),Object(me.jsx)(he.a,{children:Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(fe.a,{animation:"wave",height:10,width:"40%"}),Object(me.jsx)(fe.a,{animation:"wave",height:10,width:"20%"})]})})]})}function ye(e){var t=e.products,n=ie((function(e){return e.catalog})).productsLoaded;return Object(me.jsx)(d.a,{container:!0,spacing:4,marginBottom:"20px",children:t.map((function(e,t){return Object(me.jsx)(d.a,{item:!0,xs:12,sm:4,md:3,lg:3,children:n?Object(me.jsx)(ge,{product:e}):Object(me.jsx)(ve,{})},t)}))})}var ke=n(456),we=n(111),Ce=n(463);function Ie(){var e=ie((function(e){return e.catalog})).productParams,t=Object(i.useState)(e.searchTerm),n=Object(a.a)(t,2),r=n[0],c=n[1],o=ce(),s=Object(we.a)((function(e){o(Q({searchTerm:e.target.value}))}),1e3);return Object(me.jsx)(Ce.a,{label:"Search products",variant:"outlined",fullWidth:!0,value:r||"",onChange:function(e){c(e.target.value),s(e)}})}var Se=n(466),Pe=n(424),Be=n(427),qe=n(470),Te=n(444);function ze(e){var t=e.options,n=e.onChange,r=e.selectedValue;return Object(me.jsxs)(Se.a,{children:[Object(me.jsx)(Pe.a,{id:"demo-radio-buttons-group-label",children:"Order by"}),Object(me.jsx)(Be.a,{onChange:n,value:r,children:t.map((function(e){var t=e.value,n=e.label;return Object(me.jsx)(qe.a,{value:t,control:Object(me.jsx)(Te.a,{}),label:n},t)}))})]})}var Le=n(13),Ee=n(378),De=n(445);function Ae(e){var t=e.items,n=e.checked,r=e.onChange,c=Object(i.useState)(n||[]),o=Object(a.a)(c,2),s=o[0],l=o[1];return Object(me.jsx)(Ee.a,{children:t.map((function(e){return Object(me.jsx)(qe.a,{control:Object(me.jsx)(De.a,{checked:-1!==s.indexOf(e),onClick:function(){return function(e){var t=[];t=-1===s.findIndex((function(t){return t===e}))?[].concat(Object(Le.a)(s),[e]):s.filter((function(t){return t!==e})),l(t),r(t)}(e)}}),label:e},e)}))})}var Fe=n(471),Ue=n(439);function We(e){var t=e.metaData,n=e.onPageChange,r=t.currentPage,a=t.totalCount,c=t.totalPages,i=t.pageSize;return Object(me.jsxs)(Fe.a,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:"20px",children:[Object(me.jsxs)(be.a,{children:["Displaying ",(r-1)*i+1,"-",r*i>a?a:r*i," of ",a," items"]}),Object(me.jsx)(Ue.a,{color:"secondary",size:"large",count:c,page:r,onChange:function(e,t){return n(t)}})]})}var Re=n(447),Me=n(462);function Ve(e){var t=e.message,n=void 0===t?"Loading...":t;return Object(me.jsx)(Re.a,{open:!0,invisible:!0,children:Object(me.jsxs)(Fe.a,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:[Object(me.jsx)(Me.a,{size:100,color:"primary"}),Object(me.jsx)(be.a,{variant:"h4",sx:{justifyContent:"center",position:"fixed",top:"60%"},children:n})]})})}function Ne(){var e=ie(J.selectAll),t=ce(),n=ie((function(e){return e.catalog})),r=n.productsLoaded,a=n.filtersLoaded,c=n.brands,o=n.types,s=n.metaData;return Object(i.useEffect)((function(){r||t(R())}),[r,t]),Object(i.useEffect)((function(){a||t(V())}),[a,t]),{products:e,productsLoaded:r,filtersLoaded:a,brands:c,types:o,metaData:s}}var Je=[{value:"name",label:"Alphabetical"},{value:"priceDesc",label:"Price - High to low"},{value:"price",label:"Price - Low to high"}];function He(){var e=Ne(),t=e.products,n=e.brands,r=e.types,a=e.filtersLoaded,c=e.metaData,i=ie((function(e){return e.catalog})).productParams,o=ce();return a?Object(me.jsxs)(d.a,{container:!0,spacing:4,columnSpacing:4,children:[Object(me.jsxs)(d.a,{item:!0,xs:3,children:[Object(me.jsx)(ke.a,{sx:{mb:2},children:Object(me.jsx)(Ie,{})}),Object(me.jsx)(ke.a,{sx:{mb:2,p:2},children:Object(me.jsx)(ze,{selectedValue:i.orderBy,options:Je,onChange:function(e){return o(Q({orderBy:e.target.value}))}})}),Object(me.jsx)(ke.a,{sx:{mb:2,p:2},children:Object(me.jsx)(Ae,{items:n,checked:i.brands,onChange:function(e){return o(Q({brands:e}))}})}),Object(me.jsx)(ke.a,{sx:{mb:2,p:2},children:Object(me.jsx)(Ae,{items:r,checked:i.types,onChange:function(e){return o(Q({types:e}))}})})]}),Object(me.jsx)(d.a,{item:!0,xs:9,children:Object(me.jsx)(ye,{products:t})}),Object(me.jsx)(d.a,{item:!0,xs:3}),Object(me.jsx)(d.a,{item:!0,xs:8,sx:{mb:2},children:c&&Object(me.jsx)(We,{metaData:c,onPageChange:function(e){return o(_({pageNumber:e}))}})})]}):Object(me.jsx)(Ve,{message:"Loading products..."})}var Qe=n(189),Ge=n.n(Qe);function _e(){var e={display:"grid",placeItems:"center",width:"80%",marginTop:"50px",margin:"auto",height:"500px",padding:"0px",background:"red"},t={margin:"auto",height:"100%",width:"100%",maxWidth:"400px",maxHeight:"400px"};return Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(Ge.a,Object(r.a)(Object(r.a)({},{dots:!0,infinite:!0,autoplay:!0,autoplaySpeed:3e3,speed:500,slidesToShow:1,slidesToScroll:1}),{},{children:[Object(me.jsx)("div",{style:e,children:Object(me.jsx)("img",{src:"https://freepikpsd.com/file/2019/10/dot-net-logo-png-2-Transparent-Images.png",alt:"product",style:t})}),Object(me.jsx)("div",{style:e,children:Object(me.jsx)("img",{src:"https://logos-download.com/wp-content/uploads/2016/09/React_logo_wordmark-700x235.png",alt:"product",style:t})}),Object(me.jsx)("div",{style:e,children:Object(me.jsx)("img",{src:"https://www.docker.com/sites/default/files/d8/2019-07/horizontal-logo-monochromatic-white.png",alt:"product",style:t})}),Object(me.jsx)("div",{style:e,children:Object(me.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/ec/Heroku_logo.svg/2560px-Heroku_logo.svg.png",alt:"product",style:t})}),Object(me.jsx)("div",{style:e,children:Object(me.jsx)("img",{src:"https://logos-world.net/wp-content/uploads/2020/11/GitHub-Logo.png",alt:"product",style:t})})]})),Object(me.jsxs)(d.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",marginBottom:"20px",marginTop:"30px",children:[Object(me.jsx)(be.a,{variant:"h3",children:"Welcome to JStore!"}),Object(me.jsx)(be.a,{variant:"h5",children:"Made with .Net and React."})]})]})}var Ye=n(428),$e=n(473),Xe=n(474),Ke=n(475),Ze=n(476),et=n(18),tt=n(472);function nt(){return Object(me.jsxs)(tt.a,{component:ke.a,children:[Object(me.jsx)(be.a,{gutterBottom:!0,variant:"h3",children:"Can't seem to find this item"}),Object(me.jsx)(Ye.a,{}),Object(me.jsx)(pe.a,{fullWidth:!0,component:xe.a,to:"/catalog",children:"Go back to shop"})]})}function rt(){var e=ie((function(e){return e.basket})),t=e.basket,n=e.status,r=ce(),c=Object(et.g)().id,o=ie((function(e){return J.selectById(e,c)})),s=ie((function(e){return e.catalog})).status,l=Object(i.useState)(0),u=Object(a.a)(l,2),j=u[0],b=u[1],h=null===t||void 0===t?void 0:t.items.find((function(e){return e.productId===(null===o||void 0===o?void 0:o.id)}));return Object(i.useEffect)((function(){h&&b(h.quantity),o||r(M(parseInt(c)))}),[c,h,r,o]),s.includes("pending")?Object(me.jsx)(Ve,{message:"Loading product..."}):o?Object(me.jsxs)(d.a,{container:!0,spacing:6,alignItems:"center",justifyContent:"center",marginBottom:"20px",children:[Object(me.jsx)(d.a,{item:!0,xs:10,sm:6,md:6,lg:6,children:Object(me.jsx)("img",{src:o.pictureUrl,alt:o.name,style:{width:"100%"}})}),Object(me.jsxs)(d.a,{item:!0,xs:16,sm:6,md:6,lg:6,children:[Object(me.jsx)(be.a,{variant:"h3",children:o.name}),Object(me.jsx)(Ye.a,{sx:{mb:2}}),Object(me.jsxs)(be.a,{variant:"h4",color:"secondary",children:["$",(o.price/100).toFixed(2)]}),Object(me.jsx)($e.a,{children:Object(me.jsxs)(Xe.a,{children:[Object(me.jsxs)(Ke.a,{children:[Object(me.jsx)(Ze.a,{children:"Name"}),Object(me.jsx)(Ze.a,{children:o.name})]}),Object(me.jsxs)(Ke.a,{children:[Object(me.jsx)(Ze.a,{children:"Description"}),Object(me.jsx)(Ze.a,{children:o.description})]}),Object(me.jsxs)(Ke.a,{children:[Object(me.jsx)(Ze.a,{children:"Type"}),Object(me.jsx)(Ze.a,{children:o.type})]}),Object(me.jsxs)(Ke.a,{children:[Object(me.jsx)(Ze.a,{children:"Brand"}),Object(me.jsx)(Ze.a,{children:o.brand})]}),Object(me.jsxs)(Ke.a,{children:[Object(me.jsx)(Ze.a,{children:"Quantity in stock"}),Object(me.jsx)(Ze.a,{children:o.quantityInStock})]})]})}),Object(me.jsxs)(d.a,{container:!0,spacing:2,children:[Object(me.jsx)(d.a,{item:!0,xs:6,children:Object(me.jsx)(Ce.a,{onChange:function(e){e.target.value>0&&b(parseInt(e.target.value))},variant:"outlined",type:"number",label:"Quantity in Cart",fullWidth:!0,value:j})}),Object(me.jsx)(d.a,{item:!0,xs:6,children:Object(me.jsx)(oe.a,{disabled:(null===h||void 0===h?void 0:h.quantity)===j,loading:n.includes("pending"),onClick:function(){if(!h||j>h.quantity){var e=h?j-h.quantity:j;r(E({productId:null===o||void 0===o?void 0:o.id,quantity:e}))}else{var t=h.quantity-j;r(D({productId:null===o||void 0===o?void 0:o.id,quantity:t}))}},sx:{height:"55px"},color:"primary",size:"large",variant:"contained",fullWidth:!0,children:h?"Update Quantity":"Add to Cart"})})]})]})]}):Object(me.jsx)(nt,{})}var at=n(477),ct=n(442),it=n(479),ot=n(468),st=n(446),lt=n(429);function dt(){var e=Object(i.useState)([]),t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(me.jsxs)(d.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",marginBottom:"20px",children:[Object(me.jsx)(be.a,{gutterBottom:!0,variant:"h6",children:"Since this is a portfolio project, I've taken the liberty of making this page an error testing page so have some buttons :)"}),Object(me.jsxs)(at.a,{style:{flexWrap:"wrap",textAlign:"center",display:"inline-block"},children:[Object(me.jsx)(pe.a,{variant:"contained",onClick:function(){return L.TestErrors.get400Error().catch((function(e){return console.log(e)}))},children:"Test 400 Error"}),Object(me.jsx)(pe.a,{variant:"contained",onClick:function(){return L.TestErrors.get401Error().catch((function(e){return console.log(e)}))},children:"Test 401 Error"}),Object(me.jsx)(pe.a,{variant:"contained",onClick:function(){return L.TestErrors.get404Error().catch((function(e){return console.log(e)}))},children:"Test 404 Error"}),Object(me.jsx)(pe.a,{variant:"contained",onClick:function(){return L.TestErrors.get500Error().catch((function(e){return console.log(e)}))},children:"Test 500 Error"}),Object(me.jsx)(pe.a,{variant:"contained",onClick:function(){L.TestErrors.getValidationError().then((function(){return console.log("should not see this")})).catch((function(e){return r(e)}))},children:" Test Validation Error"})]}),n.length>0&&Object(me.jsxs)(ct.a,{severity:"error",children:[Object(me.jsx)(it.a,{children:"Validation Errors"}),Object(me.jsx)(ot.a,{children:n.map((function(e){return Object(me.jsx)(st.a,{children:Object(me.jsx)(lt.a,{children:e})},e)}))})]})]})}function ut(){var e=ce(),t=ie((function(e){return e.counter})),n=t.data,r=t.title;return Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(be.a,{variant:"h2",children:r}),Object(me.jsxs)(be.a,{variant:"h5",children:["Data is: ",n]}),Object(me.jsxs)(at.a,{children:[Object(me.jsx)(pe.a,{onClick:function(){return e(x(1))},variant:"contained",color:"error",children:"Decrement"}),Object(me.jsx)(pe.a,{onClick:function(){return e(p(1))},variant:"contained",color:"error",children:"Increment"})]})]})}var jt=n(431),bt=n(481),ht=n(482),pt=n(478),xt=n(198),Ot=n(448),mt=n(438),gt=n(454),ft=n(4),vt=n(480),yt=Object(ft.a)(vt.a)((function(e){var t=e.theme;return{width:62,height:34,padding:7,"& .MuiSwitch-switchBase":{margin:1,padding:0,transform:"translateX(6px)","&.Mui-checked":{color:"#fff",transform:"translateX(22px)","& .MuiSwitch-thumb:before":{backgroundImage:'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="'.concat(encodeURIComponent("#fff"),'" d="M4.2 2.5l-.7 1.8-1.8.7 1.8.7.7 1.8.6-1.8L6.7 5l-1.9-.7-.6-1.8zm15 8.3a6.7 6.7 0 11-6.6-6.6 5.8 5.8 0 006.6 6.6z"/></svg>\')')},"& + .MuiSwitch-track":{opacity:1,backgroundColor:"dark"===t.palette.mode?"#8796A5":"#aab4be"}}},"& .MuiSwitch-thumb":{backgroundColor:"dark"===t.palette.mode?"#003892":"#001e3c",width:32,height:32,"&:before":{content:"''",position:"absolute",width:"100%",height:"100%",left:0,top:0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundImage:'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="'.concat(encodeURIComponent("#fff"),'" d="M9.305 1.667V3.75h1.389V1.667h-1.39zm-4.707 1.95l-.982.982L5.09 6.072l.982-.982-1.473-1.473zm10.802 0L13.927 5.09l.982.982 1.473-1.473-.982-.982zM10 5.139a4.872 4.872 0 00-4.862 4.86A4.872 4.872 0 0010 14.862 4.872 4.872 0 0014.86 10 4.872 4.872 0 0010 5.139zm0 1.389A3.462 3.462 0 0113.471 10a3.462 3.462 0 01-3.473 3.472A3.462 3.462 0 016.527 10 3.462 3.462 0 0110 6.528zM1.665 9.305v1.39h2.083v-1.39H1.666zm14.583 0v1.39h2.084v-1.39h-2.084zM5.09 13.928L3.616 15.4l.982.982 1.473-1.473-.982-.982zm9.82 0l-.982.982 1.473 1.473.982-.982-1.473-1.473zM9.305 16.25v2.083h1.389V16.25h-1.39z"/></svg>\')')}},"& .MuiSwitch-track":{opacity:1,backgroundColor:"dark"===t.palette.mode?"#8796A5":"#aab4be",borderRadius:10}}})),kt=n(43),wt=n(430),Ct=n(147),It=n.n(Ct),St=n(191),Pt=n.n(St),Bt=[{title:"Catalog",path:"/catalog"},{title:"About",path:"/about"},{title:"Contact",path:"/contact"}],qt=[{title:"Login",path:"/login"},{title:"Register",path:"/register"}],Tt={color:"inherit",textDecoration:"none",typography:"h5","&:hover":{color:"grey.500"},"&.active":{color:"text.secondary"}};function zt(e){var t=e.darkMode,n=e.handleThemeChange,r=(ie((function(e){return e.account})).user,ie((function(e){return e.basket})).basket),c=null===r||void 0===r?void 0:r.items.reduce((function(e,t){return e+t.quantity}),0),o=Object(i.useState)(null),s=Object(a.a)(o,2),l=s[0],d=s[1],u=Object(i.useState)(null),j=Object(a.a)(u,2),b=j[0],h=j[1],p=function(e){h(e.currentTarget)},x=function(){d(null)},O=function(){h(null)},m=Object(kt.a)(),g=Object(wt.a)(m.breakpoints.down("sm"));return Object(me.jsx)(Fe.a,{sx:{flexGrow:1},children:Object(me.jsx)(bt.a,{position:"static",sx:{mb:4},children:Object(me.jsx)(ht.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:g?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(Fe.a,{sx:{flexGrow:1,display:"flex",alignItems:"center"},children:[Object(me.jsx)(pt.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){d(e.currentTarget)},color:"inherit",children:Object(me.jsx)(Pt.a,{})}),Object(me.jsx)(xt.a,{id:"menu-appbar",anchorEl:l,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(l),onClose:x,sx:{display:{xs:"block",md:"none"}},children:Object(me.jsxs)(ot.a,{sx:{display:"block"},children:[Bt.map((function(e){var t=e.title,n=e.path;return Object(me.jsx)(st.a,{component:xe.b,to:n,sx:Tt,children:t},n)})),Object(me.jsx)(st.a,{component:xe.b,to:"/inventory",sx:Tt,children:"Inventory"})]})}),Object(me.jsx)(be.a,{variant:"h6",component:xe.b,to:"/",sx:Tt,children:"JStore"}),Object(me.jsx)(yt,{checked:t,onChange:n})]}),Object(me.jsx)(Fe.a,{display:"flex",alignItems:"center"}),Object(me.jsxs)(Fe.a,{display:"flex",alignItems:"center",children:[Object(me.jsx)(pt.a,{component:xe.a,to:"/basket",size:"large",sx:{color:"inherit"},children:Object(me.jsx)(Ot.a,{badgeContent:c,color:"secondary",children:Object(me.jsx)(jt.a,{})})}),Object(me.jsx)(mt.a,{title:"Connect",children:Object(me.jsx)(pt.a,{onClick:p,sx:{color:"inherit"},children:Object(me.jsx)(It.a,{})})}),Object(me.jsx)(xt.a,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:b,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(b),onClose:O,children:Object(me.jsx)(gt.a,{onClick:x,children:Object(me.jsx)(ot.a,{sx:{display:"block"},children:qt.map((function(e){var t=e.title,n=e.path;return Object(me.jsx)(st.a,{component:xe.b,to:n,sx:Tt,children:t},n)}))})})})]})]}):Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(Fe.a,{display:"flex",alignItems:"center",children:[Object(me.jsx)(be.a,{variant:"h6",component:xe.b,to:"/",sx:Tt,children:"JStore"}),Object(me.jsx)(yt,{checked:t,onChange:n})]}),Object(me.jsxs)(ot.a,{sx:{display:"flex"},children:[Bt.map((function(e){var t=e.title,n=e.path;return Object(me.jsx)(st.a,{component:xe.b,to:n,sx:Tt,children:t},n)})),Object(me.jsx)(st.a,{component:xe.b,to:"/inventory",sx:Tt,children:"Inventory"})]}),Object(me.jsxs)(Fe.a,{display:"flex",alignItems:"center",children:[Object(me.jsx)(pt.a,{component:xe.a,to:"/basket",size:"large",sx:{color:"inherit"},children:Object(me.jsx)(Ot.a,{badgeContent:c,color:"secondary",children:Object(me.jsx)(jt.a,{})})}),Object(me.jsx)(mt.a,{title:"Connect",children:Object(me.jsx)(pt.a,{onClick:p,sx:{color:"inherit"},children:Object(me.jsx)(It.a,{})})}),Object(me.jsx)(xt.a,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:b,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(b),onClose:O,children:Object(me.jsx)(gt.a,{onClick:x,children:Object(me.jsx)(ot.a,{sx:{display:"block"},children:qt.map((function(e){var t=e.title,n=e.path;return Object(me.jsx)(st.a,{component:xe.b,to:n,sx:Tt,children:t},n)}))})})})]})]})})})})}var Lt=n(435),Et=n(197),Dt=n(449);n(266);function At(){var e=Object(et.e)().state;return Object(me.jsxs)(tt.a,{component:ke.a,children:[(null===e||void 0===e?void 0:e.error)?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(be.a,{variant:"h3",color:"error",gutterBottom:!0,children:e.error.title}),Object(me.jsx)(Ye.a,{}),Object(me.jsx)(be.a,{children:e.error.detail||"Internal server error"})]}):Object(me.jsx)(be.a,{variant:"h5",gutterBottom:!0,children:"Server error"}),Object(me.jsx)(pe.a,{onClick:function(){return gn.push("/catalog")},children:"Go back to the store"})]})}var Ft=n(432),Ut=n(433),Wt=n(434),Rt=n(483),Mt=n(484);function Vt(){var e,t=ie((function(e){return e.basket})).basket,n=null!==(e=null===t||void 0===t?void 0:t.items.reduce((function(e,t){return e+t.price*t.quantity}),0))&&void 0!==e?e:0,r=n/100<100?500:0;return Object(me.jsx)(me.Fragment,{children:Object(me.jsx)($e.a,{component:ke.a,variant:"outlined",children:Object(me.jsx)(Rt.a,{children:Object(me.jsxs)(Xe.a,{children:[Object(me.jsxs)(Ke.a,{children:[Object(me.jsx)(Ze.a,{colSpan:2,children:"Subtotal"}),Object(me.jsx)(Ze.a,{align:"right",children:Oe(n)})]}),Object(me.jsxs)(Ke.a,{children:[Object(me.jsx)(Ze.a,{colSpan:2,children:"Delivery fee*"}),Object(me.jsx)(Ze.a,{align:"right",children:Oe(r)})]}),Object(me.jsxs)(Ke.a,{children:[Object(me.jsx)(Ze.a,{colSpan:2,children:"Total"}),Object(me.jsx)(Ze.a,{align:"right",children:Oe(n+r)})]}),Object(me.jsx)(Ke.a,{children:Object(me.jsx)(Ze.a,{children:Object(me.jsx)("span",{style:{fontStyle:"italic"},children:"*Orders over $100 qualify for free delivery"})})})]})})})})}function Nt(){var e=ie((function(e){return e.basket})),t=e.basket,n=e.status,r=ce();return t?Object(me.jsx)(d.a,{container:!0,spacing:6,alignItems:"center",justifyContent:"center",marginBottom:"20px",children:Object(me.jsxs)(d.a,{item:!0,xs:10,sm:8,md:9,lg:10,children:[Object(me.jsx)($e.a,{component:ke.a,children:Object(me.jsxs)(Rt.a,{sx:{minWidth:650},children:[Object(me.jsx)(Mt.a,{children:Object(me.jsxs)(Ke.a,{children:[Object(me.jsx)(Ze.a,{children:"Product"}),Object(me.jsx)(Ze.a,{align:"left",children:"Price"}),Object(me.jsx)(Ze.a,{align:"left",children:"Quantity"}),Object(me.jsx)(Ze.a,{align:"left",children:"Subtotal"}),Object(me.jsx)(Ze.a,{})]})}),Object(me.jsx)(Xe.a,{children:t.items.map((function(e){return Object(me.jsxs)(Ke.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(me.jsx)(Ze.a,{component:"th",scope:"row",children:Object(me.jsxs)(Fe.a,{display:"flex",alignItems:"center",children:[Object(me.jsx)("img",{src:e.pictureUrl,alt:e.name,style:{height:50,marginRight:20}}),Object(me.jsx)("span",{children:e.name})]})}),Object(me.jsx)(Ze.a,{align:"left",children:Oe(e.price)}),Object(me.jsxs)(Ze.a,{align:"left",children:[Object(me.jsx)(oe.a,{loading:n==="pendingAddItem"+e.productId,onClick:function(){return r(E({productId:e.productId}))},color:"success",children:Object(me.jsx)(Ft.a,{})}),e.quantity,Object(me.jsx)(oe.a,{loading:n==="pendingRemoveItem"+e.productId+"rem",onClick:function(){return r(D({productId:e.productId,quantity:1,name:"rem"}))},color:"error",children:Object(me.jsx)(Ut.a,{})})]}),Object(me.jsx)(Ze.a,{align:"left",children:Oe(e.price*e.quantity)}),Object(me.jsx)(Ze.a,{align:"left",children:Object(me.jsx)(oe.a,{loading:n==="pendingRemoveItem"+e.productId+"del",onClick:function(){return r(D({productId:e.productId,quantity:e.quantity,name:"del"}))},color:"error",children:Object(me.jsx)(Wt.a,{})})})]},e.productId)}))})]})}),Object(me.jsxs)(d.a,{item:!0,xs:10,sm:9,md:7,lg:7,children:[Object(me.jsx)(Vt,{}),Object(me.jsx)(pe.a,{component:xe.a,to:"/checkout",variant:"contained",size:"large",fullWidth:!0,children:"Checkout"})]})]})}):Object(me.jsx)(be.a,{variant:"h3",children:"Your basket is empty"})}function Jt(){return Object(me.jsx)(be.a,{variant:"h3",children:"Only logged in users should be able to see this!"})}var Ht=n(485);function Qt(){return Object(me.jsx)(ke.a,{children:Object(me.jsxs)(be.a,{variant:"body2",color:"text.disabled",children:["Copyright \xa9 ",Object(me.jsx)(Ht.a,{color:"inherit",href:"https://jstore-reactapp.herokuapp.com/",children:"JStore"})," ",(new Date).getFullYear()-1," "," - ",(new Date).getFullYear(),"."]})})}function Gt(){return Object(me.jsxs)(Fe.a,{sx:{fontSize:"20px",textAlign:"center",padding:"0px",position:"fixed",left:"0",bottom:"0",height:"20px",width:"100%"},children:[Object(me.jsx)(Lt.a,{}),Object(me.jsx)(Fe.a,{component:"footer",children:Object(me.jsx)(tt.a,{maxWidth:"sm",children:Object(me.jsx)(Qt,{})})})]})}var _t=n(192),Yt=n.n(_t),$t=n(32),Xt=Object(Et.a)();function Kt(){var e,t,n=ce(),a=Object($t.e)({mode:"all"}),c=a.register,i=a.handleSubmit,o=a.formState,s=o.isSubmitting,l=o.errors,u=o.isValid;function j(){return(j=Object(g.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(Z(t));case 2:gn.push("/catalog");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(me.jsx)(Dt.a,{theme:Xt,children:Object(me.jsxs)(tt.a,{component:ke.a,maxWidth:"sm",sx:{display:"flex",flexDirection:"column",alignItems:"center",p:4},children:[Object(me.jsx)(de.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(me.jsx)(Yt.a,{})}),Object(me.jsx)(be.a,{component:"h1",variant:"h5",children:"Login"}),Object(me.jsxs)(Fe.a,{component:"form",onSubmit:i((function(e){return j.apply(this,arguments)})),noValidate:!0,sx:{mt:1},children:[Object(me.jsx)(Ce.a,Object(r.a)(Object(r.a)({margin:"normal",fullWidth:!0,label:"Username",autoFocus:!0},c("username",{required:"Username is required"})),{},{error:!!l.username,helperText:null===l||void 0===l||null===(e=l.username)||void 0===e?void 0:e.message})),Object(me.jsx)(Ce.a,Object(r.a)(Object(r.a)({margin:"normal",fullWidth:!0,label:"Password",type:"password"},c("password",{required:"Password is required"})),{},{error:!!l.username,helperText:null===l||void 0===l||null===(t=l.password)||void 0===t?void 0:t.message})),Object(me.jsx)(oe.a,{loading:s,disabled:!u,type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Log in"}),Object(me.jsx)(d.a,{container:!0,children:Object(me.jsx)(d.a,{item:!0,children:Object(me.jsx)(xe.a,{to:"/register",children:"Don't have an account? Sign Up"})})})]})]})})}function Zt(){return Object(me.jsx)("h1",{children:"Register"})}var en=n(437),tn=n(436),nn=n(469),rn=n(199);function an(e){var t,n=Object($t.d)(Object(r.a)(Object(r.a)({},e),{},{defaultValue:null})),a=n.fieldState,c=n.field,o={display:"flex",border:"dashed 3px #eee",borderColor:"#eee",borderRadius:"5px",paddingTop:"30px",alignItems:"center",height:200,width:500},s=Object(i.useCallback)((function(e){e[0]=Object.assign(e[0],{preview:URL.createObjectURL(e[0])}),c.onChange(e[0])}),[c]),l=Object(rn.a)({onDrop:s}),d=l.getRootProps,u=l.getInputProps,j=l.isDragActive;return Object(me.jsx)("div",Object(r.a)(Object(r.a)({},d()),{},{children:Object(me.jsxs)(Se.a,{error:!!a.error,style:j?Object(r.a)(Object(r.a)({},o),{borderColor:"green"}):o,children:[Object(me.jsx)("input",Object(r.a)({},u())),Object(me.jsx)(tn.a,{sx:{fontSize:"100px"}}),Object(me.jsx)(be.a,{variant:"h4",children:"Drop image here"}),Object(me.jsx)(nn.a,{children:null===(t=a.error)||void 0===t?void 0:t.message})]})}))}var cn=n(467),on=n(443);function sn(e){var t,n=Object($t.d)(Object(r.a)(Object(r.a)({},e),{},{defaultValue:""})),a=n.fieldState,c=n.field;return Object(me.jsxs)(Se.a,{fullWidth:!0,error:!!a.error,children:[Object(me.jsx)(cn.a,{children:e.label}),Object(me.jsx)(on.a,{value:c.value,label:e.label,onChange:c.onChange,children:e.items.map((function(e,t){return Object(me.jsx)(gt.a,{value:e,children:e},t)}))}),Object(me.jsx)(nn.a,{children:null===(t=a.error)||void 0===t?void 0:t.message})]})}function ln(e){var t,n=Object($t.d)(Object(r.a)(Object(r.a)({},e),{},{defaultValue:""})),a=n.fieldState,c=n.field;return Object(me.jsx)(Ce.a,Object(r.a)(Object(r.a)(Object(r.a)({},e),c),{},{multiline:e.multiline,rows:e.rows,type:e.type,fullWidth:!0,variant:"outlined",error:!!a.error,helperText:null===(t=a.error)||void 0===t?void 0:t.message}))}var dn=n(200),un=n(51),jn=un.c({name:un.d().required(),brand:un.d().required(),type:un.d().required(),price:un.b().required().moreThan(100),quantityInStock:un.b().required().min(0),description:un.d().required(),file:un.a().when("pictureUrl",{is:function(e){return!e},then:un.a().required("Please provide an image")})});function bn(e){var t=e.product,n=e.cancelEdit,r=Object($t.e)({mode:"all",resolver:Object(dn.a)(jn)}),a=r.control,c=r.reset,o=r.handleSubmit,s=r.watch,l=r.formState,u=l.isDirty,j=l.isSubmitting,b=Ne(),h=b.brands,p=b.types,x=s("file",null),O=ce();function f(){return(f=Object(g.a)(m.a.mark((function e(r){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=7;break}return e.next=4,L.Admin.updateProduct(r);case 4:a=e.sent,e.next=10;break;case 7:return e.next=9,L.Admin.createProduct(r);case 9:a=e.sent;case 10:O(Y(a)),n(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}return Object(i.useEffect)((function(){return!t||x||u||c(t),function(){x&&URL.revokeObjectURL(x.preview)}}),[t,c,x,u]),Object(me.jsxs)(Fe.a,{component:ke.a,sx:{p:4},children:[Object(me.jsx)(be.a,{variant:"h4",gutterBottom:!0,sx:{mb:4},children:"Product Details"}),Object(me.jsxs)("form",{onSubmit:o((function(e){return f.apply(this,arguments)})),children:[Object(me.jsxs)(d.a,{container:!0,spacing:3,children:[Object(me.jsx)(d.a,{item:!0,xs:12,sm:12,children:Object(me.jsx)(ln,{control:a,name:"name",label:"Product name"})}),Object(me.jsx)(d.a,{item:!0,xs:12,sm:6,children:Object(me.jsx)(sn,{items:h,control:a,name:"brand",label:"Brand"})}),Object(me.jsx)(d.a,{item:!0,xs:12,sm:6,children:Object(me.jsx)(sn,{items:p,control:a,name:"type",label:"Type"})}),Object(me.jsx)(d.a,{item:!0,xs:12,sm:6,children:Object(me.jsx)(ln,{type:"number",control:a,name:"price",label:"Price"})}),Object(me.jsx)(d.a,{item:!0,xs:12,sm:6,children:Object(me.jsx)(ln,{type:"number",control:a,name:"quantityInStock",label:"Quantity in Stock"})}),Object(me.jsx)(d.a,{item:!0,xs:12,children:Object(me.jsx)(ln,{multiline:!0,rows:4,control:a,name:"description",label:"Description"})}),Object(me.jsx)(d.a,{item:!0,xs:12,children:Object(me.jsxs)(Fe.a,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(me.jsx)(an,{control:a,name:"file"}),x?Object(me.jsx)("img",{src:x.preview,alt:"preview",style:{maxHeight:200}}):Object(me.jsx)("img",{src:null===t||void 0===t?void 0:t.pictureUrl,alt:null===t||void 0===t?void 0:t.name,style:{maxHeight:200}})]})})]}),Object(me.jsxs)(Fe.a,{display:"flex",justifyContent:"space-between",sx:{mt:3},children:[Object(me.jsx)(pe.a,{onClick:n,variant:"contained",color:"inherit",children:"Cancel"}),Object(me.jsx)(oe.a,{loading:j,type:"submit",variant:"contained",color:"success",children:"Submit"})]})]})]})}function hn(){var e=Ne(),t=e.products,n=e.metaData,r=ce(),c=Object(i.useState)(!1),o=Object(a.a)(c,2),s=o[0],l=o[1],d=Object(i.useState)(void 0),u=Object(a.a)(d,2),j=u[0],b=u[1],h=Object(i.useState)(!1),p=Object(a.a)(h,2),x=p[0],O=p[1],m=Object(i.useState)(0),g=Object(a.a)(m,2),f=g[0],v=g[1];return s?Object(me.jsx)(bn,{product:j,cancelEdit:function(){j&&b(void 0),l(!1)}}):Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(Fe.a,{display:"flex",justifyContent:"space-between",children:[Object(me.jsx)(be.a,{sx:{p:2},variant:"h4",children:"Inventory"}),Object(me.jsx)(pe.a,{onClick:function(){return l(!0)},sx:{m:2},size:"large",variant:"contained",children:"Create"})]}),Object(me.jsx)($e.a,{component:ke.a,children:Object(me.jsxs)(Rt.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(me.jsx)(Mt.a,{children:Object(me.jsxs)(Ke.a,{children:[Object(me.jsx)(Ze.a,{children:"#"}),Object(me.jsx)(Ze.a,{align:"left",children:"Product"}),Object(me.jsx)(Ze.a,{align:"right",children:"Price"}),Object(me.jsx)(Ze.a,{align:"center",children:"Type"}),Object(me.jsx)(Ze.a,{align:"center",children:"Brand"}),Object(me.jsx)(Ze.a,{align:"center",children:"Quantity"}),Object(me.jsx)(Ze.a,{align:"right"})]})}),Object(me.jsx)(Xe.a,{children:t.map((function(e){return Object(me.jsxs)(Ke.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(me.jsx)(Ze.a,{component:"th",scope:"row",children:e.id}),Object(me.jsx)(Ze.a,{align:"left",children:Object(me.jsxs)(Fe.a,{display:"flex",alignItems:"center",children:[Object(me.jsx)("img",{src:e.pictureUrl,alt:e.name,style:{height:50,marginRight:20}}),Object(me.jsx)("span",{children:e.name})]})}),Object(me.jsx)(Ze.a,{align:"right",children:Oe(e.price)}),Object(me.jsx)(Ze.a,{align:"center",children:e.type}),Object(me.jsx)(Ze.a,{align:"center",children:e.brand}),Object(me.jsx)(Ze.a,{align:"center",children:e.quantityInStock}),Object(me.jsxs)(Ze.a,{align:"right",children:[Object(me.jsx)(pe.a,{onClick:function(){return function(e){b(e),l(!0)}(e)},startIcon:Object(me.jsx)(en.a,{})}),Object(me.jsx)(oe.a,{loading:x&&f===e.id,startIcon:Object(me.jsx)(Wt.a,{}),color:"error",onClick:function(){return t=e.id,O(!0),v(t),void L.Admin.deleteProduct(t).then((function(){return r($(t))})).catch((function(e){return console.log(e)})).finally((function(){return O(!1)}));var t}})]})]},e.id)}))})]})}),n&&Object(me.jsx)(Fe.a,{sx:{pt:2},children:Object(me.jsx)(We,{metaData:n,onPageChange:function(e){return r(_({pageNumber:e}))}})})]})}var pn=function(){var e=ce(),t=Object(i.useState)(!0),n=Object(a.a)(t,2),r=n[0],c=n[1];Object(i.useEffect)((function(){(function(e){var t=document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)");return t?t.pop():""})("buyerId")?L.Basket.get().then((function(t){return e(F(t))})).catch((function(e){return console.log(e)})).finally((function(){return c(!1)})):c(!1)}),[e]);var o=Object(i.useState)(!1),s=Object(a.a)(o,2),l=s[0],d=s[1],u=l?"dark":"light",j=Object(Et.a)({palette:{mode:u,background:{default:"light"===u?"#eaeaea":"#121212"}}});return r?Object(me.jsx)(Ve,{message:"Initialising app..."}):Object(me.jsxs)(Dt.a,{theme:j,children:[Object(me.jsx)(y.a,{theme:"colored",position:"bottom-right",hideProgressBar:!0}),Object(me.jsx)(Lt.a,{}),Object(me.jsx)(zt,{darkMode:l,handleThemeChange:function(){d(!l)}}),Object(me.jsx)(tt.a,{children:Object(me.jsxs)(et.c,{children:[Object(me.jsx)(et.a,{path:"/",element:Object(me.jsx)(_e,{})}),Object(me.jsx)(et.a,{path:"/catalog",element:Object(me.jsx)(He,{})}),Object(me.jsx)(et.a,{path:"/catalog/:id",element:Object(me.jsx)(rt,{})}),Object(me.jsx)(et.a,{path:"/about",element:Object(me.jsx)(dt,{})}),Object(me.jsx)(et.a,{path:"/contact",element:Object(me.jsx)(ut,{})}),Object(me.jsx)(et.a,{path:"/server-error",element:Object(me.jsx)(At,{})}),Object(me.jsx)(et.a,{path:"/not-found",element:Object(me.jsx)(nt,{})}),Object(me.jsx)(et.a,{path:"/basket",element:Object(me.jsx)(Nt,{})}),Object(me.jsx)(et.a,{path:"/checkout",element:Object(me.jsx)(Jt,{})}),Object(me.jsx)(et.a,{path:"/login",element:Object(me.jsx)(Kt,{})}),Object(me.jsx)(et.a,{path:"/register",element:Object(me.jsx)(Zt,{})}),Object(me.jsx)(et.a,{path:"/inventory",element:Object(me.jsx)(hn,{})})]})}),Object(me.jsx)(Gt,{})]})},xn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,486)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},On=n(33),mn=(n(365),n(366),["history"]),gn=Object(On.b)(),fn=function(e){var t=e.history,n=Object(c.a)(e,mn),o=Object(i.useState)({action:t.action,location:t.location}),s=Object(a.a)(o,2),l=s[0],d=s[1];return Object(i.useLayoutEffect)((function(){return t.listen(d)}),[t]),Object(me.jsx)(et.b,Object(r.a)(Object(r.a)({},n),{},{location:l.location,navigationType:l.action,navigator:t}))};l.a.render(Object(me.jsx)(o.a.StrictMode,{children:Object(me.jsx)(fn,{history:gn,children:Object(me.jsx)(j.a,{store:ae,children:Object(me.jsx)(pn,{})})})}),document.getElementById("root")),xn()}},[[367,1,2]]]);
//# sourceMappingURL=main.67cde685.chunk.js.map