{"version":3,"sources":["features/contact/counterSlice.ts","app/models/pagination.ts","app/api/agent.ts","features/basket/basketSlice.ts","features/catalog/catalogSlice.ts","features/account/accountSlice.ts","app/store/configureStore.ts","app/util/util.ts","features/catalog/ProductCard.tsx","features/catalog/ProductCardSkeleton.tsx","features/catalog/ProductList.tsx","features/catalog/ProductSearch.tsx","app/components/RadioButtonGroup.tsx","app/components/CheckboxButtons.tsx","app/components/AppPagination.tsx","app/layout/LoadingComponent.tsx","app/hooks/useProducts.tsx","features/catalog/Catalog.tsx","features/home/HomePage.tsx","app/errors/NotFound.tsx","features/catalog/ProductDetails.tsx","features/about/AboutPage.tsx","features/contact/ContactPage.tsx","app/layout/DarkModeSwitch.tsx","app/layout/Header.tsx","app/errors/ServerError.tsx","features/basket/BasketSummary.tsx","features/basket/BasketPage.tsx","features/checkout/CheckoutPage.tsx","app/layout/Footer.tsx","features/account/Login.tsx","features/account/Register.tsx","app/components/AppDropzone.tsx","app/components/AppSelectList.tsx","app/components/AppTextInput.tsx","features/admin/productValidation.ts","features/admin/ProductForm.tsx","features/admin/Inventory.tsx","app/layout/App.tsx","reportWebVitals.ts","index.tsx"],"names":["counterSlice","createSlice","name","initialState","data","title","reducers","increment","state","action","payload","decrement","actions","PaginatedResponse","items","metaData","this","axios","defaults","baseURL","process","withCredentials","responseBody","response","interceptors","use","a","pagination","headers","JSON","parse","error","status","errors","modelStateErrors","key","push","flat","toast","history","Promise","reject","requests","url","params","get","then","body","post","delete","put","createFormData","item","formData","FormData","append","Basket","addItem","productId","quantity","removeItem","agent","Catalog","list","details","id","fetchFilters","TestErrors","get400Error","get401Error","get404Error","get500Error","getValidationError","Account","login","values","register","currentUser","Admin","createProduct","product","updateProduct","deleteProduct","addBasketItemAsync","createAsyncThunk","thunkAPI","rejectWithValue","removeBasketItemAsync","basketSlice","basket","setBasket","extraReducers","builder","addCase","pending","meta","arg","fulfilled","rejected","console","log","itemIndex","findIndex","i","undefined","splice","productsAdapter","createEntityAdapter","getAxiosParams","productParams","URLSearchParams","pageNumber","toString","pageSize","orderBy","searchTerm","brands","length","types","fetchProductsAsync","_","getState","catalog","dispatch","setMetaData","fetchProductAsync","fetchFiltersAsync","catalogSlice","getInitialState","productsLoaded","filtersLoaded","setProductParams","setPageNumber","resetProductParams","setProduct","upsertOne","removeProduct","removeOne","setAll","productSelectors","getSelectors","signInUser","userDto","user","localStorage","setItem","stringify","success","fetchCurrentUser","setUser","getItem","condition","accountSlice","signOut","roles","atob","token","split","addMatcher","isAnyOf","store","configureStore","reducer","counter","account","useAppDispatch","useDispatch","useAppSelector","useSelector","currencyFormat","amount","toFixed","ProductCard","Card","CardHeader","avatar","Avatar","sx","bgcolor","charAt","toUpperCase","titleTypographyProps","fontWeight","color","CardMedia","component","height","objectFit","image","pictureUrl","alt","CardContent","Typography","gutterBottom","variant","price","brand","type","CardActions","LoadingButton","loading","includes","onClick","size","Button","Link","to","ProductCardSkeleton","Grid","xs","Skeleton","animation","width","style","marginBottom","ProductList","products","container","spacing","map","sm","md","lg","ProductSearch","useState","setSearchTerm","debouncedSearch","debounce","event","target","value","TextField","label","fullWidth","onChange","RadioButtonGroup","options","selectedValue","FormControl","FormLabel","RadioGroup","FormControlLabel","control","Radio","CheckboxButtons","checked","checkedItems","setCheckedItems","FormGroup","Checkbox","indexOf","newChecked","filter","handleChecked","AppPagination","onPageChange","currentPage","totalCount","totalPages","Box","display","justifyContent","alignItems","mb","Pagination","count","page","e","LoadingComponent","message","Backdrop","open","invisible","CircularProgress","position","top","useProducts","selectAll","useEffect","sortOptions","columnSpacing","Paper","p","HomePage","slickDivStyle","placeItems","marginTop","margin","padding","background","imgStyle","maxWidth","maxHeight","dots","infinite","autoplay","autoplaySpeed","speed","slidesToShow","slidesToScroll","src","direction","NotFound","Container","Divider","ProductDetails","useParams","selectById","productStatus","setQuantity","find","parseInt","TableContainer","TableBody","TableRow","TableCell","description","quantityInStock","disabled","updatedQuantity","AboutPage","validationErrors","setValidationErrors","ButtonGroup","flexWrap","textAlign","catch","Alert","severity","AlertTitle","List","ListItem","ListItemText","ContactPage","className","MaterialUISwitch","styled","Switch","theme","transform","backgroundImage","encodeURIComponent","opacity","backgroundColor","palette","mode","content","left","backgroundRepeat","backgroundPosition","borderRadius","midLinks","path","rightLinks","navStyles","textDecoration","typography","Header","darkMode","handleThemeChange","itemCount","reduce","sum","anchorElNav","setAnchorElNav","anchorElUser","setAnchorElUser","handleOpenUserMenu","currentTarget","handleCloseNavMenu","handleCloseUserMenu","useTheme","isMobile","useMediaQuery","breakpoints","down","flexGrow","AppBar","Toolbar","IconButton","Menu","anchorEl","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","Boolean","onClose","NavLink","Badge","badgeContent","ShoppingCart","Tooltip","mt","MenuItem","ServerError","useLocation","detail","BasketSummary","subtotal","deliveryFee","Table","colSpan","align","fontStyle","BasketPage","minWidth","TableHead","border","scope","marginRight","Add","Remove","Delete","CheckoutPage","Copyright","href","Date","getFullYear","Footer","fontSize","bottom","CssBaseline","createTheme","Login","useForm","handleSubmit","formState","isSubmitting","isValid","ThemeProvider","flexDirection","m","onSubmit","noValidate","autoFocus","required","username","helperText","password","Register","setError","forEach","handleApiErrors","pattern","email","AppDropzone","props","useController","defaultValue","fieldState","field","dzStyles","borderColor","paddingTop","onDrop","useCallback","acceptedFiles","Object","assign","preview","URL","createObjectURL","useDropzone","getRootProps","getInputProps","isDragActive","UploadFile","FormHelperText","AppSelectList","InputLabel","Select","index","AppTextInput","multiline","rows","validationSchema","yup","moreThan","min","file","when","is","ProductForm","cancelEdit","resolver","yupResolver","reset","watch","isDirty","watchFile","revokeObjectURL","Inventory","editMode","setEditMode","selectedProduct","setSelectedProduct","setLoading","setTarget","handleSelectProduct","startIcon","Edit","finally","pt","App","b","document","cookie","match","pop","getCookie","setDarkMode","paletteType","default","hideProgressBar","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","createBrowserHistory","CustomRouter","location","setState","useLayoutEffect","listen","navigationType","navigator","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e3c1d666.chunk.js","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\"\r\n\r\nexport interface CounterState {\r\n    data: number;\r\n    title: string;\r\n}\r\n\r\nconst initialState: CounterState = {\r\n    data: 42,\r\n    title: 'yet another redux counter with redux toolkit'\r\n}\r\n\r\nexport const counterSlice = createSlice({\r\n    name: 'counter',\r\n    initialState,\r\n    reducers: {\r\n        increment: (state, action) => {\r\n            state.data += action.payload\r\n        },\r\n        decrement: (state, action) => {\r\n            state.data -= action.payload\r\n        }\r\n    }\r\n})\r\n\r\nexport const {increment, decrement} = counterSlice.actions;","export interface MetaData {\r\n    currentPage: number;\r\n    totalPages: number;\r\n    pageSize: number;\r\n    totalCount: number;\r\n}\r\n\r\nexport class PaginatedResponse<T> {\r\n    items: T;\r\n    metaData: MetaData;\r\n\r\n    constructor(items: T, metaData: MetaData) {\r\n        this.items = items;\r\n        this.metaData = metaData;\r\n    }\r\n}","import axios, { AxiosError, AxiosResponse } from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport { history } from \"../..\"\r\nimport { PaginatedResponse } from \"../models/pagination\"\r\n\r\nconst sleep = () => new Promise(resolve => setTimeout(resolve, 500));\r\n\r\naxios.defaults.baseURL = process.env.REACT_APP_API_URL;\r\naxios.defaults.withCredentials = true;\r\n\r\nconst responseBody = (response: AxiosResponse) => response.data;\r\n\r\naxios.interceptors.response.use(async response => {\r\n    if (process.env.NODE_ENV === 'development') await sleep();\r\n    const pagination = response.headers['pagination'];\r\n    if (pagination) {\r\n        response.data = new PaginatedResponse(response.data, JSON.parse(pagination));\r\n        return response;\r\n    }\r\n    return response\r\n}, (error: AxiosError) => {\r\n    const {data, status} = error.response!;\r\n    switch (status) {\r\n        case 400:\r\n            if (data.errors) {\r\n                const modelStateErrors: string[] = [];\r\n                for (const key in data.errors) {\r\n                    if (data.errors[key]) {\r\n                        modelStateErrors.push(data.errors[key])\r\n                    }\r\n                }\r\n                throw modelStateErrors.flat();\r\n            }\r\n            toast.error(data.title);\r\n            break;\r\n        case 401:\r\n            toast.error(data.title);\r\n            break;\r\n        case 404:\r\n            history.push('/not-found');\r\n            break;\r\n        case 500:\r\n            history.push('/server-error', {error: data});\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n    return Promise.reject(error.response);\r\n})\r\n\r\nconst requests = {\r\n    get: (url: string, params?: URLSearchParams) => axios.get(url, {params}).then(responseBody),\r\n    post: (url: string, body: {}) => axios.post(url, body).then(responseBody),\r\n    put: (url: string, body: {}) => axios.put(url, body).then(responseBody),\r\n    delete: (url: string) => axios.delete(url).then(responseBody),\r\n    postForm: (url: string, data: FormData) => axios.post(url, data, {\r\n        headers: {'Content-type': 'multipart/form-data'}\r\n    }).then(responseBody),\r\n    putForm: (url: string, data: FormData) => axios.put(url, data, {\r\n        headers: {'Content-type': 'multipart/form-data'}\r\n    }).then(responseBody)\r\n}\r\n\r\nfunction createFormData(item: any) {\r\n    let formData = new FormData();\r\n    for (const key in item) {\r\n        formData.append(key, item[key])\r\n    }\r\n    return formData;\r\n}\r\n\r\nconst Admin = {\r\n    createProduct: (product: any) => requests.postForm('products', createFormData(product)),\r\n    updateProduct: (product: any) => requests.putForm('products', createFormData(product)),\r\n    deleteProduct: (id: number) => requests.delete(`products/${id}`)\r\n}\r\n\r\nconst Catalog = {\r\n    list: (params: URLSearchParams) => requests.get('products', params),\r\n    details: (id: number) => requests.get(`products/${id}`),\r\n    fetchFilters: () => requests.get('products/filters')\r\n}\r\n\r\nconst TestErrors = {\r\n    get400Error: () => requests.get('buggy/bad-request'),\r\n    get401Error: () => requests.get('buggy/unauthorized'),\r\n    get404Error: () => requests.get('buggy/not-found'),\r\n    get500Error: () => requests.get('buggy/server-error'),\r\n    getValidationError: () => requests.get('buggy/validation-error')\r\n}\r\n\r\nconst Basket = {\r\n    get: () => requests.get('basket'),\r\n    addItem: (productId: number, quantity = 1) => requests.post(`basket?productId=${productId}&quantity=${quantity}`, {}),\r\n    removeItem: (productId: number, quantity = 1) => requests.delete(`basket?productId=${productId}&quantity=${quantity}`)\r\n}\r\n\r\nconst Account = {\r\n    login: (values: any) => requests.post('account/login', values),\r\n    register: (values: any) => requests.post('account/register', values),\r\n    currentUser: () => requests.get('account/currentUser')\r\n}\r\n\r\nconst agent = {\r\n    Catalog,\r\n    TestErrors,\r\n    Basket,\r\n    Account,\r\n    Admin\r\n}\r\n\r\nexport default agent;","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport agent from \"../../app/api/agent\";\r\nimport { Basket } from \"../../app/models/basket\";\r\n\r\ninterface BasketState {\r\n    basket: Basket | null;\r\n    status: string;\r\n}\r\n\r\nconst initialState: BasketState = {\r\n    basket: null,\r\n    status: 'idle'\r\n}\r\n\r\nexport const addBasketItemAsync = createAsyncThunk<Basket, {productId: number, quantity?: number}>(\r\n    'basket/addBasketItemAsync',\r\n    async ({productId, quantity = 1}, thunkAPI) => {\r\n        try {\r\n            return await agent.Basket.addItem(productId, quantity);\r\n        } catch (error: any) {\r\n            return thunkAPI.rejectWithValue({error: error.data});\r\n        }\r\n    }\r\n);\r\n\r\nexport const removeBasketItemAsync = createAsyncThunk<void, {productId: number, quantity: number, name?: string}>(\r\n    'basket/removeBasketItemAsync',\r\n    async ({productId, quantity}, thunkAPI) => {\r\n        try {\r\n            await agent.Basket.removeItem(productId, quantity);\r\n        } catch (error: any) {\r\n            return thunkAPI.rejectWithValue({error: error.data});\r\n        }\r\n    }\r\n);\r\n\r\nexport const basketSlice = createSlice({\r\n    name: 'basket',\r\n    initialState,\r\n    reducers: {\r\n        setBasket: (state, action) => {\r\n            state.basket = action.payload\r\n        }\r\n    },\r\n    extraReducers: (builder => {\r\n        builder.addCase(addBasketItemAsync.pending, (state, action) => {\r\n            state.status = 'pendingAddItem' + action.meta.arg.productId;\r\n        });\r\n        builder.addCase(addBasketItemAsync.fulfilled, (state, action) => {\r\n            state.basket = action.payload;\r\n            state.status = 'idle';\r\n        });\r\n        builder.addCase(addBasketItemAsync.rejected, (state, action) => {\r\n            state.status = 'idle';\r\n            console.log(action.payload);\r\n        });\r\n        builder.addCase(removeBasketItemAsync.pending, (state, action) => {\r\n            state.status = 'pendingRemoveItem' + action.meta.arg.productId + action.meta.arg.name;\r\n        })\r\n        builder.addCase(removeBasketItemAsync.fulfilled, (state, action) => {\r\n            const {productId, quantity} = action.meta.arg;\r\n            const itemIndex = state.basket?.items.findIndex(i => i.productId === productId);\r\n            if (itemIndex === -1 || itemIndex === undefined) return;\r\n            state.basket!.items[itemIndex].quantity -= quantity;\r\n            if (state.basket?.items[itemIndex].quantity === 0) \r\n                state.basket.items.splice(itemIndex, 1);\r\n            state.status = 'idle';\r\n        })\r\n        builder.addCase(removeBasketItemAsync.rejected, (state, action) => {\r\n            state.status = 'idle';\r\n            console.log(action.payload);\r\n        })\r\n    })\r\n})\r\n\r\nexport const {setBasket} = basketSlice.actions;","import { createEntityAdapter, createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport agent from \"../../app/api/agent\";\r\nimport { MetaData } from \"../../app/models/pagination\";\r\nimport { Product, ProductParams } from \"../../app/models/product\";\r\nimport { RootState } from \"../../app/store/configureStore\";\r\n\r\ninterface CatalogState {\r\n    productsLoaded: boolean;\r\n    filtersLoaded: boolean;\r\n    status: string;\r\n    brands: string[];\r\n    types: string[];\r\n    productParams: ProductParams;\r\n    metaData: MetaData | null;\r\n}\r\n\r\nconst productsAdapter = createEntityAdapter<Product>();\r\n\r\nfunction getAxiosParams(productParams: ProductParams) {\r\n    const params = new URLSearchParams();\r\n    params.append('pageNumber', productParams.pageNumber.toString());\r\n    params.append('pageSize', productParams.pageSize.toString());\r\n    params.append('orderBy', productParams.orderBy);\r\n    if (productParams.searchTerm) params.append('searchTerm', productParams.searchTerm);\r\n    if (productParams.brands.length > 0) params.append('brands', productParams.brands.toString());\r\n    if (productParams.types.length > 0) params.append('types', productParams.types.toString());\r\n    return params;\r\n}\r\n\r\nexport const fetchProductsAsync = createAsyncThunk<Product[], void, {state: RootState}>(\r\n    'catalog/fetchProductsAsync',\r\n    async (_, thunkAPI) => {\r\n        const params = getAxiosParams(thunkAPI.getState().catalog.productParams);\r\n        try {\r\n            const response = await agent.Catalog.list(params);\r\n            thunkAPI.dispatch(setMetaData(response.metaData));\r\n            return response.items;\r\n        } catch (error: any) {\r\n            return thunkAPI.rejectWithValue({error: error.data})\r\n        }\r\n    }\r\n)\r\nexport const fetchProductAsync = createAsyncThunk<Product, number>(\r\n    'catalog/fetchProductAsync',\r\n    async (productId, thunkAPI) => {\r\n        try {\r\n            return await agent.Catalog.details(productId);\r\n        } catch (error: any) {\r\n            return thunkAPI.rejectWithValue({error: error.data})\r\n        }\r\n    }\r\n)\r\n\r\nexport const fetchFiltersAsync = createAsyncThunk(\r\n    'catalog/fetchFiltersAsync',\r\n    async (_, thunkAPI) => {\r\n        try {\r\n            return agent.Catalog.fetchFilters();\r\n        } catch (error: any) {\r\n            return thunkAPI.rejectWithValue({error: error.data});\r\n        }\r\n    }\r\n)\r\n\r\nfunction initParams() {\r\n    return {\r\n        pageNumber: 1,\r\n        pageSize: 8,\r\n        orderBy: 'name',\r\n        brands: [],\r\n        types: []\r\n    }\r\n}\r\n\r\nexport const catalogSlice = createSlice({\r\n    name: 'catalog',\r\n    initialState: productsAdapter.getInitialState<CatalogState>({\r\n        productsLoaded: false,\r\n        filtersLoaded: false,\r\n        status: 'idle',\r\n        brands: [],\r\n        types: [],\r\n        productParams: initParams(),\r\n        metaData: null\r\n    }),\r\n    reducers: {\r\n        setProductParams: (state, action) => {\r\n            state.productsLoaded = false;\r\n            state.productParams = {...state.productParams, ...action.payload, pageNumber: 1};\r\n        },\r\n        setPageNumber: (state, action) => {\r\n            state.productsLoaded = false;\r\n            state.productParams = {...state.productParams, ...action.payload};\r\n        },\r\n        resetProductParams: (state) => {\r\n            state.productParams = initParams();\r\n        },\r\n        setMetaData: (state,action) => {\r\n            state.metaData = action.payload;\r\n        },\r\n        setProduct: (state, action) => {\r\n            productsAdapter.upsertOne(state, action.payload);\r\n            state.productsLoaded = false;\r\n        },\r\n        removeProduct: (state, action) => {\r\n            productsAdapter.removeOne(state, action.payload);\r\n            state.productsLoaded = false;\r\n        }\r\n    },\r\n    extraReducers: (builder => {\r\n        builder.addCase(fetchProductsAsync.pending, (state) => {\r\n            state.status = 'pendingFetchProducts';\r\n        });\r\n        builder.addCase(fetchProductsAsync.fulfilled, (state, action) => {\r\n            productsAdapter.setAll(state, action.payload);\r\n            state.status = 'idle';\r\n            state.productsLoaded = true;\r\n        });\r\n        builder.addCase(fetchProductsAsync.rejected, (state, action) => {\r\n            state.status = 'idle';\r\n            console.log(action.payload);\r\n        });\r\n        builder.addCase(fetchProductAsync.pending, (state) => {\r\n            state.status = 'pendingFetchProduct';\r\n        });\r\n        builder.addCase(fetchProductAsync.fulfilled, (state, action) => {\r\n            productsAdapter.upsertOne(state, action.payload);\r\n            state.status = 'idle';\r\n        });\r\n        builder.addCase(fetchProductAsync.rejected, (state, action) => {\r\n            state.status = 'idle';\r\n            console.log(action);\r\n        });\r\n        builder.addCase(fetchFiltersAsync.pending, (state) => {\r\n            state.status = 'pendingFetchFilters';\r\n        });\r\n        builder.addCase(fetchFiltersAsync.fulfilled, (state, action) => {\r\n            state.brands = action.payload.brands;\r\n            state.types = action.payload.types;\r\n            state.filtersLoaded = true;\r\n            state.status = 'idle';\r\n        });\r\n        builder.addCase(fetchFiltersAsync.rejected, (state, action) => {\r\n            state.status = 'idle';\r\n            console.log(action.payload);\r\n        });\r\n    })\r\n})\r\n\r\nexport const productSelectors = productsAdapter.getSelectors((state: RootState) => state.catalog);\r\n\r\nexport const {setProductParams, resetProductParams, setMetaData, setPageNumber, setProduct, removeProduct} = catalogSlice.actions;","import { createAsyncThunk, createSlice, isAnyOf, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport agent from \"../../app/api/agent\";\r\nimport { User } from \"../../app/models/user\";\r\nimport { FieldValues } from 'react-hook-form';\r\nimport { toast } from \"react-toastify\";\r\nimport { history } from \"../..\";\r\nimport { setBasket } from \"../basket/basketSlice\";\r\n\r\ninterface AccountState {\r\n    user: User | null;\r\n}\r\n\r\nconst initialState: AccountState = {\r\n    user: null\r\n}\r\n\r\nexport const signInUser = createAsyncThunk<User, FieldValues>(\r\n    'account/signInUser',\r\n    async (data, thunkAPI) => {\r\n        try {\r\n            const userDto = await agent.Account.login(data);\r\n            const {basket, ...user} = userDto;\r\n            if (basket) thunkAPI.dispatch(setBasket(basket));\r\n            localStorage.setItem('user', JSON.stringify(user));\r\n            toast.success('Successfully logged in!');\r\n            return user;\r\n        } catch (error: any) {\r\n            return thunkAPI.rejectWithValue({error: error.data});\r\n        }\r\n    }\r\n)\r\n\r\nexport const fetchCurrentUser = createAsyncThunk<User>(\r\n    'account/fetchCurrentUser',\r\n    async (_, thunkAPI) => {\r\n        thunkAPI.dispatch(setUser(JSON.parse(localStorage.getItem('user')!)));\r\n        try {\r\n            const userDto = await agent.Account.currentUser();\r\n            const {basket, ...user} = userDto;\r\n            if (basket) thunkAPI.dispatch(setBasket(basket));\r\n            localStorage.setItem('user', JSON.stringify(user));\r\n            return user;\r\n        } catch (error: any) {\r\n            return thunkAPI.rejectWithValue({error: error.data});\r\n        }\r\n    },\r\n    {\r\n        condition: () => {\r\n            if (!localStorage.getItem('user')) return false;\r\n        }\r\n    }\r\n)\r\n\r\nexport const accountSlice = createSlice({\r\n    name: 'account',\r\n    initialState,\r\n    reducers: {\r\n        signOut: (state) => {\r\n            state.user = null;\r\n            localStorage.removeItem('user');\r\n            history.push('/');\r\n        },\r\n        setUser: (state, action) => {\r\n            let claims = JSON.parse(atob(action.payload.token.split('.')[1]));\r\n            let roles = claims['http://schemas.microsoft.com/ws/2008/06/identity/claims/role'];\r\n            state.user = {...action.payload, roles: typeof(roles) === 'string' ? [roles] : roles};\r\n        }\r\n    },\r\n    extraReducers: (builder => {\r\n        builder.addCase(fetchCurrentUser.rejected, (state) => {\r\n            state.user = null;\r\n            localStorage.removeItem('user');\r\n            toast.error('Session expired - please login again');\r\n            history.push('/');\r\n        });\r\n        builder.addMatcher(isAnyOf(signInUser.fulfilled, fetchCurrentUser.fulfilled), (state, action: PayloadAction<any>) => {\r\n            let claims = JSON.parse(atob(action.payload.token.split('.')[1]));\r\n            let roles = claims['http://schemas.microsoft.com/ws/2008/06/identity/claims/role'];\r\n            state.user = {...action.payload, roles: typeof(roles) === 'string' ? [roles] : roles};\r\n        });\r\n        builder.addMatcher(isAnyOf(signInUser.rejected), (state, action) => {\r\n            throw action.payload;\r\n        })\r\n    })\r\n})\r\n\r\nexport const {signOut, setUser} = accountSlice.actions;","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\r\nimport { counterSlice } from \"../../features/contact/counterSlice\";\r\nimport { basketSlice } from \"../../features/basket/basketSlice\";\r\nimport { catalogSlice } from \"../../features/catalog/catalogSlice\";\r\nimport { accountSlice } from \"../../features/account/accountSlice\";\r\n\r\n/* export function configureStore() {\r\n    return createStore(counterReducer);\r\n} */\r\n\r\nexport const store = configureStore({\r\n    reducer: {\r\n        counter: counterSlice.reducer,\r\n        basket: basketSlice.reducer,\r\n        catalog: catalogSlice.reducer,\r\n        account: accountSlice.reducer\r\n    }\r\n});\r\n\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport type AppDispatch = typeof store.dispatch;\r\n\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;","export function getCookie(key: string) {\r\n    const b = document.cookie.match(\"(^|;)\\\\s*\" + key + \"\\\\s*=\\\\s*([^;]+)\");\r\n    return b ? b.pop() : \"\";\r\n}\r\n\r\nexport function currencyFormat(amount: number) {\r\n    return '$' + (amount/100).toFixed(2);\r\n}","import { LoadingButton } from \"@mui/lab\";\r\nimport { Avatar, Button, Card, CardActions, CardContent, CardHeader, CardMedia, Typography } from \"@mui/material\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Product } from \"../../app/models/product\";\r\nimport { useAppDispatch, useAppSelector } from \"../../app/store/configureStore\";\r\nimport { currencyFormat } from \"../../app/util/util\";\r\nimport { addBasketItemAsync } from \"../basket/basketSlice\";\r\n\r\ninterface Props {\r\n    product: Product;\r\n}\r\nexport default function ProductCard({product}: Props) {\r\n    const {status} = useAppSelector(state => state.basket);\r\n    const dispatch = useAppDispatch();\r\n\r\n    return (\r\n    <Card>  \r\n        <CardHeader \r\n            avatar={\r\n                <Avatar sx={{bgcolor: 'secondary.main'}}>\r\n                    {product.name.charAt(0).toUpperCase()}\r\n                </Avatar>\r\n            }\r\n            title={product.name}\r\n            titleTypographyProps={{\r\n                sx: {fontWeight: 'bold', color: 'primary.main'}\r\n            }}\r\n        />\r\n        <CardMedia\r\n            component=\"img\"\r\n            sx={{ height: 140,  objectFit: 'contain', bgcolor: 'primary.light' }}\r\n            image={product.pictureUrl}\r\n            alt={product.name}\r\n        />\r\n        <CardContent>\r\n            <Typography gutterBottom color='secondary' variant=\"h5\">\r\n                {currencyFormat(product.price)}\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n                {product.brand} / {product.type}\r\n            </Typography>\r\n        </CardContent>\r\n        <CardActions>\r\n            <LoadingButton \r\n                loading={status.includes('pendingAddItem' + product.id)} \r\n                onClick={() => dispatch(addBasketItemAsync({productId: product.id}))} \r\n                size=\"small\">Add to cart\r\n            </LoadingButton>\r\n            <Button component={Link} to={`/catalog/${product.id}`} size=\"small\">View</Button>\r\n        </CardActions>\r\n    </Card>\r\n    )\r\n}","import {\r\n    Card,\r\n    CardActions,\r\n    CardContent,\r\n    CardHeader,\r\n    Grid,\r\n    Skeleton\r\n} from \"@mui/material\";\r\n\r\nexport default function ProductCardSkeleton() {\r\n    return (\r\n        <Grid item xs component={Card}>\r\n            <CardHeader\r\n                avatar={\r\n                    <Skeleton animation=\"wave\" variant=\"circular\" width={40} height={40} />\r\n                }\r\n                title={\r\n                    <Skeleton\r\n                        animation=\"wave\"\r\n                        height={10}\r\n                        width=\"80%\"\r\n                        style={{ marginBottom: 6 }}\r\n                    />\r\n                }\r\n            />\r\n            <Skeleton sx={{ height: 190 }} animation=\"wave\" variant=\"rectangular\" />\r\n            <CardContent>\r\n                <>\r\n                    <Skeleton animation=\"wave\" height={10} style={{ marginBottom: 6 }} />\r\n                    <Skeleton animation=\"wave\" height={10} width=\"80%\" />\r\n                </>\r\n            </CardContent>\r\n            <CardActions>\r\n                <>\r\n                    <Skeleton animation=\"wave\" height={10} width='40%' />\r\n                    <Skeleton animation=\"wave\" height={10} width=\"20%\" />\r\n                </>\r\n            </CardActions>\r\n        </Grid>\r\n    )\r\n}","import { Grid } from \"@mui/material\";\r\nimport { Product } from \"../../app/models/product\";\r\nimport { useAppSelector } from \"../../app/store/configureStore\";\r\nimport ProductCard from \"./ProductCard\";\r\nimport ProductCardSkeleton from \"./ProductCardSkeleton\"\r\n\r\ninterface Props {\r\n    products: Product[];\r\n}\r\n\r\nexport default function ProductList({products}: Props) {\r\n    const {productsLoaded} = useAppSelector(state => state.catalog);\r\n    return(\r\n        <Grid\r\n            container\r\n            spacing={4}\r\n            marginBottom='20px'\r\n        >\r\n            {products.map((product, key) => (\r\n                <Grid item xs={12} sm={4} md={3} lg={3} key={key}>\r\n                    {!productsLoaded ? (\r\n                        <ProductCardSkeleton/>\r\n                    ) : (\r\n                        <ProductCard product={product} />\r\n                    )}\r\n                </Grid>\r\n            ))}\r\n        </Grid>\r\n    )\r\n}","import { debounce, TextField } from \"@mui/material\";\r\nimport { useState } from \"react\";\r\nimport { useAppDispatch, useAppSelector } from \"../../app/store/configureStore\";\r\nimport { setProductParams } from \"./catalogSlice\";\r\n\r\nexport default function ProductSearch() {\r\n    const {productParams} = useAppSelector(state => state.catalog);\r\n    const [searchTerm, setSearchTerm] = useState(productParams.searchTerm);\r\n    const dispatch = useAppDispatch();\r\n\r\n    const debouncedSearch = debounce((event: any) => {\r\n        dispatch(setProductParams({searchTerm: event.target.value}))\r\n    }, 1000)\r\n\r\n    return (\r\n        <TextField\r\n            label='Search products'\r\n            variant='outlined'\r\n            fullWidth\r\n            value={searchTerm || ''}\r\n            onChange={(event: any) => {\r\n                setSearchTerm(event.target.value);\r\n                debouncedSearch(event);\r\n            }}\r\n          />\r\n    )\r\n}","import { FormControl, FormLabel, RadioGroup, FormControlLabel, Radio } from \"@mui/material\";\r\n\r\ninterface Props {\r\n    options: any[];\r\n    onChange: (event: any) => void;\r\n    selectedValue: string;\r\n}\r\n\r\nexport default function RadioButtonGroup({options, onChange, selectedValue}: Props) {\r\n    return (\r\n        <FormControl>\r\n            <FormLabel id=\"demo-radio-buttons-group-label\">Order by</FormLabel>\r\n            <RadioGroup onChange={onChange} value={selectedValue}>\r\n              {options.map(({value, label}) => (\r\n                <FormControlLabel value={value} control={<Radio />} label={label} key={value} />\r\n              ))}\r\n            </RadioGroup>\r\n          </FormControl>\r\n    )\r\n}","import { FormGroup, FormControlLabel, Checkbox } from \"@mui/material\";\r\nimport { useState } from \"react\";\r\n\r\ninterface Props {\r\n    items: string[];\r\n    checked: string[];\r\n    onChange: (items: string[]) => void;\r\n}\r\n\r\nexport default function CheckboxButtons({items, checked, onChange}: Props) {\r\n    const [checkedItems, setCheckedItems] = useState(checked || [])\r\n\r\n    function handleChecked(value: string) {\r\n        const currentIndex = checkedItems.findIndex(item => item === value);\r\n        let newChecked: string[] = [];\r\n        if (currentIndex === -1) newChecked = [...checkedItems, value];\r\n        else newChecked = checkedItems.filter(item => item !== value);\r\n        setCheckedItems(newChecked);\r\n        onChange(newChecked);\r\n    }\r\n\r\n    return (\r\n        <FormGroup>\r\n            {items.map(item => (\r\n              <FormControlLabel \r\n                control={<Checkbox \r\n                    checked={checkedItems.indexOf(item) !== -1}\r\n                    onClick={() => handleChecked(item)} \r\n                />} \r\n                label={item} \r\n                key={item} />\r\n            ))}\r\n          </FormGroup>\r\n    )\r\n}","import { Box, Typography, Pagination } from \"@mui/material\";\r\nimport { MetaData } from \"../models/pagination\";\r\n\r\ninterface Props {\r\n    metaData: MetaData;\r\n    onPageChange: (page: number) => void;\r\n}\r\n\r\nexport default function AppPagination({metaData, onPageChange}: Props) {\r\n    const {currentPage, totalCount, totalPages, pageSize} = metaData;\r\n    return (\r\n        <Box display='flex' justifyContent='space-between' alignItems='center' mb='20px'>\r\n          <Typography>\r\n            Displaying {(currentPage-1)*pageSize+1}-{currentPage*pageSize > totalCount \r\n                ? totalCount \r\n                : currentPage*pageSize} of {totalCount} items\r\n          </Typography>\r\n          <Pagination\r\n            color='secondary'\r\n            size='large'\r\n            count={totalPages}\r\n            page={currentPage}\r\n            onChange={(e, page) => onPageChange(page)}\r\n          />\r\n        </Box>\r\n    )\r\n}","import { Backdrop, Box, Typography, CircularProgress } from \"@mui/material\";\r\n\r\ninterface Props {\r\n    message?: string;\r\n}\r\n\r\nexport default function LoadingComponent({message = 'Loading...'}: Props) {\r\n    return (\r\n        <Backdrop open={true} invisible={true}>\r\n            <Box display='flex' justifyContent='center' alignItems='center' height='100vh'>\r\n                <CircularProgress size={100} color='primary' />\r\n                <Typography variant='h4' sx={{justifyContent: 'center', position: 'fixed', top: '60%'}}>{message}</Typography>\r\n            </Box>\r\n        </Backdrop>\r\n    )\r\n}","import { useEffect } from \"react\";\r\nimport { productSelectors, fetchProductsAsync, fetchFiltersAsync } from \"../../features/catalog/catalogSlice\";\r\nimport { useAppSelector, useAppDispatch } from \"../store/configureStore\";\r\n\r\nexport default function useProducts() {\r\n    const products = useAppSelector(productSelectors.selectAll);\r\n    const dispatch = useAppDispatch();\r\n    const {productsLoaded, filtersLoaded, brands, types, metaData} = useAppSelector(state => state.catalog);\r\n\r\n    useEffect(() => {\r\n      if (!productsLoaded) dispatch(fetchProductsAsync());\r\n    }, [productsLoaded, dispatch])\r\n\r\n    useEffect(() => {\r\n      if (!filtersLoaded) dispatch(fetchFiltersAsync());\r\n    }, [filtersLoaded, dispatch])\r\n\r\n    return {\r\n        products,\r\n        productsLoaded,\r\n        filtersLoaded,\r\n        brands,\r\n        types,\r\n        metaData\r\n    }\r\n}","import ProductList from \"./ProductList\";\r\nimport { useAppDispatch, useAppSelector } from \"../../app/store/configureStore\";\r\nimport { setPageNumber, setProductParams } from \"./catalogSlice\";\r\nimport { Grid, Paper } from \"@mui/material\";\r\nimport ProductSearch from \"./ProductSearch\";\r\nimport RadioButtonGroup from \"../../app/components/RadioButtonGroup\";\r\nimport CheckboxButtons from \"../../app/components/CheckboxButtons\";\r\nimport AppPagination from \"../../app/components/AppPagination\";\r\nimport LoadingComponent from \"../../app/layout/LoadingComponent\";\r\nimport useProducts from \"../../app/hooks/useProducts\";\r\n\r\nconst sortOptions = [\r\n  {value: 'name', label: 'Alphabetical'},\r\n  {value: 'priceDesc', label: 'Price - High to low'},\r\n  {value: 'price', label: 'Price - Low to high'},\r\n]\r\n\r\nexport default function Catalog() {\r\n    const {products, brands, types, filtersLoaded, metaData} = useProducts();\r\n    const { productParams } = useAppSelector(state => state.catalog); \r\n    const dispatch = useAppDispatch();\r\n\r\n    if (!filtersLoaded) return <LoadingComponent message='Loading products...'/>  \r\n\r\n    return (\r\n    <Grid \r\n      container\r\n      spacing={4}\r\n      columnSpacing={4}\r\n    >\r\n      <Grid item xs={3}>\r\n        <Paper sx={{mb: 2}}>\r\n          <ProductSearch/>        \r\n        </Paper>\r\n        <Paper sx={{mb: 2, p: 2}}>\r\n          <RadioButtonGroup\r\n            selectedValue={productParams.orderBy}\r\n            options={sortOptions}\r\n            onChange={(e) => dispatch(setProductParams({orderBy: e.target.value}))}\r\n          />\r\n        </Paper>\r\n        <Paper sx={{mb: 2, p: 2}}>\r\n          <CheckboxButtons\r\n            items={brands}\r\n            checked={productParams.brands!}\r\n            onChange={(items: string[]) => dispatch(setProductParams({brands: items}))}\r\n          />\r\n        </Paper>\r\n        <Paper sx={{mb: 2, p: 2}}>\r\n          <CheckboxButtons\r\n            items={types}\r\n            checked={productParams.types!}\r\n            onChange={(items: string[]) => dispatch(setProductParams({types: items}))}\r\n          />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={9}>\r\n        <ProductList products={products}/>\r\n      </Grid>\r\n      <Grid item xs={3} />\r\n      <Grid item xs={8} sx={{mb: 2}}>\r\n        {metaData &&\r\n        <AppPagination\r\n          metaData={metaData}\r\n          onPageChange={(page: number) => dispatch(setPageNumber({pageNumber: page}))}\r\n        />}\r\n      </Grid>\r\n    </Grid>\r\n    )\r\n}","import { Grid, Typography } from \"@mui/material\";\r\nimport Slider from \"react-slick\";\r\n\r\nexport default function HomePage() {\r\n    const settings = {\r\n        dots: true,\r\n        infinite: true,\r\n        autoplay: true,\r\n        autoplaySpeed: 3000,\r\n        speed: 500,\r\n        slidesToShow: 1,\r\n        slidesToScroll: 1\r\n      };\r\n    \r\n    const slickDivStyle = {\r\n        display: 'grid',\r\n        placeItems: 'center',\r\n        width: '80%',\r\n        marginTop: '50px',\r\n        margin: 'auto',\r\n        height: '500px',\r\n        padding: '0px',\r\n        background: 'red',\r\n    };\r\n    const imgStyle = {\r\n        margin: 'auto',\r\n        height: '100%',\r\n        width: '100%',\r\n        maxWidth: '400px',\r\n        maxHeight: '400px'\r\n    }\r\n      return (\r\n        <>\r\n            <Slider {...settings}>\r\n                <div style={slickDivStyle}>\r\n                    <img src=\"https://freepikpsd.com/file/2019/10/dot-net-logo-png-2-Transparent-Images.png\" alt=\"product\" style={imgStyle}/>\r\n                </div>\r\n                <div style={slickDivStyle}>\r\n                    <img src=\"https://logos-download.com/wp-content/uploads/2016/09/React_logo_wordmark-700x235.png\" alt=\"product\" style={imgStyle}/>\r\n                </div>\r\n                <div style={slickDivStyle}>\r\n                    <img src=\"https://www.docker.com/sites/default/files/d8/2019-07/horizontal-logo-monochromatic-white.png\" alt=\"product\" style={imgStyle}/>\r\n                </div>\r\n                <div style={slickDivStyle}>\r\n                    <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/e/ec/Heroku_logo.svg/2560px-Heroku_logo.svg.png\" alt=\"product\" style={imgStyle}/>\r\n                </div>\r\n                <div style={slickDivStyle}>\r\n                    <img src=\"https://logos-world.net/wp-content/uploads/2020/11/GitHub-Logo.png\" alt=\"product\" style={imgStyle}/>\r\n                </div>\r\n            </Slider>\r\n            <Grid \r\n            container\r\n            spacing={0}\r\n            direction=\"column\"\r\n            alignItems=\"center\"\r\n            justifyContent=\"center\"\r\n            marginBottom='20px'\r\n            marginTop='30px'\r\n            >\r\n                <Typography variant='h3'>\r\n                    Welcome to JStore!\r\n                </Typography>\r\n                <Typography variant='h5'>\r\n                    Made with .Net and React.\r\n                </Typography>\r\n            </Grid>\r\n        </>\r\n      );\r\n}","import { Container, Paper, Typography, Divider, Button } from \"@mui/material\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function NotFound() {\r\n    return (\r\n        <Container component={Paper}>\r\n            <Typography gutterBottom variant='h3'>Can't seem to find this item</Typography>\r\n            <Divider />\r\n            <Button fullWidth component={Link} to='/catalog'>Go back to shop</Button>\r\n        </Container>\r\n    )\r\n}","import { LoadingButton } from \"@mui/lab\";\r\nimport { Grid, Typography, Divider, TableContainer, TableRow, TableCell, TableBody, TextField } from \"@mui/material\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport NotFound from \"../../app/errors/NotFound\";\r\nimport LoadingComponent from \"../../app/layout/LoadingComponent\";\r\nimport { useAppDispatch, useAppSelector } from \"../../app/store/configureStore\";\r\nimport { addBasketItemAsync, removeBasketItemAsync } from \"../basket/basketSlice\";\r\nimport { fetchProductAsync, productSelectors } from \"./catalogSlice\";\r\n\r\nexport default function ProductDetails() {\r\n    const {basket, status} = useAppSelector(state => state.basket);\r\n    const dispatch = useAppDispatch();\r\n    const {id} = useParams() as {id: string};\r\n    const product = useAppSelector(state => productSelectors.selectById(state, id));\r\n    const {status: productStatus} = useAppSelector(state => state.catalog);\r\n    const [quantity, setQuantity] = useState(0);\r\n    const item = basket?.items.find(i => i.productId === product?.id)\r\n\r\n    useEffect(() => {\r\n        if (item) setQuantity(item.quantity);\r\n        if (!product) dispatch(fetchProductAsync(parseInt(id)));\r\n    }, [id, item, dispatch, product])\r\n\r\n    function handleInputChange(event: any) {\r\n        event.target.value > 0 &&\r\n            setQuantity(parseInt(event.target.value));\r\n    }\r\n\r\n    function handleUpdateCart() {\r\n        if (!item || quantity > item.quantity) {\r\n            const updatedQuantity = item ? quantity - item.quantity : quantity;\r\n            dispatch(addBasketItemAsync({productId: product?.id!, quantity: updatedQuantity}))\r\n        } else {\r\n            const updatedQuantity = item.quantity - quantity;\r\n            dispatch(removeBasketItemAsync({productId: product?.id!, quantity: updatedQuantity}))\r\n        }\r\n    }\r\n\r\n    if (productStatus.includes('pending')) return <LoadingComponent message='Loading product...'/>\r\n \r\n    if (!product) return <NotFound />\r\n\r\n    return (\r\n        <Grid \r\n            container \r\n            spacing={6}\r\n            alignItems=\"center\"\r\n            justifyContent=\"center\"\r\n            marginBottom='20px'\r\n        >\r\n            <Grid item xs={10} sm={6} md={6} lg={6}>\r\n                <img src={product.pictureUrl} alt={product.name} style={{width: '100%'}} />\r\n            </Grid>\r\n            <Grid item xs={16} sm={6} md={6} lg={6}>\r\n                <Typography variant='h3'>{product.name}</Typography>\r\n                <Divider sx={{mb: 2}}/>\r\n                <Typography variant='h4' color='secondary'>${(product.price / 100).toFixed(2)}</Typography>\r\n                <TableContainer>\r\n                    <TableBody>\r\n                        <TableRow>\r\n                            <TableCell>Name</TableCell>\r\n                            <TableCell>{product.name}</TableCell>\r\n                        </TableRow>\r\n                        <TableRow>\r\n                            <TableCell>Description</TableCell>\r\n                            <TableCell>{product.description}</TableCell>\r\n                        </TableRow>\r\n                        <TableRow>\r\n                            <TableCell>Type</TableCell>\r\n                            <TableCell>{product.type}</TableCell>\r\n                        </TableRow>\r\n                        <TableRow>\r\n                            <TableCell>Brand</TableCell>\r\n                            <TableCell>{product.brand}</TableCell>\r\n                        </TableRow>\r\n                        <TableRow>\r\n                            <TableCell>Quantity in stock</TableCell>\r\n                            <TableCell>{product.quantityInStock}</TableCell>\r\n                        </TableRow>\r\n                    </TableBody>\r\n                </TableContainer>\r\n                <Grid container spacing={2}>\r\n                    <Grid item xs={6}>\r\n                        <TextField\r\n                            onChange={handleInputChange}\r\n                            variant='outlined'\r\n                            type='number'\r\n                            label='Quantity in Cart'\r\n                            fullWidth\r\n                            value={quantity}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={6}>\r\n                        <LoadingButton\r\n                            disabled={item?.quantity === quantity}\r\n                            loading={status.includes('pending')}\r\n                            onClick={handleUpdateCart}\r\n                            sx={{height: '55px'}}\r\n                            color='primary'\r\n                            size='large'\r\n                            variant='contained'\r\n                            fullWidth\r\n                        >\r\n                            {item ? 'Update Quantity' : 'Add to Cart'}\r\n                        </LoadingButton>\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}","import { Alert, AlertTitle, Button, ButtonGroup, List, ListItem, ListItemText, Typography, Grid } from \"@mui/material\";\r\nimport { useState } from \"react\";\r\nimport agent from \"../../app/api/agent\";\r\n\r\nexport default function AboutPage() {\r\n    const [validationErrors, setValidationErrors] = useState<string[]>([]);\r\n\r\n    function getValidationError() {\r\n        agent.TestErrors.getValidationError()\r\n            .then(() => console.log('should not see this'))\r\n            .catch(error => setValidationErrors(error))\r\n\r\n    }\r\n    return (\r\n        <Grid \r\n            container\r\n            spacing={0}\r\n            direction=\"column\"\r\n            alignItems=\"center\"\r\n            justifyContent=\"center\"\r\n            marginBottom='20px'\r\n        >\r\n            <Typography gutterBottom variant='h6'>\r\n                Since this is a portfolio project, I've taken the liberty of making this page an error testing page so have some buttons :)\r\n            </Typography>\r\n\r\n            <ButtonGroup style={{flexWrap: 'wrap', textAlign: 'center', display: 'inline-block'}}>\r\n                <Button variant='contained' onClick={() => agent.TestErrors.get400Error().catch(error => console.log(error))}>Test 400 Error</Button>\r\n                <Button variant='contained' onClick={() => agent.TestErrors.get401Error().catch(error => console.log(error))}>Test 401 Error</Button>\r\n                <Button variant='contained' onClick={() => agent.TestErrors.get404Error().catch(error => console.log(error))}>Test 404 Error</Button>\r\n                <Button variant='contained' onClick={() => agent.TestErrors.get500Error().catch(error => console.log(error))}>Test 500 Error</Button>\r\n                <Button variant='contained' onClick={getValidationError}> Test Validation Error</Button>\r\n            </ButtonGroup>\r\n\r\n            {validationErrors.length > 0 && \r\n                <Alert severity='error'>\r\n                    <AlertTitle>Validation Errors</AlertTitle>\r\n                    <List>\r\n                        {validationErrors.map(error => (\r\n                            <ListItem key={error}>\r\n                                <ListItemText>{error}</ListItemText>\r\n                            </ListItem>\r\n                        ))}\r\n                    </List>\r\n                </Alert>\r\n            }\r\n        </Grid>\r\n    )\r\n}","import { Button, ButtonGroup, Container, Typography } from \"@mui/material\";\r\nimport { useAppDispatch, useAppSelector } from \"../../app/store/configureStore\";\r\nimport { decrement, increment } from \"./counterSlice\";\r\nimport { SocialIcon } from 'react-social-icons';\r\nimport \"./socialStyle.css\";\r\n\r\nexport default function ContactPage() {\r\n    const dispatch = useAppDispatch();\r\n    const {data, title} = useAppSelector(state => state.counter);\r\n    return (\r\n        <>\r\n            <Typography variant='h2'>\r\n                {title}\r\n            </Typography>\r\n            <Typography variant='h5'>\r\n                Data is: {data}\r\n            </Typography>\r\n            <ButtonGroup>\r\n                <Button onClick={() => dispatch(decrement(1))} variant='contained' color='error'>Decrement</Button>\r\n                <Button onClick={() => dispatch(increment(1))} variant='contained' color='error'>Increment</Button>\r\n            </ButtonGroup>\r\n            <Container style={{display: 'flex', justifyContent: 'center'}}>\r\n                <SocialIcon className=\"social\" url=\"https://github.com/fcolt\" />\r\n                <SocialIcon className=\"social\" url=\"https://www.linkedin.com/in/fabian-olteanu/\" />\r\n            </Container>\r\n        </>\r\n    )\r\n}","import { styled, Switch } from \"@mui/material\";\r\nexport const MaterialUISwitch = styled(Switch)(({ theme }) => ({\r\n    width: 62,\r\n    height: 34,\r\n    padding: 7,\r\n    '& .MuiSwitch-switchBase': {\r\n      margin: 1,\r\n      padding: 0,\r\n      transform: 'translateX(6px)',\r\n      '&.Mui-checked': {\r\n        color: '#fff',\r\n        transform: 'translateX(22px)',\r\n        '& .MuiSwitch-thumb:before': {\r\n          backgroundImage: `url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"20\" width=\"20\" viewBox=\"0 0 20 20\"><path fill=\"${encodeURIComponent(\r\n            '#fff',\r\n          )}\" d=\"M4.2 2.5l-.7 1.8-1.8.7 1.8.7.7 1.8.6-1.8L6.7 5l-1.9-.7-.6-1.8zm15 8.3a6.7 6.7 0 11-6.6-6.6 5.8 5.8 0 006.6 6.6z\"/></svg>')`,\r\n        },\r\n        '& + .MuiSwitch-track': {\r\n          opacity: 1,\r\n          backgroundColor: theme.palette.mode === 'dark' ? '#8796A5' : '#aab4be',\r\n        },\r\n      },\r\n    },\r\n    '& .MuiSwitch-thumb': {\r\n      backgroundColor: theme.palette.mode === 'dark' ? '#003892' : '#001e3c',\r\n      width: 32,\r\n      height: 32,\r\n      '&:before': {\r\n        content: \"''\",\r\n        position: 'absolute',\r\n        width: '100%',\r\n        height: '100%',\r\n        left: 0,\r\n        top: 0,\r\n        backgroundRepeat: 'no-repeat',\r\n        backgroundPosition: 'center',\r\n        backgroundImage: `url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"20\" width=\"20\" viewBox=\"0 0 20 20\"><path fill=\"${encodeURIComponent(\r\n          '#fff',\r\n        )}\" d=\"M9.305 1.667V3.75h1.389V1.667h-1.39zm-4.707 1.95l-.982.982L5.09 6.072l.982-.982-1.473-1.473zm10.802 0L13.927 5.09l.982.982 1.473-1.473-.982-.982zM10 5.139a4.872 4.872 0 00-4.862 4.86A4.872 4.872 0 0010 14.862 4.872 4.872 0 0014.86 10 4.872 4.872 0 0010 5.139zm0 1.389A3.462 3.462 0 0113.471 10a3.462 3.462 0 01-3.473 3.472A3.462 3.462 0 016.527 10 3.462 3.462 0 0110 6.528zM1.665 9.305v1.39h2.083v-1.39H1.666zm14.583 0v1.39h2.084v-1.39h-2.084zM5.09 13.928L3.616 15.4l.982.982 1.473-1.473-.982-.982zm9.82 0l-.982.982 1.473 1.473.982-.982-1.473-1.473zM9.305 16.25v2.083h1.389V16.25h-1.39z\"/></svg>')`,\r\n      },\r\n    },\r\n    '& .MuiSwitch-track': {\r\n      opacity: 1,\r\n      backgroundColor: theme.palette.mode === 'dark' ? '#8796A5' : '#aab4be',\r\n      borderRadius: 20 / 2,\r\n    },\r\n  }));","import { ShoppingCart } from \"@mui/icons-material\";\r\nimport { AppBar, Badge, Box, IconButton, List, ListItem, Menu, MenuItem, Toolbar, Tooltip, Typography } from \"@mui/material\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { MaterialUISwitch } from \"./DarkModeSwitch\";\r\nimport { useTheme } from '@mui/material/styles';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport { useState } from \"react\";\r\nimport LoginIcon from '@mui/icons-material/Login';\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport { Link } from \"react-router-dom\";\r\nimport { useAppSelector } from \"../store/configureStore\";\r\n\r\ninterface Props {\r\n    darkMode: boolean;\r\n    handleThemeChange: () => void;\r\n}\r\n\r\nconst midLinks = [\r\n  {title: 'Catalog', path: '/catalog'},\r\n  {title: 'About', path: '/about'},\r\n  {title: 'Contact', path: '/contact'}\r\n]\r\n\r\nconst rightLinks = [\r\n  {title: 'Login', path: '/login'},\r\n  {title: 'Register', path: '/register'}\r\n]\r\n\r\nconst navStyles = {\r\n  color: 'inherit',\r\n  textDecoration: 'none',\r\n  typography: 'h5',\r\n  '&:hover': {\r\n      color:'grey.500'\r\n  },\r\n  '&.active':{\r\n      color: 'text.secondary'\r\n  }\r\n}\r\n\r\nexport default function Header({darkMode, handleThemeChange}: Props) {\r\n  const { user } = useAppSelector(state => state.account);\r\n  const {basket} = useAppSelector(state => state.basket);\r\n  const itemCount = basket?.items.reduce((sum, item) => sum + item.quantity, 0);\r\n\r\n  const [anchorElNav, setAnchorElNav] = useState(null);\r\n  const [anchorElUser, setAnchorElUser] = useState(null);\r\n  \r\n  const handleOpenNavMenu = (event: any) => {\r\n    setAnchorElNav(event.currentTarget);\r\n  };\r\n\r\n  const handleOpenUserMenu = (event: any) => {\r\n    setAnchorElUser(event.currentTarget);\r\n  };\r\n\r\n  const handleCloseNavMenu = () => {\r\n    setAnchorElNav(null);\r\n  };\r\n\r\n  const handleCloseUserMenu = () => {\r\n    setAnchorElUser(null);\r\n  };\r\n\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n    return (\r\n      <Box sx={{ flexGrow: 1 }}>\r\n        <AppBar position='static' sx={{mb: 4}}>\r\n            <Toolbar sx={{display: 'flex', justifyContent: 'space-between', alignItems: 'center'}}>\r\n              {isMobile ? (//---------------------------------------------MOBILE--------------------------------------------------------\r\n              <>\r\n              <Box sx={{ flexGrow: 1, display: 'flex', alignItems: 'center' }}>\r\n                <IconButton\r\n                  size=\"large\"\r\n                  aria-label=\"account of current user\"\r\n                  aria-controls=\"menu-appbar\"\r\n                  aria-haspopup=\"true\"\r\n                  onClick={handleOpenNavMenu}\r\n                  color=\"inherit\"\r\n                >\r\n                  <MenuIcon />\r\n                </IconButton>\r\n                <Menu\r\n                  id=\"menu-appbar\"\r\n                  anchorEl={anchorElNav}\r\n                  anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'left',\r\n                  }}\r\n                  keepMounted\r\n                  transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'left',\r\n                  }}\r\n                  open={Boolean(anchorElNav)}\r\n                  onClose={handleCloseNavMenu}\r\n                  sx={{\r\n                    display: { xs: 'block', md: 'none' },\r\n                  }}\r\n                >\r\n                  <List sx={{display: 'block'}}>\r\n                      {midLinks.map(({title, path}) => (\r\n                        <ListItem\r\n                          component={NavLink}\r\n                          to={path}\r\n                          key={path}\r\n                          sx={navStyles}                      \r\n                        >\r\n                          {title}\r\n                        </ListItem>\r\n                      ))}\r\n                      {user &&\r\n                      <ListItem\r\n                          component={NavLink}\r\n                          to={'/inventory'}\r\n                          sx={navStyles}                      \r\n                        >\r\n                          Inventory\r\n                      </ListItem>}\r\n                  </List>\r\n                </Menu>\r\n                <Typography \r\n                    variant='h6' \r\n                    component={NavLink} \r\n                    to='/' \r\n                    sx={navStyles}\r\n                  >\r\n                      JStore\r\n                  </Typography>\r\n                <MaterialUISwitch \r\n                  checked={darkMode} \r\n                  onChange={handleThemeChange}\r\n                />\r\n              </Box>\r\n\r\n              <Box display='flex' alignItems='center'>\r\n                \r\n              </Box>\r\n\r\n              <Box display='flex' alignItems='center'>\r\n                  <IconButton component={Link} to='/basket' size='large' sx={{color: 'inherit'}}>\r\n                    <Badge badgeContent={itemCount} color='secondary'>\r\n                      <ShoppingCart />                  \r\n                    </Badge>\r\n                  </IconButton>\r\n                  <Tooltip title=\"Connect\">\r\n                  <IconButton onClick={handleOpenUserMenu} sx={{color: 'inherit'}}>\r\n                    <LoginIcon />\r\n                  </IconButton>\r\n                </Tooltip>\r\n                <Menu\r\n                  sx={{ mt: '45px' }}\r\n                  id=\"menu-appbar\"\r\n                  anchorEl={anchorElUser}\r\n                  anchorOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                  }}\r\n                  keepMounted\r\n                  transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                  }}\r\n                  open={Boolean(anchorElUser)}\r\n                  onClose={handleCloseUserMenu}\r\n                >\r\n                  <MenuItem onClick={handleCloseNavMenu}>\r\n                    <List sx={{display: 'block'}}>\r\n                      {rightLinks.map(({title, path}) => (\r\n                        <ListItem\r\n                          component={NavLink}\r\n                          to={path}\r\n                          key={path}\r\n                          sx={navStyles}                      \r\n                        >\r\n                          {title}\r\n                        </ListItem>\r\n                      ))}\r\n                    </List>\r\n                  </MenuItem>\r\n                </Menu>\r\n              </Box>\r\n              </>\r\n              ) : ( //---------------------------------------------------DESKTOP-----------------------------------\r\n              <>\r\n              <Box display='flex' alignItems='center'>\r\n                <Typography \r\n                    variant='h6' \r\n                    component={NavLink} \r\n                    to='/' \r\n                    sx={navStyles}\r\n                  >\r\n                      JStore\r\n                  </Typography>\r\n                  <MaterialUISwitch \r\n                    checked={darkMode} \r\n                    onChange={handleThemeChange}\r\n                  />\r\n              </Box>\r\n\r\n              <List sx={{display: 'flex'}}>\r\n                  {midLinks.map(({title, path}) => (\r\n                    <ListItem\r\n                      component={NavLink}\r\n                      to={path}\r\n                      key={path}\r\n                      sx={navStyles}                      \r\n                    >\r\n                      {title}\r\n                    </ListItem>\r\n                  ))}\r\n                  {user &&\r\n                  <ListItem\r\n                      component={NavLink}\r\n                      to={'/inventory'}\r\n                      sx={navStyles}                      \r\n                    >\r\n                      Inventory\r\n                  </ListItem>}\r\n              </List>  \r\n                \r\n              <Box display='flex' alignItems='center'>\r\n                  <IconButton component={Link} to='/basket' size='large' sx={{color: 'inherit'}}>\r\n                    <Badge badgeContent={itemCount} color='secondary'>\r\n                      <ShoppingCart />                  \r\n                    </Badge>\r\n                  </IconButton>\r\n                  <Tooltip title=\"Connect\">\r\n                    <IconButton onClick={handleOpenUserMenu} sx={{color: 'inherit'}}>\r\n                      <LoginIcon />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                <Menu\r\n                  sx={{ mt: '45px' }}\r\n                  id=\"menu-appbar\"\r\n                  anchorEl={anchorElUser}\r\n                  anchorOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                  }}\r\n                  keepMounted\r\n                  transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                  }}\r\n                  open={Boolean(anchorElUser)}\r\n                  onClose={handleCloseUserMenu}\r\n                >\r\n                  <MenuItem onClick={handleCloseNavMenu}>\r\n                    <List sx={{display: 'block'}}>\r\n                      {rightLinks.map(({title, path}) => (\r\n                        <ListItem\r\n                          component={NavLink}\r\n                          to={path}\r\n                          key={path}\r\n                          sx={navStyles}                      \r\n                        >\r\n                          {title}\r\n                        </ListItem>\r\n                      ))}\r\n                    </List>\r\n                  </MenuItem>\r\n                </Menu>\r\n              </Box>\r\n              </>\r\n              )}\r\n            </Toolbar>\r\n        </AppBar>\r\n      </Box>\r\n    )\r\n}","import { Button, Container, Divider, Paper, Typography } from \"@mui/material\"\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { history } from '../..'\r\n\r\nexport default function ServerError() {\r\n    const {state} = useLocation();\r\n    return (\r\n        <Container component={Paper}>\r\n            {state?.error ? (\r\n                <>\r\n                    <Typography variant='h3' color ='error' gutterBottom>{state.error.title}</Typography>\r\n                    <Divider />\r\n                    <Typography>{state.error.detail || 'Internal server error'}</Typography>\r\n                </>\r\n            ) : (\r\n                <Typography variant='h5' gutterBottom>Server error</Typography>\r\n            )}\r\n            <Button onClick={() => history.push('/catalog')}>Go back to the store</Button>\r\n        </Container>\r\n    )\r\n}","import { Paper, Table, TableBody, TableCell, TableContainer, TableRow } from \"@mui/material\";\r\nimport { useAppSelector } from \"../../app/store/configureStore\";\r\nimport { currencyFormat } from \"../../app/util/util\";\r\n\r\nexport default function BasketSummary() {\r\n    const {basket} = useAppSelector(state => state.basket);\r\n    const subtotal = basket?.items.reduce((sum, item) => sum + item.price * item.quantity, 0) ?? 0;\r\n    const deliveryFee = subtotal/100 < 100 && subtotal !== 0 ? 500 : 0\r\n    \r\n    return (\r\n        <>\r\n            <TableContainer component={Paper} variant={'outlined'}>\r\n                <Table>\r\n                    <TableBody>\r\n                        <TableRow>\r\n                            <TableCell colSpan={2}>Subtotal</TableCell>\r\n                            <TableCell align=\"right\">{currencyFormat(subtotal!)}</TableCell>\r\n                        </TableRow>\r\n                        <TableRow>\r\n                            <TableCell colSpan={2}>Delivery fee*</TableCell>\r\n                            <TableCell align=\"right\">{currencyFormat(deliveryFee)}</TableCell>\r\n                        </TableRow>\r\n                        <TableRow>\r\n                            <TableCell colSpan={2}>Total</TableCell>\r\n                            <TableCell align=\"right\">{currencyFormat(subtotal! + deliveryFee)}</TableCell>\r\n                        </TableRow>\r\n                        <TableRow>\r\n                            <TableCell>\r\n                                <span style={{fontStyle: 'italic'}}>*Orders over $100 qualify for free delivery</span>\r\n                            </TableCell>\r\n                        </TableRow>\r\n                    </TableBody>\r\n                </Table>\r\n            </TableContainer>\r\n        </>\r\n    )\r\n}","import { Add, Delete, Remove } from \"@mui/icons-material\";\r\nimport { LoadingButton } from \"@mui/lab\";\r\nimport { Grid, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Typography, Box, Button } from \"@mui/material\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useAppDispatch, useAppSelector } from \"../../app/store/configureStore\";\r\nimport { currencyFormat } from \"../../app/util/util\";\r\nimport { addBasketItemAsync, removeBasketItemAsync } from \"./basketSlice\";\r\nimport BasketSummary from \"./BasketSummary\";\r\n\r\nexport default function BasketPage() {\r\n    const {basket, status} = useAppSelector(state => state.basket);\r\n    const dispatch = useAppDispatch();\r\n    \r\n    if (!basket) return <Typography variant='h3'>Your basket is empty</Typography>\r\n\r\n    return (\r\n    <Grid\r\n        container \r\n        spacing={6}\r\n        alignItems=\"center\"\r\n        justifyContent=\"center\"\r\n        marginBottom='20px'\r\n    >\r\n        <Grid item xs={10} sm={8} md={9} lg={10}>\r\n            <TableContainer component={Paper}>\r\n                <Table sx={{ minWidth: 650 }}>\r\n                    <TableHead>\r\n                    <TableRow>\r\n                        <TableCell>Product</TableCell>\r\n                        <TableCell align=\"left\">Price</TableCell>\r\n                        <TableCell align=\"left\">Quantity</TableCell>\r\n                        <TableCell align=\"left\">Subtotal</TableCell>\r\n                        <TableCell></TableCell>\r\n                    </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                    {basket.items.map(item => (\r\n                        <TableRow\r\n                        key={item.productId}\r\n                        sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\r\n                        >\r\n                        <TableCell component=\"th\" scope=\"row\">\r\n                            <Box display='flex' alignItems='center'>\r\n                                <img src={item.pictureUrl} alt={item.name} style={{height: 50, marginRight: 20}} />\r\n                                <span>{item.name}</span>\r\n                            </Box>\r\n                        </TableCell>\r\n                        <TableCell align=\"left\">{currencyFormat(item.price)}</TableCell>\r\n                        <TableCell align=\"left\">\r\n                            <LoadingButton \r\n                                loading={status === 'pendingAddItem' + item.productId} \r\n                                onClick={() => dispatch(addBasketItemAsync({productId: item.productId}))} \r\n                                color='success'\r\n                            >\r\n                                <Add />\r\n                            </LoadingButton>\r\n                                {item.quantity}\r\n                            <LoadingButton \r\n                                loading={status === 'pendingRemoveItem' + item.productId + 'rem'} \r\n                                onClick={() => dispatch(removeBasketItemAsync({productId: item.productId, quantity: 1, name: 'rem'}))} \r\n                                color='error'\r\n                            >\r\n                                <Remove />\r\n                            </LoadingButton>\r\n                        </TableCell>\r\n                        <TableCell align=\"left\">{currencyFormat(item.price * item.quantity)}</TableCell>\r\n                        <TableCell align=\"left\">\r\n                            <LoadingButton \r\n                                loading={status === 'pendingRemoveItem' + item.productId + 'del'}\r\n                                onClick={() => dispatch(removeBasketItemAsync({\r\n                                    productId: item.productId, quantity: item.quantity, name: 'del'\r\n                                }))} \r\n                                color='error'\r\n                            >\r\n                                <Delete/>\r\n                            </LoadingButton>\r\n                        </TableCell>\r\n                        </TableRow>\r\n                    ))}\r\n                    </TableBody>\r\n                </Table>\r\n            </TableContainer>\r\n            <Grid item xs={10} sm={9} md={7} lg={7}>\r\n                <BasketSummary />\r\n                <Button\r\n                    component={Link}\r\n                    to='/checkout'\r\n                    variant='contained'\r\n                    size='large'\r\n                    fullWidth\r\n                >\r\n                    Checkout\r\n                </Button>\r\n            </Grid>\r\n        </Grid>\r\n    </Grid>\r\n    )\r\n}","import { Typography } from \"@mui/material\"\r\nexport default function CheckoutPage() {\r\n    return (\r\n        <Typography variant='h3'>\r\n            Only logged in users should be able to see this!\r\n        </Typography>\r\n    )\r\n}","import { Box, Container, CssBaseline, Link, Paper, Typography } from \"@mui/material\";\r\n\r\nfunction Copyright() {\r\n    return (\r\n    <Paper>\r\n        <Typography variant=\"body2\" color='text.disabled'>\r\n            {'Copyright  '}\r\n            <Link color=\"inherit\" href=\"https://jstore-reactapp.herokuapp.com/\">\r\n            JStore\r\n            </Link>{' '}\r\n            {new Date().getFullYear() - 1} {' - '} \r\n            {new Date().getFullYear()}\r\n            {'.'}\r\n        </Typography>\r\n    </Paper>\r\n      \r\n    );\r\n}\r\n\r\nexport default function Footer() {\r\n    return (\r\n    <Box\r\n        sx={{\r\n            fontSize: \"20px\",\r\n            textAlign: \"center\",\r\n            padding: \"0px\",\r\n            position: \"fixed\",\r\n            left: \"0\",\r\n            bottom: \"0\",\r\n            height: \"20px\",\r\n            width: \"100%\"\r\n        }}\r\n    >\r\n        <CssBaseline />\r\n        <Box component=\"footer\">\r\n            <Container maxWidth=\"sm\">\r\n                <Copyright />\r\n            </Container>\r\n        </Box>\r\n    </Box>\r\n  );\r\n}","import Avatar from '@mui/material/Avatar';\r\nimport TextField from '@mui/material/TextField';\r\nimport Grid from '@mui/material/Grid';\r\nimport Box from '@mui/material/Box';\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\r\nimport Typography from '@mui/material/Typography';\r\nimport Container from '@mui/material/Container';\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\nimport { Paper } from '@mui/material';\r\nimport { Link } from 'react-router-dom';\r\nimport { useForm, FieldValues } from 'react-hook-form';\r\nimport { LoadingButton } from '@mui/lab';\r\nimport { useAppDispatch } from '../../app/store/configureStore';\r\nimport { signInUser } from './accountSlice';\r\nimport { history } from \"../..\";\r\n\r\nconst theme = createTheme();\r\n\r\nexport default function Login() {\r\n    const dispatch = useAppDispatch();\r\n    const {register, handleSubmit, formState: {isSubmitting, errors, isValid}} = useForm({\r\n        mode: 'all'\r\n    });\r\n\r\n    async function submitForm(data: FieldValues) {\r\n        await dispatch(signInUser(data));\r\n        history.push('/catalog');\r\n    }\r\n\r\n    return (\r\n    <ThemeProvider theme={theme}>\r\n        <Container component={Paper} maxWidth=\"sm\" sx={{display: 'flex', flexDirection: 'column', alignItems: 'center', p: 4}}>\r\n        <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\r\n        <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n            Login\r\n        </Typography>\r\n        <Box component=\"form\" onSubmit={handleSubmit(submitForm)} noValidate sx={{ mt: 1 }}>\r\n        <TextField\r\n            margin=\"normal\"\r\n            fullWidth\r\n            label=\"Username\"\r\n            autoFocus\r\n            {...register('username', {required: 'Username is required'})}\r\n            error={!!errors.username}\r\n            helperText={errors?.username?.message}\r\n        />\r\n        <TextField\r\n            margin=\"normal\"\r\n            fullWidth\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            {...register('password', {required: 'Password is required'})}\r\n            error={!!errors.username}\r\n            helperText={errors?.password?.message}\r\n        />\r\n        <LoadingButton \r\n            loading={isSubmitting}\r\n            disabled={!isValid}\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            sx={{ mt: 3, mb: 2 }}\r\n        >\r\n            Log in\r\n        </LoadingButton>\r\n        <Grid container>\r\n            <Grid item>\r\n                <Link to='/register'>\r\n                    {\"Don't have an account? Sign Up\"}\r\n                </Link>\r\n            </Grid>\r\n        </Grid>\r\n        </Box>\r\n        </Container>\r\n    </ThemeProvider>\r\n    );\r\n}","import Avatar from '@mui/material/Avatar';\r\nimport TextField from '@mui/material/TextField';\r\nimport Grid from '@mui/material/Grid';\r\nimport Box from '@mui/material/Box';\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\r\nimport Typography from '@mui/material/Typography';\r\nimport Container from '@mui/material/Container';\r\nimport { Paper } from '@mui/material';\r\nimport { Link } from 'react-router-dom';\r\nimport { useForm } from 'react-hook-form';\r\nimport { LoadingButton } from '@mui/lab';\r\nimport agent from '../../app/api/agent';\r\nimport { toast } from 'react-toastify';\r\nimport { history } from \"../..\";\r\n\r\nexport default function Register() {\r\n    const { register, handleSubmit, setError, formState: { isSubmitting, errors, isValid } } = useForm({\r\n        mode: 'all'\r\n    });\r\n\r\n    function handleApiErrors(errors: any) {\r\n        if (errors) {\r\n            errors.forEach((error: string) => {\r\n                if (error.includes('Password')) {\r\n                    setError('password', { message: error })\r\n                } else if (error.includes('Email')) {\r\n                    setError('email', { message: error })\r\n                } else if (error.includes('Username')) {\r\n                    setError('username', { message: error })\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Container component={Paper} maxWidth=\"sm\" sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center', p: 4 }}>\r\n            <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\r\n                <LockOutlinedIcon />\r\n            </Avatar>\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n                Register\r\n            </Typography>\r\n            <Box component=\"form\"\r\n                onSubmit={handleSubmit((data) =>\r\n                    agent.Account.register(data)\r\n                        .then(() => {\r\n                            toast.success('Registration successful - you can now login');\r\n                            history.push('/login');\r\n                        })\r\n                        .catch(error => handleApiErrors(error))\r\n                )}\r\n                noValidate sx={{ mt: 1 }}\r\n            >\r\n                <TextField\r\n                    margin=\"normal\"\r\n                    fullWidth\r\n                    label=\"Username\"\r\n                    autoFocus\r\n                    {...register('username', { required: 'Username is required' })}\r\n                    error={!!errors.username}\r\n                    helperText={errors?.username?.message}\r\n                />\r\n                <TextField\r\n                    margin=\"normal\"\r\n                    fullWidth\r\n                    label=\"Email address\"\r\n                    {...register('email', { \r\n                        required: 'Email is required',\r\n                        pattern: {\r\n                            value: /^\\w+[\\w-.]*@\\w+((-\\w+)|(\\w*)).[a-z]{2,3}$/,\r\n                            message: 'Not a valid email address'\r\n                        } \r\n                    })}\r\n                    error={!!errors.email}\r\n                    helperText={errors?.email?.message}\r\n                />\r\n                <TextField\r\n                    margin=\"normal\"\r\n                    fullWidth\r\n                    label=\"Password\"\r\n                    type=\"password\"\r\n                    {...register('password', { \r\n                        required: 'Password is required',\r\n                        pattern: {\r\n                            value: /(?=^.{6,10}$)(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&amp;*()_+}{&quot;:;'?/&gt;.&lt;,])(?!.*\\s).*$/,\r\n                            message: 'Password must contain at least one uppercase letter and a special character'\r\n                        }\r\n                    })}\r\n                    error={!!errors.password}\r\n                    helperText={errors?.password?.message}\r\n                />\r\n                <LoadingButton\r\n                    disabled={!isValid}\r\n                    loading={isSubmitting}\r\n                    type=\"submit\"\r\n                    fullWidth\r\n                    variant=\"contained\"\r\n                    sx={{ mt: 3, mb: 2 }}\r\n                >\r\n                    Register\r\n                </LoadingButton>\r\n                <Grid container>\r\n                    <Grid item>\r\n                        <Link to='/login'>\r\n                            {\"Already have an account? Sign In\"}\r\n                        </Link>\r\n                    </Grid>\r\n                </Grid>\r\n            </Box>\r\n        </Container>\r\n    );\r\n}","import { UploadFile } from '@mui/icons-material';\r\nimport { FormControl, FormHelperText, Typography } from '@mui/material';\r\nimport { useCallback } from 'react';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport { useController, UseControllerProps } from 'react-hook-form';\r\n\r\ninterface Props extends UseControllerProps { }\r\n\r\nexport default function AppDropzone(props: Props) {\r\n    const { fieldState, field } = useController({ ...props, defaultValue: null });\r\n\r\n    const dzStyles = {\r\n        display: 'flex',\r\n        border: 'dashed 3px #eee',\r\n        borderColor: '#eee',\r\n        borderRadius: '5px',\r\n        paddingTop: '30px',\r\n        alignItems: 'center',\r\n        height: 200,\r\n        width: 500\r\n    }\r\n\r\n    const dzActive = {\r\n        borderColor: 'green'\r\n    }\r\n\r\n    const onDrop = useCallback(acceptedFiles => {\r\n        acceptedFiles[0] = Object.assign(acceptedFiles[0], \r\n            {preview: URL.createObjectURL(acceptedFiles[0])});\r\n        field.onChange(acceptedFiles[0]);\r\n    }, [field])\r\n    const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop })\r\n\r\n    return (\r\n        <div {...getRootProps()}>\r\n            <FormControl error={!!fieldState.error} style={isDragActive ? {...dzStyles, ...dzActive} : dzStyles}>\r\n                <input {...getInputProps()} />\r\n                <UploadFile sx={{fontSize: '100px'}} />\r\n                <Typography variant='h4'>Drop image here</Typography>\r\n                <FormHelperText>{fieldState.error?.message}</FormHelperText> \r\n            </FormControl>\r\n        </div>\r\n    )\r\n}","import { FormControl, InputLabel, Select, MenuItem, FormHelperText } from \"@mui/material\";\r\nimport { useController, UseControllerProps } from \"react-hook-form\";\r\n\r\ninterface Props extends UseControllerProps {\r\n    label: string;\r\n    items: string[];\r\n}\r\n\r\nexport default function AppSelectList(props: Props) {\r\n    const { fieldState, field } = useController({ ...props, defaultValue: '' });\r\n    return (\r\n        <FormControl fullWidth error={!!fieldState.error}>\r\n            <InputLabel>{props.label}</InputLabel>\r\n            <Select\r\n                value={field.value}\r\n                label={props.label}\r\n                onChange={field.onChange}\r\n            >\r\n                {props.items.map((item, index) => (\r\n                    <MenuItem key={index} value={item}>{item}</MenuItem>\r\n                ))}\r\n            </Select>\r\n            <FormHelperText>{fieldState.error?.message}</FormHelperText>\r\n        </FormControl>\r\n    )\r\n}","import { TextField } from \"@mui/material\";\r\nimport { useController, UseControllerProps } from \"react-hook-form\";\r\n\r\ninterface Props extends UseControllerProps {\r\n    label: string;\r\n    multiline?: boolean;\r\n    rows?: number;\r\n    type?: string;\r\n}\r\n\r\nexport default function AppTextInput(props: Props) {\r\n    const {fieldState, field} = useController({...props, defaultValue: ''})\r\n    return (\r\n        <TextField \r\n            {...props}\r\n            {...field}\r\n            multiline={props.multiline}\r\n            rows={props.rows}\r\n            type={props.type}\r\n            fullWidth\r\n            variant='outlined'\r\n            error={!!fieldState.error}\r\n            helperText={fieldState.error?.message}\r\n        />\r\n    )\r\n}","import * as yup from 'yup';\r\n\r\nexport const validationSchema = yup.object({\r\n    name: yup.string().required(),\r\n    brand: yup.string().required(),\r\n    type: yup.string().required(),\r\n    price: yup.number().required().moreThan(100),\r\n    quantityInStock: yup.number().required().min(0),\r\n    description: yup.string().required(),\r\n    file: yup.mixed().when('pictureUrl', {\r\n        is: (value: string) => !value,\r\n        then: yup.mixed().required('Please provide an image')\r\n    })\r\n})","import { Typography, Grid, Paper, Box, Button } from \"@mui/material\";\r\nimport { useEffect } from \"react\";\r\nimport { FieldValues, useForm } from \"react-hook-form\";\r\nimport AppDropzone from \"../../app/components/AppDropzone\";\r\nimport AppSelectList from \"../../app/components/AppSelectList\";\r\nimport AppTextInput from \"../../app/components/AppTextInput\";\r\nimport useProducts from \"../../app/hooks/useProducts\";\r\nimport { Product } from \"../../app/models/product\";\r\nimport {yupResolver} from '@hookform/resolvers/yup';\r\nimport { validationSchema } from \"./productValidation\";\r\nimport agent from \"../../app/api/agent\";\r\nimport { useAppDispatch } from \"../../app/store/configureStore\";\r\nimport { setProduct } from \"../catalog/catalogSlice\";\r\nimport { LoadingButton } from \"@mui/lab\";\r\n\r\ninterface Props {\r\n    product?: Product;\r\n    cancelEdit: () => void;\r\n}\r\n\r\nexport default function ProductForm({ product, cancelEdit }: Props) {\r\n    const { control, reset, handleSubmit, watch, formState: {isDirty, isSubmitting} } = useForm({\r\n        mode: 'all',\r\n        resolver: yupResolver<any>(validationSchema)\r\n    });\r\n    const { brands, types } = useProducts();\r\n    const watchFile = watch('file', null);\r\n    const dispatch = useAppDispatch();\r\n\r\n    useEffect(() => {\r\n        if (product && !watchFile  && !isDirty) reset(product);\r\n        return () => {\r\n            if (watchFile) URL.revokeObjectURL(watchFile.preview);\r\n        }\r\n    }, [product, reset, watchFile, isDirty]);\r\n\r\n    async function handleSubmitData(data: FieldValues) {\r\n        try {\r\n            let response: Product;\r\n            if (product) {\r\n                response = await agent.Admin.updateProduct(data);\r\n            } else {\r\n                response = await agent.Admin.createProduct(data);\r\n            }\r\n            dispatch(setProduct(response));\r\n            cancelEdit();\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Box component={Paper} sx={{ p: 4 }}>\r\n            <Typography variant=\"h4\" gutterBottom sx={{ mb: 4 }}>\r\n                Product Details\r\n            </Typography>\r\n            <form onSubmit={handleSubmit(handleSubmitData)}>\r\n                <Grid container spacing={3}>  \r\n                    <Grid item xs={12} sm={12}>\r\n                        <AppTextInput control={control} name='name' label='Product name' />\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={6}>\r\n                        <AppSelectList items={brands} control={control} name='brand' label='Brand' />\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={6}>\r\n                        <AppSelectList items={types} control={control} name='type' label='Type' />\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={6}>\r\n                        <AppTextInput type='number' control={control} name='price' label='Price' />\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={6}>\r\n                        <AppTextInput type='number' control={control} name='quantityInStock' label='Quantity in Stock' />\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <AppTextInput multiline={true} rows={4} control={control} name='description' label='Description' />\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <Box display='flex' justifyContent='space-between' alignItems='center'>\r\n                            <AppDropzone control={control} name='file' />\r\n                            {watchFile ? (\r\n                                <img src={watchFile.preview} alt='preview' style={{maxHeight: 200}} />\r\n                            ) : (\r\n                                <img src={product?.pictureUrl} alt={product?.name} style={{maxHeight: 200}} />\r\n                            )}\r\n                        </Box>\r\n\r\n                    </Grid>\r\n                </Grid>\r\n                <Box display='flex' justifyContent='space-between' sx={{ mt: 3 }}>\r\n                    <Button onClick={cancelEdit} variant='contained' color='inherit'>Cancel</Button>\r\n                    <LoadingButton loading={isSubmitting} type='submit' variant='contained' color='success'>Submit</LoadingButton>\r\n                </Box>\r\n            </form>\r\n        </Box>\r\n    )\r\n}","import { Typography, Button, TableContainer, Paper, Table, TableHead, TableRow, TableCell, TableBody, Box } from \"@mui/material\";\r\nimport { Edit, Delete } from \"@mui/icons-material\";\r\nimport { currencyFormat } from \"../../app/util/util\";\r\nimport useProducts from \"../../app/hooks/useProducts\";\r\nimport AppPagination from \"../../app/components/AppPagination\";\r\nimport { useAppDispatch } from \"../../app/store/configureStore\";\r\nimport { removeProduct, setPageNumber } from \"../catalog/catalogSlice\";\r\nimport { useState } from \"react\";\r\nimport ProductForm from \"./ProductForm\";\r\nimport { Product } from \"../../app/models/product\";\r\nimport agent from \"../../app/api/agent\";\r\nimport { LoadingButton } from \"@mui/lab\";\r\n\r\nexport default function Inventory() {\r\n    const {products, metaData} = useProducts();\r\n    const dispatch = useAppDispatch();\r\n    const [editMode, setEditMode] = useState(false);\r\n    const [selectedProduct, setSelectedProduct] = useState<Product | undefined>(undefined);\r\n    const [loading, setLoading] = useState(false);\r\n    const [target, setTarget] = useState(0);\r\n\r\n    function handleSelectProduct(product: Product) {\r\n        setSelectedProduct(product);\r\n        setEditMode(true);\r\n    }\r\n\r\n    function handleDeleteProduct(id: number) {\r\n        setLoading(true);\r\n        setTarget(id);\r\n        agent.Admin.deleteProduct(id)\r\n            .then(() => dispatch(removeProduct(id)))\r\n            .catch(error => console.log(error))\r\n            .finally(() => setLoading(false));\r\n    }\r\n\r\n    function cancelEdit() {\r\n        if (selectedProduct) setSelectedProduct(undefined);\r\n        setEditMode(false);\r\n    }\r\n\r\n    if (editMode) return <ProductForm product={selectedProduct} cancelEdit={cancelEdit} />\r\n\r\n    return (\r\n        <>\r\n            <Box display='flex' justifyContent='space-between'>\r\n                <Typography sx={{ p: 2 }} variant='h4'>Inventory</Typography>\r\n                <Button onClick={() => setEditMode(true)} sx={{ m: 2 }} size='large' variant='contained'>Create</Button>\r\n            </Box>\r\n            <TableContainer component={Paper}>\r\n                <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\r\n                    <TableHead>\r\n                        <TableRow>\r\n                            <TableCell>#</TableCell>\r\n                            <TableCell align=\"left\">Product</TableCell>\r\n                            <TableCell align=\"right\">Price</TableCell>\r\n                            <TableCell align=\"center\">Type</TableCell>\r\n                            <TableCell align=\"center\">Brand</TableCell>\r\n                            <TableCell align=\"center\">Quantity</TableCell>\r\n                            <TableCell align=\"right\"></TableCell>\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                        {products.map((product) => (\r\n                            <TableRow\r\n                                key={product.id}\r\n                                sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\r\n                            >\r\n                                <TableCell component=\"th\" scope=\"row\">\r\n                                    {product.id}\r\n                                </TableCell>\r\n                                <TableCell align=\"left\">\r\n                                    <Box display='flex' alignItems='center'>\r\n                                        <img src={product.pictureUrl} alt={product.name} style={{ height: 50, marginRight: 20 }} />\r\n                                        <span>{product.name}</span>\r\n                                    </Box>\r\n                                </TableCell>\r\n                                <TableCell align=\"right\">{currencyFormat(product.price)}</TableCell>\r\n                                <TableCell align=\"center\">{product.type}</TableCell>\r\n                                <TableCell align=\"center\">{product.brand}</TableCell>\r\n                                <TableCell align=\"center\">{product.quantityInStock}</TableCell>\r\n                                <TableCell align=\"right\">\r\n                                    <Button onClick={() => handleSelectProduct(product)} startIcon={<Edit />} />\r\n                                    <LoadingButton \r\n                                        loading={loading && target === product.id} \r\n                                        startIcon={<Delete />} color='error' \r\n                                        onClick={() => handleDeleteProduct(product.id)}\r\n                                    />\r\n                                </TableCell>\r\n                            </TableRow>\r\n                        ))}\r\n                    </TableBody>\r\n                </Table>\r\n            </TableContainer>\r\n            {metaData && \r\n                <Box sx={{pt: 2}}>\r\n                    <AppPagination \r\n                        metaData={metaData} \r\n                        onPageChange={(page: number) => dispatch(setPageNumber({pageNumber: page}))}\r\n                    />\r\n                </Box>\r\n            }\r\n        </>\r\n    )\r\n}","import Catalog from \"../../features/catalog/Catalog\";\r\nimport HomePage from \"../../features/home/HomePage\";\r\nimport ProductDetails from \"../../features/catalog/ProductDetails\";\r\nimport AboutPage from \"../../features/about/AboutPage\";\r\nimport ContactPage from \"../../features/contact/ContactPage\";\r\nimport Header from \"./Header\";\r\nimport { Container, CssBaseline } from \"@mui/material\";\r\nimport { ThemeProvider, createTheme } from \"@mui/material/styles\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Route, Routes } from \"react-router-dom\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport ServerError from \"../errors/ServerError\";\r\nimport NotFound from \"../errors/NotFound\";\r\nimport BasketPage from \"../../features/basket/BasketPage\";\r\nimport { getCookie } from \"../util/util\";\r\nimport agent from \"../../app/api/agent\";\r\nimport LoadingComponent from \"./LoadingComponent\";\r\nimport CheckoutPage from \"../../features/checkout/CheckoutPage\";\r\nimport { useAppDispatch } from \"../store/configureStore\";\r\nimport { setBasket } from \"../../features/basket/basketSlice\";\r\nimport Footer from \"./Footer\";\r\nimport Login from \"../../features/account/Login\";\r\nimport Register from \"../../features/account/Register\";\r\nimport Inventory from \"../../features/admin/Inventory\";\r\n\r\nfunction App() {\r\n  const dispatch = useAppDispatch();\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const buyerId = getCookie('buyerId');\r\n    if (buyerId) {\r\n      agent.Basket.get()\r\n        .then(basket => dispatch(setBasket(basket)))\r\n        .catch(error => console.log(error))\r\n        .finally(() => setLoading(false));\r\n    } else {\r\n      setLoading(false);\r\n    }\r\n  }, [dispatch])\r\n\r\n  const [darkMode, setDarkMode] = useState(false);\r\n  const paletteType = darkMode ? 'dark' : 'light';\r\n  const theme = createTheme({\r\n    palette: {\r\n      mode: paletteType,\r\n      background: {\r\n        default: paletteType === 'light' ? '#eaeaea' : '#121212'\r\n      }\r\n    }\r\n  })\r\n\r\n  function handleThemeChange() {\r\n    setDarkMode(!darkMode);\r\n  }\r\n\r\n  if (loading) return <LoadingComponent message=\"Initialising app...\"></LoadingComponent>\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <ToastContainer theme='colored' position='bottom-right' hideProgressBar/>\r\n      <CssBaseline />\r\n      <Header darkMode={darkMode} handleThemeChange={handleThemeChange}/>\r\n      <Container>\r\n        <Routes>\r\n          <Route path='/' element={<HomePage/>}/>\r\n          <Route path='/catalog' element={<Catalog/>}/>\r\n          <Route path='/catalog/:id' element={<ProductDetails/>}/>\r\n          <Route path='/about' element={<AboutPage/>}/>\r\n          <Route path='/contact' element={<ContactPage/>}/>\r\n          <Route path='/server-error' element={<ServerError/>}/>\r\n          <Route path='/not-found' element={<NotFound/>}/>\r\n          <Route path='/basket' element={<BasketPage/>}></Route>\r\n          <Route path='/checkout' element={<CheckoutPage/>}></Route>\r\n          <Route path='/login' element={<Login/>}></Route>\r\n          <Route path='/register' element={<Register/>}></Route>\r\n          <Route path='/inventory' element={<Inventory/>}></Route>\r\n        </Routes>\r\n      </Container>\r\n      <Footer/>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, { FC, useLayoutEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport './app/layout/styles.css';\nimport App from './app/layout/App';\nimport reportWebVitals from './reportWebVitals';\nimport { Router } from 'react-router-dom';\nimport { createBrowserHistory, BrowserHistory } from 'history';\nimport { Provider } from 'react-redux';\nimport { store } from \"./app/store/configureStore\";\nimport 'slick-carousel/slick/slick.css'\nimport 'slick-carousel/slick/slick-theme.css'\n\ninterface Props {\n  history: BrowserHistory\n}\n\nexport const history = createBrowserHistory();\nconst CustomRouter: FC<Props> = ({ history, ...props }) => {\n  const [state, setState] = useState({\n    action: history.action,\n    location: history.location\n  });\n\n  useLayoutEffect(() => history.listen(setState), [history]);\n\n  return (\n    <Router\n      {...props}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n    />\n  );\n};\n\nReactDOM.render(\n  <React.StrictMode>\n    <CustomRouter history={history}>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </CustomRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}