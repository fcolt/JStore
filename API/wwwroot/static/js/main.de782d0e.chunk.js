(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{158:function(e,t,n){},187:function(e,t,n){"use strict";n.r(t),n.d(t,"history",(function(){return Lt}));var a=n(36),r=n(12),c=n(129),i=n(1),o=n.n(i),s=n(34),l=n.n(s),d=(n(158),n(264)),u=n(30),j=n(76),b=Object(u.d)({name:"counter",initialState:{data:42,title:"yet another redux counter with redux toolkit"},reducers:{increment:function(e,t){e.data+=t.payload},decrement:function(e,t){e.data-=t.payload}}}),h=b.actions,p=h.increment,x=h.decrement,O=n(27),g=n.n(O),m=n(47),f=n(53),v=n.n(f),y=n(74),k=n(85),C=function e(t,n){Object(k.a)(this,e),this.items=void 0,this.metaData=void 0,this.items=t,this.metaData=n};v.a.defaults.baseURL="/api/",v.a.defaults.withCredentials=!0;var w=function(e){return e.data};v.a.interceptors.response.use(function(){var e=Object(m.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=3;break;case 3:if(!(n=t.headers.pagination)){e.next=7;break}return t.data=new C(t.data,JSON.parse(n)),e.abrupt("return",t);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){var t=e.response,n=t.data;switch(t.status){case 400:if(n.errors){var a=[];for(var r in n.errors)n.errors[r]&&a.push(n.errors[r]);throw a.flat()}y.b.error(n.title);break;case 401:y.b.error(n.title);break;case 404:Lt.push("/not-found");break;case 500:Lt.push("/server-error",{error:n})}return Promise.reject(e.response)}));var I=function(e,t){return v.a.get(e,{params:t}).then(w)},S=function(e,t){return v.a.post(e,t).then(w)},P=function(e){return v.a.delete(e).then(w)},B={get:function(){return I("basket")},addItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return S("basket?productId=".concat(e,"&quantity=").concat(t),{})},removeItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return P("basket?productId=".concat(e,"&quantity=").concat(t))}},z={Catalog:{list:function(e){return I("products",e)},details:function(e){return I("products/".concat(e))},fetchFilters:function(){return I("products/filters")}},TestErrors:{get400Error:function(){return I("buggy/bad-request")},get401Error:function(){return I("buggy/unauthorized")},get404Error:function(){return I("buggy/not-found")},get500Error:function(){return I("buggy/server-error")},getValidationError:function(){return I("buggy/validation-error")}},Basket:B},E=Object(u.b)("basket/addBasketItemAsync",function(){var e=Object(m.a)(g.a.mark((function e(t,n){var a,r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.productId,r=t.quantity,c=void 0===r?1:r,e.prev=1,e.next=4,z.Basket.addItem(a,c);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",n.rejectWithValue({error:e.t0.data}));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()),T=Object(u.b)("basket/removeBasketItemAsync",function(){var e=Object(m.a)(g.a.mark((function e(t,n){var a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.productId,r=t.quantity,e.prev=1,e.next=4,z.Basket.removeItem(a,r);case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",n.rejectWithValue({error:e.t0.data}));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()),q=Object(u.d)({name:"basket",initialState:{basket:null,status:"idle"},reducers:{setBasket:function(e,t){e.basket=t.payload}},extraReducers:function(e){e.addCase(E.pending,(function(e,t){e.status="pendingAddItem"+t.meta.arg.productId})),e.addCase(E.fulfilled,(function(e,t){e.basket=t.payload,e.status="idle"})),e.addCase(E.rejected,(function(e,t){e.status="idle",console.log(t.payload)})),e.addCase(T.pending,(function(e,t){e.status="pendingRemoveItem"+t.meta.arg.productId+t.meta.arg.name})),e.addCase(T.fulfilled,(function(e,t){var n,a,r=t.meta.arg,c=r.productId,i=r.quantity,o=null===(n=e.basket)||void 0===n?void 0:n.items.findIndex((function(e){return e.productId===c}));-1!==o&&void 0!==o&&(e.basket.items[o].quantity-=i,0===(null===(a=e.basket)||void 0===a?void 0:a.items[o].quantity)&&e.basket.items.splice(o,1),e.status="idle")})),e.addCase(T.rejected,(function(e,t){e.status="idle",console.log(t.payload)}))}}),L=q.actions.setBasket,A=Object(u.c)();function F(e){var t=new URLSearchParams;return t.append("pageNumber",e.pageNumber.toString()),t.append("pageSize",e.pageSize.toString()),t.append("orderBy",e.orderBy),e.searchTerm&&t.append("searchTerm",e.searchTerm),e.brands.length>0&&t.append("brands",e.brands.toString()),e.types.length>0&&t.append("types",e.types.toString()),t}var M=Object(u.b)("catalog/fetchProductsAsync",function(){var e=Object(m.a)(g.a.mark((function e(t,n){var a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=F(n.getState().catalog.productParams),e.prev=1,e.next=4,z.Catalog.list(a);case 4:return r=e.sent,n.dispatch(J(r.metaData)),e.abrupt("return",r.items);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",n.rejectWithValue({error:e.t0.data}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),D=Object(u.b)("catalog/fetchProductAsync",function(){var e=Object(m.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.Catalog.details(t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue({error:e.t0.data}));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()),V=Object(u.b)("catalog/fetchFiltersAsync",function(){var e=Object(m.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",z.Catalog.fetchFilters());case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue({error:e.t0.data}));case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t,n){return e.apply(this,arguments)}}());var R=Object(u.d)({name:"catalog",initialState:A.getInitialState({productsLoaded:!1,filtersLoaded:!1,status:"idle",brands:[],types:[],productParams:{pageNumber:1,pageSize:8,orderBy:"name",brands:[],types:[]},metaData:null}),reducers:{setProductParams:function(e,t){e.productsLoaded=!1,e.productParams=Object(a.a)(Object(a.a)(Object(a.a)({},e.productParams),t.payload),{},{pageNumber:1})},setPageNumber:function(e,t){e.productsLoaded=!1,e.productParams=Object(a.a)(Object(a.a)({},e.productParams),t.payload)},resetProductParams:function(e){e.productParams={pageNumber:1,pageSize:8,orderBy:"name",brands:[],types:[]}},setMetaData:function(e,t){e.metaData=t.payload}},extraReducers:function(e){e.addCase(M.pending,(function(e){e.status="pendingFetchProducts"})),e.addCase(M.fulfilled,(function(e,t){A.setAll(e,t.payload),e.status="idle",e.productsLoaded=!0})),e.addCase(M.rejected,(function(e,t){e.status="idle",console.log(t.payload)})),e.addCase(D.pending,(function(e){e.status="pendingFetchProduct"})),e.addCase(D.fulfilled,(function(e,t){A.upsertOne(e,t.payload),e.status="idle"})),e.addCase(D.rejected,(function(e,t){e.status="idle",console.log(t)})),e.addCase(V.pending,(function(e){e.status="pendingFetchFilters"})),e.addCase(V.fulfilled,(function(e,t){e.brands=t.payload.brands,e.types=t.payload.types,e.filtersLoaded=!0,e.status="idle"})),e.addCase(V.rejected,(function(e,t){e.status="idle",console.log(t.payload)}))}}),W=A.getSelectors((function(e){return e.catalog})),N=R.actions,U=N.setProductParams,J=(N.resetProductParams,N.setMetaData),G=N.setPageNumber,Q=Object(u.a)({reducer:{counter:b.reducer,basket:q.reducer,catalog:R.reducer}}),H=function(){return Object(j.b)()},$=j.c,X=n(254),Y=n(267),K=n(269),Z=n(263),_=n(270),ee=n(271),te=n(96),ne=n(272),ae=n(273),re=n(21);function ce(e){return"$"+(e/100).toFixed(2)}var ie=n(0);function oe(e){var t=e.product,n=$((function(e){return e.basket})).status,a=H();return Object(ie.jsxs)(Y.a,{children:[Object(ie.jsx)(K.a,{avatar:Object(ie.jsx)(Z.a,{sx:{bgcolor:"secondary.main"},children:t.name.charAt(0).toUpperCase()}),title:t.name,titleTypographyProps:{sx:{fontWeight:"bold",color:"primary.main"}}}),Object(ie.jsx)(_.a,{component:"img",sx:{height:140,objectFit:"contain",bgcolor:"primary.light"},image:t.pictureUrl,alt:t.name}),Object(ie.jsxs)(ee.a,{children:[Object(ie.jsx)(te.a,{gutterBottom:!0,color:"secondary",variant:"h5",children:ce(t.price)}),Object(ie.jsxs)(te.a,{variant:"body2",color:"text.secondary",children:[t.brand," / ",t.type]})]}),Object(ie.jsxs)(ne.a,{children:[Object(ie.jsx)(X.a,{loading:n.includes("pendingAddItem"+t.id),onClick:function(){return a(E({productId:t.id}))},size:"small",children:"Add to cart"}),Object(ie.jsx)(ae.a,{component:re.a,to:"/catalog/".concat(t.id),size:"small",children:"View"})]})]})}var se=n(265);function le(){return Object(ie.jsxs)(d.a,{item:!0,xs:!0,component:Y.a,children:[Object(ie.jsx)(K.a,{avatar:Object(ie.jsx)(se.a,{animation:"wave",variant:"circular",width:40,height:40}),title:Object(ie.jsx)(se.a,{animation:"wave",height:10,width:"80%",style:{marginBottom:6}})}),Object(ie.jsx)(se.a,{sx:{height:190},animation:"wave",variant:"rectangular"}),Object(ie.jsx)(ee.a,{children:Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(se.a,{animation:"wave",height:10,style:{marginBottom:6}}),Object(ie.jsx)(se.a,{animation:"wave",height:10,width:"80%"})]})}),Object(ie.jsx)(ne.a,{children:Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(se.a,{animation:"wave",height:10,width:"40%"}),Object(ie.jsx)(se.a,{animation:"wave",height:10,width:"20%"})]})})]})}function de(e){var t=e.products,n=$((function(e){return e.catalog})).productsLoaded;return Object(ie.jsx)(d.a,{container:!0,spacing:4,marginBottom:"20px",children:t.map((function(e,t){return Object(ie.jsx)(d.a,{item:!0,xs:12,sm:4,md:3,lg:3,children:n?Object(ie.jsx)(oe,{product:e}):Object(ie.jsx)(le,{})},t)}))})}var ue=n(268),je=n(83),be=n(252);function he(){var e=$((function(e){return e.catalog})).productParams,t=Object(i.useState)(e.searchTerm),n=Object(r.a)(t,2),a=n[0],c=n[1],o=H(),s=Object(je.a)((function(e){o(U({searchTerm:e.target.value}))}),1e3);return Object(ie.jsx)(be.a,{label:"Search products",variant:"outlined",fullWidth:!0,value:a||"",onChange:function(e){c(e.target.value),s(e)}})}var pe=n(275),xe=n(239),Oe=n(242),ge=n(277),me=n(257);function fe(e){var t=e.options,n=e.onChange,a=e.selectedValue;return Object(ie.jsxs)(pe.a,{children:[Object(ie.jsx)(xe.a,{id:"demo-radio-buttons-group-label",children:"Order by"}),Object(ie.jsx)(Oe.a,{onChange:n,value:a,children:t.map((function(e){var t=e.value,n=e.label;return Object(ie.jsx)(ge.a,{value:t,control:Object(ie.jsx)(me.a,{}),label:n},t)}))})]})}var ve=n(14),ye=n(198),ke=n(258);function Ce(e){var t=e.items,n=e.checked,a=e.onChange,c=Object(i.useState)(n||[]),o=Object(r.a)(c,2),s=o[0],l=o[1];return Object(ie.jsx)(ye.a,{children:t.map((function(e){return Object(ie.jsx)(ge.a,{control:Object(ie.jsx)(ke.a,{checked:-1!==s.indexOf(e),onClick:function(){return function(e){var t=[];t=-1===s.findIndex((function(t){return t===e}))?[].concat(Object(ve.a)(s),[e]):s.filter((function(t){return t!==e})),l(t),a(t)}(e)}}),label:e},e)}))})}var we=n(278),Ie=n(253);function Se(e){var t=e.metaData,n=e.onPageChange,a=t.currentPage,r=t.totalCount,c=t.totalPages,i=t.pageSize;return Object(ie.jsxs)(we.a,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(ie.jsxs)(te.a,{children:["Displaying ",(a-1)*i+1,"-",a*i>r?r:a*i," of ",r," items"]}),Object(ie.jsx)(Ie.a,{color:"secondary",size:"large",count:c,page:a,onChange:function(e,t){return n(t)}})]})}var Pe=n(260),Be=n(274);function ze(e){var t=e.message,n=void 0===t?"Loading...":t;return Object(ie.jsx)(Pe.a,{open:!0,invisible:!0,children:Object(ie.jsxs)(we.a,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:[Object(ie.jsx)(Be.a,{size:100,color:"primary"}),Object(ie.jsx)(te.a,{variant:"h4",sx:{justifyContent:"center",position:"fixed",top:"60%"},children:n})]})})}var Ee=[{value:"name",label:"Alphabetical"},{value:"priceDesc",label:"Price - High to low"},{value:"price",label:"Price - Low to high"}];function Te(){var e=$(W.selectAll),t=H(),n=$((function(e){return e.catalog})),a=n.productsLoaded,r=n.filtersLoaded,c=n.brands,o=n.types,s=n.productParams,l=n.metaData;return Object(i.useEffect)((function(){a||t(M())}),[a,t]),Object(i.useEffect)((function(){r||t(V())}),[r,t]),r?Object(ie.jsxs)(d.a,{container:!0,spacing:4,columnSpacing:4,children:[Object(ie.jsxs)(d.a,{item:!0,xs:3,children:[Object(ie.jsx)(ue.a,{sx:{mb:2},children:Object(ie.jsx)(he,{})}),Object(ie.jsx)(ue.a,{sx:{mb:2,p:2},children:Object(ie.jsx)(fe,{selectedValue:s.orderBy,options:Ee,onChange:function(e){return t(U({orderBy:e.target.value}))}})}),Object(ie.jsx)(ue.a,{sx:{mb:2,p:2},children:Object(ie.jsx)(Ce,{items:c,checked:s.brands,onChange:function(e){return t(U({brands:e}))}})}),Object(ie.jsx)(ue.a,{sx:{mb:2,p:2},children:Object(ie.jsx)(Ce,{items:o,checked:s.types,onChange:function(e){return t(U({types:e}))}})})]}),Object(ie.jsx)(d.a,{item:!0,xs:9,children:Object(ie.jsx)(de,{products:e})}),Object(ie.jsx)(d.a,{item:!0,xs:3}),Object(ie.jsx)(d.a,{item:!0,xs:8,sx:{mb:2},children:l&&Object(ie.jsx)(Se,{metaData:l,onPageChange:function(e){return t(G({pageNumber:e}))}})})]}):Object(ie.jsx)(ze,{message:"Loading products..."})}function qe(){return Object(ie.jsx)(te.a,{variant:"h2",children:"Home page"})}var Le=n(243),Ae=n(280),Fe=n(281),Me=n(282),De=n(283),Ve=n(16),Re=n(279);function We(){return Object(ie.jsxs)(Re.a,{component:ue.a,children:[Object(ie.jsx)(te.a,{gutterBottom:!0,variant:"h3",children:"Can't seem to find this item"}),Object(ie.jsx)(Le.a,{}),Object(ie.jsx)(ae.a,{fullWidth:!0,component:re.a,to:"/catalog",children:"Go back to shop"})]})}function Ne(){var e=$((function(e){return e.basket})),t=e.basket,n=e.status,a=H(),c=Object(Ve.g)().id,o=$((function(e){return W.selectById(e,c)})),s=$((function(e){return e.catalog})).status,l=Object(i.useState)(0),u=Object(r.a)(l,2),j=u[0],b=u[1],h=null===t||void 0===t?void 0:t.items.find((function(e){return e.productId===(null===o||void 0===o?void 0:o.id)}));return Object(i.useEffect)((function(){h&&b(h.quantity),o||a(D(parseInt(c)))}),[c,h,a,o]),s.includes("pending")?Object(ie.jsx)(ze,{message:"Loading product..."}):o?Object(ie.jsxs)(d.a,{container:!0,spacing:6,alignItems:"center",justifyContent:"center",marginBottom:"20px",children:[Object(ie.jsx)(d.a,{item:!0,xs:10,sm:6,md:6,lg:6,children:Object(ie.jsx)("img",{src:o.pictureUrl,alt:o.name,style:{width:"100%"}})}),Object(ie.jsxs)(d.a,{item:!0,xs:16,sm:6,md:6,lg:6,children:[Object(ie.jsx)(te.a,{variant:"h3",children:o.name}),Object(ie.jsx)(Le.a,{sx:{mb:2}}),Object(ie.jsxs)(te.a,{variant:"h4",color:"secondary",children:["$",(o.price/100).toFixed(2)]}),Object(ie.jsx)(Ae.a,{children:Object(ie.jsxs)(Fe.a,{children:[Object(ie.jsxs)(Me.a,{children:[Object(ie.jsx)(De.a,{children:"Name"}),Object(ie.jsx)(De.a,{children:o.name})]}),Object(ie.jsxs)(Me.a,{children:[Object(ie.jsx)(De.a,{children:"Description"}),Object(ie.jsx)(De.a,{children:o.description})]}),Object(ie.jsxs)(Me.a,{children:[Object(ie.jsx)(De.a,{children:"Type"}),Object(ie.jsx)(De.a,{children:o.type})]}),Object(ie.jsxs)(Me.a,{children:[Object(ie.jsx)(De.a,{children:"Brand"}),Object(ie.jsx)(De.a,{children:o.brand})]}),Object(ie.jsxs)(Me.a,{children:[Object(ie.jsx)(De.a,{children:"Quantity in stock"}),Object(ie.jsx)(De.a,{children:o.quantityInStock})]})]})}),Object(ie.jsxs)(d.a,{container:!0,spacing:2,children:[Object(ie.jsx)(d.a,{item:!0,xs:6,children:Object(ie.jsx)(be.a,{onChange:function(e){e.target.value>0&&b(parseInt(e.target.value))},variant:"outlined",type:"number",label:"Quantity in Cart",fullWidth:!0,value:j})}),Object(ie.jsx)(d.a,{item:!0,xs:6,children:Object(ie.jsx)(X.a,{disabled:(null===h||void 0===h?void 0:h.quantity)===j,loading:n.includes("pending"),onClick:function(){if(!h||j>h.quantity){var e=h?j-h.quantity:j;a(E({productId:null===o||void 0===o?void 0:o.id,quantity:e}))}else{var t=h.quantity-j;a(T({productId:null===o||void 0===o?void 0:o.id,quantity:t}))}},sx:{height:"55px"},color:"primary",size:"large",variant:"contained",fullWidth:!0,children:h?"Update Quantity":"Add to Cart"})})]})]})]}):Object(ie.jsx)(We,{})}var Ue=n(284),Je=n(256),Ge=n(286),Qe=n(276),He=n(259),$e=n(244);function Xe(){var e=Object(i.useState)([]),t=Object(r.a)(e,2),n=t[0],a=t[1];return Object(ie.jsxs)(d.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",marginBottom:"20px",children:[Object(ie.jsx)(te.a,{gutterBottom:!0,variant:"h6",children:"Since this is a portfolio project, I've taken the liberty of making this page an error testing page so have some buttons :)"}),Object(ie.jsxs)(Ue.a,{style:{flexWrap:"wrap",textAlign:"center",display:"inline-block"},children:[Object(ie.jsx)(ae.a,{variant:"contained",onClick:function(){return z.TestErrors.get400Error().catch((function(e){return console.log(e)}))},children:"Test 400 Error"}),Object(ie.jsx)(ae.a,{variant:"contained",onClick:function(){return z.TestErrors.get401Error().catch((function(e){return console.log(e)}))},children:"Test 401 Error"}),Object(ie.jsx)(ae.a,{variant:"contained",onClick:function(){return z.TestErrors.get404Error().catch((function(e){return console.log(e)}))},children:"Test 404 Error"}),Object(ie.jsx)(ae.a,{variant:"contained",onClick:function(){return z.TestErrors.get500Error().catch((function(e){return console.log(e)}))},children:"Test 500 Error"}),Object(ie.jsx)(ae.a,{variant:"contained",onClick:function(){z.TestErrors.getValidationError().then((function(){return console.log("should not see this")})).catch((function(e){return a(e)}))},children:" Test Validation Error"})]}),n.length>0&&Object(ie.jsxs)(Je.a,{severity:"error",children:[Object(ie.jsx)(Ge.a,{children:"Validation Errors"}),Object(ie.jsx)(Qe.a,{children:n.map((function(e){return Object(ie.jsx)(He.a,{children:Object(ie.jsx)($e.a,{children:e})},e)}))})]})]})}function Ye(){var e=H(),t=$((function(e){return e.counter})),n=t.data,a=t.title;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(te.a,{variant:"h2",children:a}),Object(ie.jsxs)(te.a,{variant:"h5",children:["Data is: ",n]}),Object(ie.jsxs)(Ue.a,{children:[Object(ie.jsx)(ae.a,{onClick:function(){return e(x(1))},variant:"contained",color:"error",children:"Decrement"}),Object(ie.jsx)(ae.a,{onClick:function(){return e(p(1))},variant:"contained",color:"error",children:"Increment"})]})]})}var Ke=n(246),Ze=n(288),_e=n(289),et=n(285),tt=n(136),nt=n(261),at=n(251),rt=n(266),ct=n(4),it=n(287),ot=Object(ct.a)(it.a)((function(e){var t=e.theme;return{width:62,height:34,padding:7,"& .MuiSwitch-switchBase":{margin:1,padding:0,transform:"translateX(6px)","&.Mui-checked":{color:"#fff",transform:"translateX(22px)","& .MuiSwitch-thumb:before":{backgroundImage:'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="'.concat(encodeURIComponent("#fff"),'" d="M4.2 2.5l-.7 1.8-1.8.7 1.8.7.7 1.8.6-1.8L6.7 5l-1.9-.7-.6-1.8zm15 8.3a6.7 6.7 0 11-6.6-6.6 5.8 5.8 0 006.6 6.6z"/></svg>\')')},"& + .MuiSwitch-track":{opacity:1,backgroundColor:"dark"===t.palette.mode?"#8796A5":"#aab4be"}}},"& .MuiSwitch-thumb":{backgroundColor:"dark"===t.palette.mode?"#003892":"#001e3c",width:32,height:32,"&:before":{content:"''",position:"absolute",width:"100%",height:"100%",left:0,top:0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundImage:'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="'.concat(encodeURIComponent("#fff"),'" d="M9.305 1.667V3.75h1.389V1.667h-1.39zm-4.707 1.95l-.982.982L5.09 6.072l.982-.982-1.473-1.473zm10.802 0L13.927 5.09l.982.982 1.473-1.473-.982-.982zM10 5.139a4.872 4.872 0 00-4.862 4.86A4.872 4.872 0 0010 14.862 4.872 4.872 0 0014.86 10 4.872 4.872 0 0010 5.139zm0 1.389A3.462 3.462 0 0113.471 10a3.462 3.462 0 01-3.473 3.472A3.462 3.462 0 016.527 10 3.462 3.462 0 0110 6.528zM1.665 9.305v1.39h2.083v-1.39H1.666zm14.583 0v1.39h2.084v-1.39h-2.084zM5.09 13.928L3.616 15.4l.982.982 1.473-1.473-.982-.982zm9.82 0l-.982.982 1.473 1.473.982-.982-1.473-1.473zM9.305 16.25v2.083h1.389V16.25h-1.39z"/></svg>\')')}},"& .MuiSwitch-track":{opacity:1,backgroundColor:"dark"===t.palette.mode?"#8796A5":"#aab4be",borderRadius:10}}})),st=n(37),lt=n(245),dt=n(110),ut=n.n(dt),jt=n(134),bt=n.n(jt),ht=[{title:"Catalog",path:"/catalog"},{title:"About",path:"/about"},{title:"Contact",path:"/contact"}],pt=[{title:"Login",path:"/login"},{title:"Register",path:"/register"}],xt={color:"inherit",textDecoration:"none",typography:"h5","&:hover":{color:"grey.500"},"&.active":{color:"text.secondary"}};function Ot(e){var t=e.darkMode,n=e.handleThemeChange,a=$((function(e){return e.basket})).basket,c=null===a||void 0===a?void 0:a.items.reduce((function(e,t){return e+t.quantity}),0),o=Object(i.useState)(null),s=Object(r.a)(o,2),l=s[0],d=s[1],u=Object(i.useState)(null),j=Object(r.a)(u,2),b=j[0],h=j[1],p=function(e){h(e.currentTarget)},x=function(){d(null)},O=function(){h(null)},g=Object(st.a)(),m=Object(lt.a)(g.breakpoints.down("sm"));return Object(ie.jsx)(we.a,{sx:{flexGrow:1},children:Object(ie.jsx)(Ze.a,{position:"static",sx:{mb:4},children:Object(ie.jsx)(_e.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:m?Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(we.a,{sx:{flexGrow:1,display:"flex",alignItems:"center"},children:[Object(ie.jsx)(et.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){d(e.currentTarget)},color:"inherit",children:Object(ie.jsx)(bt.a,{})}),Object(ie.jsx)(tt.a,{id:"menu-appbar",anchorEl:l,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(l),onClose:x,sx:{display:{xs:"block",md:"none"}},children:Object(ie.jsx)(Qe.a,{sx:{display:"block"},children:ht.map((function(e){var t=e.title,n=e.path;return Object(ie.jsx)(He.a,{component:re.b,to:n,sx:xt,children:t},n)}))})}),Object(ie.jsx)(te.a,{variant:"h6",component:re.b,to:"/",sx:xt,children:"JStore"}),Object(ie.jsx)(ot,{checked:t,onChange:n})]}),Object(ie.jsx)(we.a,{display:"flex",alignItems:"center"}),Object(ie.jsxs)(we.a,{display:"flex",alignItems:"center",children:[Object(ie.jsx)(et.a,{component:re.a,to:"/basket",size:"large",sx:{color:"inherit"},children:Object(ie.jsx)(nt.a,{badgeContent:c,color:"secondary",children:Object(ie.jsx)(Ke.a,{})})}),Object(ie.jsx)(at.a,{title:"Connect",children:Object(ie.jsx)(et.a,{onClick:p,sx:{color:"inherit"},children:Object(ie.jsx)(ut.a,{})})}),Object(ie.jsx)(tt.a,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:b,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(b),onClose:O,children:Object(ie.jsx)(rt.a,{onClick:x,children:Object(ie.jsx)(Qe.a,{sx:{display:"block"},children:pt.map((function(e){var t=e.title,n=e.path;return Object(ie.jsx)(He.a,{component:re.b,to:n,sx:xt,children:t},n)}))})})})]})]}):Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(we.a,{display:"flex",alignItems:"center",children:[Object(ie.jsx)(te.a,{variant:"h6",component:re.b,to:"/",sx:xt,children:"JStore"}),Object(ie.jsx)(ot,{checked:t,onChange:n})]}),Object(ie.jsx)(Qe.a,{sx:{display:"flex"},children:ht.map((function(e){var t=e.title,n=e.path;return Object(ie.jsx)(He.a,{component:re.b,to:n,sx:xt,children:t},n)}))}),Object(ie.jsxs)(we.a,{display:"flex",alignItems:"center",children:[Object(ie.jsx)(et.a,{component:re.a,to:"/basket",size:"large",sx:{color:"inherit"},children:Object(ie.jsx)(nt.a,{badgeContent:c,color:"secondary",children:Object(ie.jsx)(Ke.a,{})})}),Object(ie.jsx)(at.a,{title:"Connect",children:Object(ie.jsx)(et.a,{onClick:p,sx:{color:"inherit"},children:Object(ie.jsx)(ut.a,{})})}),Object(ie.jsx)(tt.a,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:b,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(b),onClose:O,children:Object(ie.jsx)(rt.a,{onClick:x,children:Object(ie.jsx)(Qe.a,{sx:{display:"block"},children:pt.map((function(e){var t=e.title,n=e.path;return Object(ie.jsx)(He.a,{component:re.b,to:n,sx:xt,children:t},n)}))})})})]})]})})})})}var gt=n(250),mt=n(135),ft=n(262);n(186);function vt(){var e=Object(Ve.e)().state;return Object(ie.jsxs)(Re.a,{component:ue.a,children:[(null===e||void 0===e?void 0:e.error)?Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(te.a,{variant:"h3",color:"error",gutterBottom:!0,children:e.error.title}),Object(ie.jsx)(Le.a,{}),Object(ie.jsx)(te.a,{children:e.error.detail||"Internal server error"})]}):Object(ie.jsx)(te.a,{variant:"h5",gutterBottom:!0,children:"Server error"}),Object(ie.jsx)(ae.a,{onClick:function(){return Lt.push("/catalog")},children:"Go back to the store"})]})}var yt=n(247),kt=n(248),Ct=n(249),wt=n(290),It=n(291);function St(){var e,t=$((function(e){return e.basket})).basket,n=null!==(e=null===t||void 0===t?void 0:t.items.reduce((function(e,t){return e+t.price*t.quantity}),0))&&void 0!==e?e:0,a=n/100<100?500:0;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Ae.a,{component:ue.a,variant:"outlined",children:Object(ie.jsx)(wt.a,{children:Object(ie.jsxs)(Fe.a,{children:[Object(ie.jsxs)(Me.a,{children:[Object(ie.jsx)(De.a,{colSpan:2,children:"Subtotal"}),Object(ie.jsx)(De.a,{align:"right",children:ce(n)})]}),Object(ie.jsxs)(Me.a,{children:[Object(ie.jsx)(De.a,{colSpan:2,children:"Delivery fee*"}),Object(ie.jsx)(De.a,{align:"right",children:ce(a)})]}),Object(ie.jsxs)(Me.a,{children:[Object(ie.jsx)(De.a,{colSpan:2,children:"Total"}),Object(ie.jsx)(De.a,{align:"right",children:ce(n+a)})]}),Object(ie.jsx)(Me.a,{children:Object(ie.jsx)(De.a,{children:Object(ie.jsx)("span",{style:{fontStyle:"italic"},children:"*Orders over $100 qualify for free delivery"})})})]})})})})}function Pt(){var e=$((function(e){return e.basket})),t=e.basket,n=e.status,a=H();return t?Object(ie.jsx)(d.a,{container:!0,spacing:6,alignItems:"center",justifyContent:"center",marginBottom:"20px",children:Object(ie.jsxs)(d.a,{item:!0,xs:10,sm:8,md:9,lg:10,children:[Object(ie.jsx)(Ae.a,{component:ue.a,children:Object(ie.jsxs)(wt.a,{sx:{minWidth:650},children:[Object(ie.jsx)(It.a,{children:Object(ie.jsxs)(Me.a,{children:[Object(ie.jsx)(De.a,{children:"Product"}),Object(ie.jsx)(De.a,{align:"left",children:"Price"}),Object(ie.jsx)(De.a,{align:"left",children:"Quantity"}),Object(ie.jsx)(De.a,{align:"left",children:"Subtotal"}),Object(ie.jsx)(De.a,{})]})}),Object(ie.jsx)(Fe.a,{children:t.items.map((function(e){return Object(ie.jsxs)(Me.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(ie.jsx)(De.a,{component:"th",scope:"row",children:Object(ie.jsxs)(we.a,{display:"flex",alignItems:"center",children:[Object(ie.jsx)("img",{src:e.pictureUrl,alt:e.name,style:{height:50,marginRight:20}}),Object(ie.jsx)("span",{children:e.name})]})}),Object(ie.jsx)(De.a,{align:"left",children:ce(e.price)}),Object(ie.jsxs)(De.a,{align:"left",children:[Object(ie.jsx)(X.a,{loading:n==="pendingAddItem"+e.productId,onClick:function(){return a(E({productId:e.productId}))},color:"success",children:Object(ie.jsx)(yt.a,{})}),e.quantity,Object(ie.jsx)(X.a,{loading:n==="pendingRemoveItem"+e.productId+"rem",onClick:function(){return a(T({productId:e.productId,quantity:1,name:"rem"}))},color:"error",children:Object(ie.jsx)(kt.a,{})})]}),Object(ie.jsx)(De.a,{align:"left",children:ce(e.price*e.quantity)}),Object(ie.jsx)(De.a,{align:"left",children:Object(ie.jsx)(X.a,{loading:n==="pendingRemoveItem"+e.productId+"del",onClick:function(){return a(T({productId:e.productId,quantity:e.quantity,name:"del"}))},color:"error",children:Object(ie.jsx)(Ct.a,{})})})]},e.productId)}))})]})}),Object(ie.jsxs)(d.a,{item:!0,xs:10,sm:9,md:7,lg:7,children:[Object(ie.jsx)(St,{}),Object(ie.jsx)(ae.a,{component:re.a,to:"/checkout",variant:"contained",size:"large",fullWidth:!0,children:"Checkout"})]})]})}):Object(ie.jsx)(te.a,{variant:"h3",children:"Your basket is empty"})}function Bt(){return Object(ie.jsx)(te.a,{variant:"h3",children:"Only logged in users should be able to see this!"})}var zt=function(){var e=H(),t=Object(i.useState)(!0),n=Object(r.a)(t,2),a=n[0],c=n[1];Object(i.useEffect)((function(){(function(e){var t=document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)");return t?t.pop():""})("buyerId")?z.Basket.get().then((function(t){return e(L(t))})).catch((function(e){return console.log(e)})).finally((function(){return c(!1)})):c(!1)}),[e]);var o=Object(i.useState)(!1),s=Object(r.a)(o,2),l=s[0],d=s[1],u=l?"dark":"light",j=Object(mt.a)({palette:{mode:u,background:{default:"light"===u?"#eaeaea":"#121212"}}});return a?Object(ie.jsx)(ze,{message:"Initialising app..."}):Object(ie.jsxs)(ft.a,{theme:j,children:[Object(ie.jsx)(y.a,{theme:"colored",position:"bottom-right",hideProgressBar:!0}),Object(ie.jsx)(gt.a,{}),Object(ie.jsx)(Ot,{darkMode:l,handleThemeChange:function(){d(!l)}}),Object(ie.jsx)(Re.a,{children:Object(ie.jsxs)(Ve.c,{children:[Object(ie.jsx)(Ve.a,{path:"/",element:Object(ie.jsx)(qe,{})}),Object(ie.jsx)(Ve.a,{path:"/catalog",element:Object(ie.jsx)(Te,{})}),Object(ie.jsx)(Ve.a,{path:"/catalog/:id",element:Object(ie.jsx)(Ne,{})}),Object(ie.jsx)(Ve.a,{path:"/about",element:Object(ie.jsx)(Xe,{})}),Object(ie.jsx)(Ve.a,{path:"/contact",element:Object(ie.jsx)(Ye,{})}),Object(ie.jsx)(Ve.a,{path:"/server-error",element:Object(ie.jsx)(vt,{})}),Object(ie.jsx)(Ve.a,{path:"/not-found",element:Object(ie.jsx)(We,{})}),Object(ie.jsx)(Ve.a,{path:"/basket",element:Object(ie.jsx)(Pt,{})}),Object(ie.jsx)(Ve.a,{path:"/checkout",element:Object(ie.jsx)(Bt,{})})]})})]})},Et=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,292)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},Tt=n(25),qt=["history"],Lt=Object(Tt.b)(),At=function(e){var t=e.history,n=Object(c.a)(e,qt),o=Object(i.useState)({action:t.action,location:t.location}),s=Object(r.a)(o,2),l=s[0],d=s[1];return Object(i.useLayoutEffect)((function(){return t.listen(d)}),[t]),Object(ie.jsx)(Ve.b,Object(a.a)(Object(a.a)({},n),{},{location:l.location,navigationType:l.action,navigator:t}))};l.a.render(Object(ie.jsx)(o.a.StrictMode,{children:Object(ie.jsx)(At,{history:Lt,children:Object(ie.jsx)(j.a,{store:Q,children:Object(ie.jsx)(zt,{})})})}),document.getElementById("root")),Et()}},[[187,1,2]]]);
//# sourceMappingURL=main.de782d0e.chunk.js.map