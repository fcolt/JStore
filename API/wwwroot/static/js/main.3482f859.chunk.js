(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{167:function(e,t,n){},215:function(e,t,n){"use strict";n.r(t),n.d(t,"history",(function(){return _t}));var r=n(25),a=n(11),c=n(135),i=n(1),o=n.n(i),s=n(36),l=n.n(s),d=(n(167),n(297)),u=n(26),j=n(81),b=Object(u.d)({name:"counter",initialState:{data:42,title:"yet another redux counter with redux toolkit"},reducers:{increment:function(e,t){e.data+=t.payload},decrement:function(e,t){e.data-=t.payload}}}),h=b.actions,p=h.increment,x=h.decrement,g=n(15),O=n.n(g),m=n(21),f=n(55),v=n.n(f),y=n(79),k=n(90),w=function e(t,n){Object(k.a)(this,e),this.items=void 0,this.metaData=void 0,this.items=t,this.metaData=n};v.a.defaults.baseURL="/api/",v.a.defaults.withCredentials=!0;var C=function(e){return e.data};v.a.interceptors.response.use(function(){var e=Object(m.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=3;break;case 3:if(!(n=t.headers.pagination)){e.next=7;break}return t.data=new w(t.data,JSON.parse(n)),e.abrupt("return",t);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){var t=e.response,n=t.data;switch(t.status){case 400:if(n.errors){var r=[];for(var a in n.errors)n.errors[a]&&r.push(n.errors[a]);throw r.flat()}y.b.error(n.title);break;case 401:y.b.error(n.title);break;case 404:_t.push("/not-found");break;case 500:_t.push("/server-error",{error:n})}return Promise.reject(e.response)}));var I=function(e,t){return v.a.get(e,{params:t}).then(C)},S=function(e,t){return v.a.post(e,t).then(C)},P=function(e){return v.a.delete(e).then(C)},B={get:function(){return I("basket")},addItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return S("basket?productId=".concat(e,"&quantity=").concat(t),{})},removeItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return P("basket?productId=".concat(e,"&quantity=").concat(t))}},z={Catalog:{list:function(e){return I("products",e)},details:function(e){return I("products/".concat(e))},fetchFilters:function(){return I("products/filters")}},TestErrors:{get400Error:function(){return I("buggy/bad-request")},get401Error:function(){return I("buggy/unauthorized")},get404Error:function(){return I("buggy/not-found")},get500Error:function(){return I("buggy/server-error")},getValidationError:function(){return I("buggy/validation-error")}},Basket:B,Account:{login:function(e){return S("account/login",e)},register:function(e){return S("account/register",e)},currentUser:function(){return I("account/currentUser")}}},T=Object(u.b)("basket/addBasketItemAsync",function(){var e=Object(m.a)(O.a.mark((function e(t,n){var r,a,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.productId,a=t.quantity,c=void 0===a?1:a,e.prev=1,e.next=4,z.Basket.addItem(r,c);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",n.rejectWithValue({error:e.t0.data}));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()),E=Object(u.b)("basket/removeBasketItemAsync",function(){var e=Object(m.a)(O.a.mark((function e(t,n){var r,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.productId,a=t.quantity,e.prev=1,e.next=4,z.Basket.removeItem(r,a);case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",n.rejectWithValue({error:e.t0.data}));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()),q=Object(u.d)({name:"basket",initialState:{basket:null,status:"idle"},reducers:{setBasket:function(e,t){e.basket=t.payload}},extraReducers:function(e){e.addCase(T.pending,(function(e,t){e.status="pendingAddItem"+t.meta.arg.productId})),e.addCase(T.fulfilled,(function(e,t){e.basket=t.payload,e.status="idle"})),e.addCase(T.rejected,(function(e,t){e.status="idle",console.log(t.payload)})),e.addCase(E.pending,(function(e,t){e.status="pendingRemoveItem"+t.meta.arg.productId+t.meta.arg.name})),e.addCase(E.fulfilled,(function(e,t){var n,r,a=t.meta.arg,c=a.productId,i=a.quantity,o=null===(n=e.basket)||void 0===n?void 0:n.items.findIndex((function(e){return e.productId===c}));-1!==o&&void 0!==o&&(e.basket.items[o].quantity-=i,0===(null===(r=e.basket)||void 0===r?void 0:r.items[o].quantity)&&e.basket.items.splice(o,1),e.status="idle")})),e.addCase(E.rejected,(function(e,t){e.status="idle",console.log(t.payload)}))}}),L=q.actions.setBasket,A=Object(u.c)();function F(e){var t=new URLSearchParams;return t.append("pageNumber",e.pageNumber.toString()),t.append("pageSize",e.pageSize.toString()),t.append("orderBy",e.orderBy),e.searchTerm&&t.append("searchTerm",e.searchTerm),e.brands.length>0&&t.append("brands",e.brands.toString()),e.types.length>0&&t.append("types",e.types.toString()),t}var M=Object(u.b)("catalog/fetchProductsAsync",function(){var e=Object(m.a)(O.a.mark((function e(t,n){var r,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=F(n.getState().catalog.productParams),e.prev=1,e.next=4,z.Catalog.list(r);case 4:return a=e.sent,n.dispatch(J(a.metaData)),e.abrupt("return",a.items);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",n.rejectWithValue({error:e.t0.data}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),D=Object(u.b)("catalog/fetchProductAsync",function(){var e=Object(m.a)(O.a.mark((function e(t,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.Catalog.details(t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue({error:e.t0.data}));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()),W=Object(u.b)("catalog/fetchFiltersAsync",function(){var e=Object(m.a)(O.a.mark((function e(t,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",z.Catalog.fetchFilters());case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue({error:e.t0.data}));case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t,n){return e.apply(this,arguments)}}());var V=Object(u.d)({name:"catalog",initialState:A.getInitialState({productsLoaded:!1,filtersLoaded:!1,status:"idle",brands:[],types:[],productParams:{pageNumber:1,pageSize:8,orderBy:"name",brands:[],types:[]},metaData:null}),reducers:{setProductParams:function(e,t){e.productsLoaded=!1,e.productParams=Object(r.a)(Object(r.a)(Object(r.a)({},e.productParams),t.payload),{},{pageNumber:1})},setPageNumber:function(e,t){e.productsLoaded=!1,e.productParams=Object(r.a)(Object(r.a)({},e.productParams),t.payload)},resetProductParams:function(e){e.productParams={pageNumber:1,pageSize:8,orderBy:"name",brands:[],types:[]}},setMetaData:function(e,t){e.metaData=t.payload}},extraReducers:function(e){e.addCase(M.pending,(function(e){e.status="pendingFetchProducts"})),e.addCase(M.fulfilled,(function(e,t){A.setAll(e,t.payload),e.status="idle",e.productsLoaded=!0})),e.addCase(M.rejected,(function(e,t){e.status="idle",console.log(t.payload)})),e.addCase(D.pending,(function(e){e.status="pendingFetchProduct"})),e.addCase(D.fulfilled,(function(e,t){A.upsertOne(e,t.payload),e.status="idle"})),e.addCase(D.rejected,(function(e,t){e.status="idle",console.log(t)})),e.addCase(W.pending,(function(e){e.status="pendingFetchFilters"})),e.addCase(W.fulfilled,(function(e,t){e.brands=t.payload.brands,e.types=t.payload.types,e.filtersLoaded=!0,e.status="idle"})),e.addCase(W.rejected,(function(e,t){e.status="idle",console.log(t.payload)}))}}),R=A.getSelectors((function(e){return e.catalog})),U=V.actions,N=U.setProductParams,J=(U.resetProductParams,U.setMetaData),H=U.setPageNumber,G=Object(u.b)("account/signInUser",function(){var e=Object(m.a)(O.a.mark((function e(t,n){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.Account.login(t);case 3:return r=e.sent,localStorage.setItem("user",JSON.stringify(r)),e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue({error:e.t0.data}));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()),Q=Object(u.b)("account/fetchCurrentUser",function(){var e=Object(m.a)(O.a.mark((function e(t,n){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.Account.currentUser();case 3:return r=e.sent,localStorage.setItem("user",JSON.stringify(r)),e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue({error:e.t0.data}));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()),_=Object(u.d)({name:"account",initialState:{user:null},reducers:{},extraReducers:function(e){e.addMatcher(Object(u.e)(G.fulfilled,Q.fulfilled),(function(e,t){e.user=t.payload})),e.addMatcher(Object(u.e)(G.rejected,Q.rejected),(function(e,t){console.log(t.payload)}))}}),Y=Object(u.a)({reducer:{counter:b.reducer,basket:q.reducer,catalog:V.reducer,account:_.reducer}}),$=function(){return Object(j.b)()},X=j.c,K=n(287),Z=n(300),ee=n(302),te=n(296),ne=n(303),re=n(304),ae=n(101),ce=n(305),ie=n(306),oe=n(23);function se(e){return"$"+(e/100).toFixed(2)}var le=n(0);function de(e){var t=e.product,n=X((function(e){return e.basket})).status,r=$();return Object(le.jsxs)(Z.a,{children:[Object(le.jsx)(ee.a,{avatar:Object(le.jsx)(te.a,{sx:{bgcolor:"secondary.main"},children:t.name.charAt(0).toUpperCase()}),title:t.name,titleTypographyProps:{sx:{fontWeight:"bold",color:"primary.main"}}}),Object(le.jsx)(ne.a,{component:"img",sx:{height:140,objectFit:"contain",bgcolor:"primary.light"},image:t.pictureUrl,alt:t.name}),Object(le.jsxs)(re.a,{children:[Object(le.jsx)(ae.a,{gutterBottom:!0,color:"secondary",variant:"h5",children:se(t.price)}),Object(le.jsxs)(ae.a,{variant:"body2",color:"text.secondary",children:[t.brand," / ",t.type]})]}),Object(le.jsxs)(ce.a,{children:[Object(le.jsx)(K.a,{loading:n.includes("pendingAddItem"+t.id),onClick:function(){return r(T({productId:t.id}))},size:"small",children:"Add to cart"}),Object(le.jsx)(ie.a,{component:oe.a,to:"/catalog/".concat(t.id),size:"small",children:"View"})]})]})}var ue=n(298);function je(){return Object(le.jsxs)(d.a,{item:!0,xs:!0,component:Z.a,children:[Object(le.jsx)(ee.a,{avatar:Object(le.jsx)(ue.a,{animation:"wave",variant:"circular",width:40,height:40}),title:Object(le.jsx)(ue.a,{animation:"wave",height:10,width:"80%",style:{marginBottom:6}})}),Object(le.jsx)(ue.a,{sx:{height:190},animation:"wave",variant:"rectangular"}),Object(le.jsx)(re.a,{children:Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(ue.a,{animation:"wave",height:10,style:{marginBottom:6}}),Object(le.jsx)(ue.a,{animation:"wave",height:10,width:"80%"})]})}),Object(le.jsx)(ce.a,{children:Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(ue.a,{animation:"wave",height:10,width:"40%"}),Object(le.jsx)(ue.a,{animation:"wave",height:10,width:"20%"})]})})]})}function be(e){var t=e.products,n=X((function(e){return e.catalog})).productsLoaded;return Object(le.jsx)(d.a,{container:!0,spacing:4,marginBottom:"20px",children:t.map((function(e,t){return Object(le.jsx)(d.a,{item:!0,xs:12,sm:4,md:3,lg:3,children:n?Object(le.jsx)(de,{product:e}):Object(le.jsx)(je,{})},t)}))})}var he=n(301),pe=n(88),xe=n(285);function ge(){var e=X((function(e){return e.catalog})).productParams,t=Object(i.useState)(e.searchTerm),n=Object(a.a)(t,2),r=n[0],c=n[1],o=$(),s=Object(pe.a)((function(e){o(N({searchTerm:e.target.value}))}),1e3);return Object(le.jsx)(xe.a,{label:"Search products",variant:"outlined",fullWidth:!0,value:r||"",onChange:function(e){c(e.target.value),s(e)}})}var Oe=n(308),me=n(272),fe=n(275),ve=n(310),ye=n(290);function ke(e){var t=e.options,n=e.onChange,r=e.selectedValue;return Object(le.jsxs)(Oe.a,{children:[Object(le.jsx)(me.a,{id:"demo-radio-buttons-group-label",children:"Order by"}),Object(le.jsx)(fe.a,{onChange:n,value:r,children:t.map((function(e){var t=e.value,n=e.label;return Object(le.jsx)(ve.a,{value:t,control:Object(le.jsx)(ye.a,{}),label:n},t)}))})]})}var we=n(14),Ce=n(226),Ie=n(291);function Se(e){var t=e.items,n=e.checked,r=e.onChange,c=Object(i.useState)(n||[]),o=Object(a.a)(c,2),s=o[0],l=o[1];return Object(le.jsx)(Ce.a,{children:t.map((function(e){return Object(le.jsx)(ve.a,{control:Object(le.jsx)(Ie.a,{checked:-1!==s.indexOf(e),onClick:function(){return function(e){var t=[];t=-1===s.findIndex((function(t){return t===e}))?[].concat(Object(we.a)(s),[e]):s.filter((function(t){return t!==e})),l(t),r(t)}(e)}}),label:e},e)}))})}var Pe=n(311),Be=n(286);function ze(e){var t=e.metaData,n=e.onPageChange,r=t.currentPage,a=t.totalCount,c=t.totalPages,i=t.pageSize;return Object(le.jsxs)(Pe.a,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:"20px",children:[Object(le.jsxs)(ae.a,{children:["Displaying ",(r-1)*i+1,"-",r*i>a?a:r*i," of ",a," items"]}),Object(le.jsx)(Be.a,{color:"secondary",size:"large",count:c,page:r,onChange:function(e,t){return n(t)}})]})}var Te=n(293),Ee=n(307);function qe(e){var t=e.message,n=void 0===t?"Loading...":t;return Object(le.jsx)(Te.a,{open:!0,invisible:!0,children:Object(le.jsxs)(Pe.a,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:[Object(le.jsx)(Ee.a,{size:100,color:"primary"}),Object(le.jsx)(ae.a,{variant:"h4",sx:{justifyContent:"center",position:"fixed",top:"60%"},children:n})]})})}var Le=[{value:"name",label:"Alphabetical"},{value:"priceDesc",label:"Price - High to low"},{value:"price",label:"Price - Low to high"}];function Ae(){var e=X(R.selectAll),t=$(),n=X((function(e){return e.catalog})),r=n.productsLoaded,a=n.filtersLoaded,c=n.brands,o=n.types,s=n.productParams,l=n.metaData;return Object(i.useEffect)((function(){r||t(M())}),[r,t]),Object(i.useEffect)((function(){a||t(W())}),[a,t]),a?Object(le.jsxs)(d.a,{container:!0,spacing:4,columnSpacing:4,children:[Object(le.jsxs)(d.a,{item:!0,xs:3,children:[Object(le.jsx)(he.a,{sx:{mb:2},children:Object(le.jsx)(ge,{})}),Object(le.jsx)(he.a,{sx:{mb:2,p:2},children:Object(le.jsx)(ke,{selectedValue:s.orderBy,options:Le,onChange:function(e){return t(N({orderBy:e.target.value}))}})}),Object(le.jsx)(he.a,{sx:{mb:2,p:2},children:Object(le.jsx)(Se,{items:c,checked:s.brands,onChange:function(e){return t(N({brands:e}))}})}),Object(le.jsx)(he.a,{sx:{mb:2,p:2},children:Object(le.jsx)(Se,{items:o,checked:s.types,onChange:function(e){return t(N({types:e}))}})})]}),Object(le.jsx)(d.a,{item:!0,xs:9,children:Object(le.jsx)(be,{products:e})}),Object(le.jsx)(d.a,{item:!0,xs:3}),Object(le.jsx)(d.a,{item:!0,xs:8,sx:{mb:2},children:l&&Object(le.jsx)(ze,{metaData:l,onPageChange:function(e){return t(H({pageNumber:e}))}})})]}):Object(le.jsx)(qe,{message:"Loading products..."})}var Fe=n(139),Me=n.n(Fe);function De(){var e={display:"grid",placeItems:"center",width:"80%",marginTop:"50px",margin:"auto",height:"500px",padding:"0px",background:"red"},t={margin:"auto",height:"100%",width:"100%",maxWidth:"400px",maxHeight:"400px"};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(Me.a,Object(r.a)(Object(r.a)({},{dots:!0,infinite:!0,autoplay:!0,autoplaySpeed:3e3,speed:500,slidesToShow:1,slidesToScroll:1}),{},{children:[Object(le.jsx)("div",{style:e,children:Object(le.jsx)("img",{src:"https://freepikpsd.com/file/2019/10/dot-net-logo-png-2-Transparent-Images.png",alt:"product",style:t})}),Object(le.jsx)("div",{style:e,children:Object(le.jsx)("img",{src:"https://logos-download.com/wp-content/uploads/2016/09/React_logo_wordmark-700x235.png",alt:"product",style:t})}),Object(le.jsx)("div",{style:e,children:Object(le.jsx)("img",{src:"https://www.docker.com/sites/default/files/d8/2019-07/horizontal-logo-monochromatic-white.png",alt:"product",style:t})}),Object(le.jsx)("div",{style:e,children:Object(le.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/ec/Heroku_logo.svg/2560px-Heroku_logo.svg.png",alt:"product",style:t})}),Object(le.jsx)("div",{style:e,children:Object(le.jsx)("img",{src:"https://logos-world.net/wp-content/uploads/2020/11/GitHub-Logo.png",alt:"product",style:t})})]})),Object(le.jsxs)(d.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",marginBottom:"20px",marginTop:"30px",children:[Object(le.jsx)(ae.a,{variant:"h3",children:"Welcome to JStore!"}),Object(le.jsx)(ae.a,{variant:"h5",children:"Made with .Net and React."})]})]})}var We=n(276),Ve=n(313),Re=n(314),Ue=n(315),Ne=n(316),Je=n(17),He=n(312);function Ge(){return Object(le.jsxs)(He.a,{component:he.a,children:[Object(le.jsx)(ae.a,{gutterBottom:!0,variant:"h3",children:"Can't seem to find this item"}),Object(le.jsx)(We.a,{}),Object(le.jsx)(ie.a,{fullWidth:!0,component:oe.a,to:"/catalog",children:"Go back to shop"})]})}function Qe(){var e=X((function(e){return e.basket})),t=e.basket,n=e.status,r=$(),c=Object(Je.g)().id,o=X((function(e){return R.selectById(e,c)})),s=X((function(e){return e.catalog})).status,l=Object(i.useState)(0),u=Object(a.a)(l,2),j=u[0],b=u[1],h=null===t||void 0===t?void 0:t.items.find((function(e){return e.productId===(null===o||void 0===o?void 0:o.id)}));return Object(i.useEffect)((function(){h&&b(h.quantity),o||r(D(parseInt(c)))}),[c,h,r,o]),s.includes("pending")?Object(le.jsx)(qe,{message:"Loading product..."}):o?Object(le.jsxs)(d.a,{container:!0,spacing:6,alignItems:"center",justifyContent:"center",marginBottom:"20px",children:[Object(le.jsx)(d.a,{item:!0,xs:10,sm:6,md:6,lg:6,children:Object(le.jsx)("img",{src:o.pictureUrl,alt:o.name,style:{width:"100%"}})}),Object(le.jsxs)(d.a,{item:!0,xs:16,sm:6,md:6,lg:6,children:[Object(le.jsx)(ae.a,{variant:"h3",children:o.name}),Object(le.jsx)(We.a,{sx:{mb:2}}),Object(le.jsxs)(ae.a,{variant:"h4",color:"secondary",children:["$",(o.price/100).toFixed(2)]}),Object(le.jsx)(Ve.a,{children:Object(le.jsxs)(Re.a,{children:[Object(le.jsxs)(Ue.a,{children:[Object(le.jsx)(Ne.a,{children:"Name"}),Object(le.jsx)(Ne.a,{children:o.name})]}),Object(le.jsxs)(Ue.a,{children:[Object(le.jsx)(Ne.a,{children:"Description"}),Object(le.jsx)(Ne.a,{children:o.description})]}),Object(le.jsxs)(Ue.a,{children:[Object(le.jsx)(Ne.a,{children:"Type"}),Object(le.jsx)(Ne.a,{children:o.type})]}),Object(le.jsxs)(Ue.a,{children:[Object(le.jsx)(Ne.a,{children:"Brand"}),Object(le.jsx)(Ne.a,{children:o.brand})]}),Object(le.jsxs)(Ue.a,{children:[Object(le.jsx)(Ne.a,{children:"Quantity in stock"}),Object(le.jsx)(Ne.a,{children:o.quantityInStock})]})]})}),Object(le.jsxs)(d.a,{container:!0,spacing:2,children:[Object(le.jsx)(d.a,{item:!0,xs:6,children:Object(le.jsx)(xe.a,{onChange:function(e){e.target.value>0&&b(parseInt(e.target.value))},variant:"outlined",type:"number",label:"Quantity in Cart",fullWidth:!0,value:j})}),Object(le.jsx)(d.a,{item:!0,xs:6,children:Object(le.jsx)(K.a,{disabled:(null===h||void 0===h?void 0:h.quantity)===j,loading:n.includes("pending"),onClick:function(){if(!h||j>h.quantity){var e=h?j-h.quantity:j;r(T({productId:null===o||void 0===o?void 0:o.id,quantity:e}))}else{var t=h.quantity-j;r(E({productId:null===o||void 0===o?void 0:o.id,quantity:t}))}},sx:{height:"55px"},color:"primary",size:"large",variant:"contained",fullWidth:!0,children:h?"Update Quantity":"Add to Cart"})})]})]})]}):Object(le.jsx)(Ge,{})}var _e=n(317),Ye=n(289),$e=n(319),Xe=n(309),Ke=n(292),Ze=n(277);function et(){var e=Object(i.useState)([]),t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(le.jsxs)(d.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",marginBottom:"20px",children:[Object(le.jsx)(ae.a,{gutterBottom:!0,variant:"h6",children:"Since this is a portfolio project, I've taken the liberty of making this page an error testing page so have some buttons :)"}),Object(le.jsxs)(_e.a,{style:{flexWrap:"wrap",textAlign:"center",display:"inline-block"},children:[Object(le.jsx)(ie.a,{variant:"contained",onClick:function(){return z.TestErrors.get400Error().catch((function(e){return console.log(e)}))},children:"Test 400 Error"}),Object(le.jsx)(ie.a,{variant:"contained",onClick:function(){return z.TestErrors.get401Error().catch((function(e){return console.log(e)}))},children:"Test 401 Error"}),Object(le.jsx)(ie.a,{variant:"contained",onClick:function(){return z.TestErrors.get404Error().catch((function(e){return console.log(e)}))},children:"Test 404 Error"}),Object(le.jsx)(ie.a,{variant:"contained",onClick:function(){return z.TestErrors.get500Error().catch((function(e){return console.log(e)}))},children:"Test 500 Error"}),Object(le.jsx)(ie.a,{variant:"contained",onClick:function(){z.TestErrors.getValidationError().then((function(){return console.log("should not see this")})).catch((function(e){return r(e)}))},children:" Test Validation Error"})]}),n.length>0&&Object(le.jsxs)(Ye.a,{severity:"error",children:[Object(le.jsx)($e.a,{children:"Validation Errors"}),Object(le.jsx)(Xe.a,{children:n.map((function(e){return Object(le.jsx)(Ke.a,{children:Object(le.jsx)(Ze.a,{children:e})},e)}))})]})]})}function tt(){var e=$(),t=X((function(e){return e.counter})),n=t.data,r=t.title;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(ae.a,{variant:"h2",children:r}),Object(le.jsxs)(ae.a,{variant:"h5",children:["Data is: ",n]}),Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ie.a,{onClick:function(){return e(x(1))},variant:"contained",color:"error",children:"Decrement"}),Object(le.jsx)(ie.a,{onClick:function(){return e(p(1))},variant:"contained",color:"error",children:"Increment"})]})]})}var nt=n(279),rt=n(321),at=n(322),ct=n(318),it=n(145),ot=n(294),st=n(284),lt=n(299),dt=n(4),ut=n(320),jt=Object(dt.a)(ut.a)((function(e){var t=e.theme;return{width:62,height:34,padding:7,"& .MuiSwitch-switchBase":{margin:1,padding:0,transform:"translateX(6px)","&.Mui-checked":{color:"#fff",transform:"translateX(22px)","& .MuiSwitch-thumb:before":{backgroundImage:'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="'.concat(encodeURIComponent("#fff"),'" d="M4.2 2.5l-.7 1.8-1.8.7 1.8.7.7 1.8.6-1.8L6.7 5l-1.9-.7-.6-1.8zm15 8.3a6.7 6.7 0 11-6.6-6.6 5.8 5.8 0 006.6 6.6z"/></svg>\')')},"& + .MuiSwitch-track":{opacity:1,backgroundColor:"dark"===t.palette.mode?"#8796A5":"#aab4be"}}},"& .MuiSwitch-thumb":{backgroundColor:"dark"===t.palette.mode?"#003892":"#001e3c",width:32,height:32,"&:before":{content:"''",position:"absolute",width:"100%",height:"100%",left:0,top:0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundImage:'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="'.concat(encodeURIComponent("#fff"),'" d="M9.305 1.667V3.75h1.389V1.667h-1.39zm-4.707 1.95l-.982.982L5.09 6.072l.982-.982-1.473-1.473zm10.802 0L13.927 5.09l.982.982 1.473-1.473-.982-.982zM10 5.139a4.872 4.872 0 00-4.862 4.86A4.872 4.872 0 0010 14.862 4.872 4.872 0 0014.86 10 4.872 4.872 0 0010 5.139zm0 1.389A3.462 3.462 0 0113.471 10a3.462 3.462 0 01-3.473 3.472A3.462 3.462 0 016.527 10 3.462 3.462 0 0110 6.528zM1.665 9.305v1.39h2.083v-1.39H1.666zm14.583 0v1.39h2.084v-1.39h-2.084zM5.09 13.928L3.616 15.4l.982.982 1.473-1.473-.982-.982zm9.82 0l-.982.982 1.473 1.473.982-.982-1.473-1.473zM9.305 16.25v2.083h1.389V16.25h-1.39z"/></svg>\')')}},"& .MuiSwitch-track":{opacity:1,backgroundColor:"dark"===t.palette.mode?"#8796A5":"#aab4be",borderRadius:10}}})),bt=n(38),ht=n(278),pt=n(117),xt=n.n(pt),gt=n(141),Ot=n.n(gt),mt=[{title:"Catalog",path:"/catalog"},{title:"About",path:"/about"},{title:"Contact",path:"/contact"}],ft=[{title:"Login",path:"/login"},{title:"Register",path:"/register"}],vt={color:"inherit",textDecoration:"none",typography:"h5","&:hover":{color:"grey.500"},"&.active":{color:"text.secondary"}};function yt(e){var t=e.darkMode,n=e.handleThemeChange,r=X((function(e){return e.basket})).basket,c=null===r||void 0===r?void 0:r.items.reduce((function(e,t){return e+t.quantity}),0),o=Object(i.useState)(null),s=Object(a.a)(o,2),l=s[0],d=s[1],u=Object(i.useState)(null),j=Object(a.a)(u,2),b=j[0],h=j[1],p=function(e){h(e.currentTarget)},x=function(){d(null)},g=function(){h(null)},O=Object(bt.a)(),m=Object(ht.a)(O.breakpoints.down("sm"));return Object(le.jsx)(Pe.a,{sx:{flexGrow:1},children:Object(le.jsx)(rt.a,{position:"static",sx:{mb:4},children:Object(le.jsx)(at.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:m?Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(Pe.a,{sx:{flexGrow:1,display:"flex",alignItems:"center"},children:[Object(le.jsx)(ct.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){d(e.currentTarget)},color:"inherit",children:Object(le.jsx)(Ot.a,{})}),Object(le.jsx)(it.a,{id:"menu-appbar",anchorEl:l,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(l),onClose:x,sx:{display:{xs:"block",md:"none"}},children:Object(le.jsx)(Xe.a,{sx:{display:"block"},children:mt.map((function(e){var t=e.title,n=e.path;return Object(le.jsx)(Ke.a,{component:oe.b,to:n,sx:vt,children:t},n)}))})}),Object(le.jsx)(ae.a,{variant:"h6",component:oe.b,to:"/",sx:vt,children:"JStore"}),Object(le.jsx)(jt,{checked:t,onChange:n})]}),Object(le.jsx)(Pe.a,{display:"flex",alignItems:"center"}),Object(le.jsxs)(Pe.a,{display:"flex",alignItems:"center",children:[Object(le.jsx)(ct.a,{component:oe.a,to:"/basket",size:"large",sx:{color:"inherit"},children:Object(le.jsx)(ot.a,{badgeContent:c,color:"secondary",children:Object(le.jsx)(nt.a,{})})}),Object(le.jsx)(st.a,{title:"Connect",children:Object(le.jsx)(ct.a,{onClick:p,sx:{color:"inherit"},children:Object(le.jsx)(xt.a,{})})}),Object(le.jsx)(it.a,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:b,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(b),onClose:g,children:Object(le.jsx)(lt.a,{onClick:x,children:Object(le.jsx)(Xe.a,{sx:{display:"block"},children:ft.map((function(e){var t=e.title,n=e.path;return Object(le.jsx)(Ke.a,{component:oe.b,to:n,sx:vt,children:t},n)}))})})})]})]}):Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(Pe.a,{display:"flex",alignItems:"center",children:[Object(le.jsx)(ae.a,{variant:"h6",component:oe.b,to:"/",sx:vt,children:"JStore"}),Object(le.jsx)(jt,{checked:t,onChange:n})]}),Object(le.jsx)(Xe.a,{sx:{display:"flex"},children:mt.map((function(e){var t=e.title,n=e.path;return Object(le.jsx)(Ke.a,{component:oe.b,to:n,sx:vt,children:t},n)}))}),Object(le.jsxs)(Pe.a,{display:"flex",alignItems:"center",children:[Object(le.jsx)(ct.a,{component:oe.a,to:"/basket",size:"large",sx:{color:"inherit"},children:Object(le.jsx)(ot.a,{badgeContent:c,color:"secondary",children:Object(le.jsx)(nt.a,{})})}),Object(le.jsx)(st.a,{title:"Connect",children:Object(le.jsx)(ct.a,{onClick:p,sx:{color:"inherit"},children:Object(le.jsx)(xt.a,{})})}),Object(le.jsx)(it.a,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:b,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(b),onClose:g,children:Object(le.jsx)(lt.a,{onClick:x,children:Object(le.jsx)(Xe.a,{sx:{display:"block"},children:ft.map((function(e){var t=e.title,n=e.path;return Object(le.jsx)(Ke.a,{component:oe.b,to:n,sx:vt,children:t},n)}))})})})]})]})})})})}var kt=n(283),wt=n(144),Ct=n(295);n(212);function It(){var e=Object(Je.e)().state;return Object(le.jsxs)(He.a,{component:he.a,children:[(null===e||void 0===e?void 0:e.error)?Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(ae.a,{variant:"h3",color:"error",gutterBottom:!0,children:e.error.title}),Object(le.jsx)(We.a,{}),Object(le.jsx)(ae.a,{children:e.error.detail||"Internal server error"})]}):Object(le.jsx)(ae.a,{variant:"h5",gutterBottom:!0,children:"Server error"}),Object(le.jsx)(ie.a,{onClick:function(){return _t.push("/catalog")},children:"Go back to the store"})]})}var St=n(280),Pt=n(281),Bt=n(282),zt=n(323),Tt=n(324);function Et(){var e,t=X((function(e){return e.basket})).basket,n=null!==(e=null===t||void 0===t?void 0:t.items.reduce((function(e,t){return e+t.price*t.quantity}),0))&&void 0!==e?e:0,r=n/100<100?500:0;return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Ve.a,{component:he.a,variant:"outlined",children:Object(le.jsx)(zt.a,{children:Object(le.jsxs)(Re.a,{children:[Object(le.jsxs)(Ue.a,{children:[Object(le.jsx)(Ne.a,{colSpan:2,children:"Subtotal"}),Object(le.jsx)(Ne.a,{align:"right",children:se(n)})]}),Object(le.jsxs)(Ue.a,{children:[Object(le.jsx)(Ne.a,{colSpan:2,children:"Delivery fee*"}),Object(le.jsx)(Ne.a,{align:"right",children:se(r)})]}),Object(le.jsxs)(Ue.a,{children:[Object(le.jsx)(Ne.a,{colSpan:2,children:"Total"}),Object(le.jsx)(Ne.a,{align:"right",children:se(n+r)})]}),Object(le.jsx)(Ue.a,{children:Object(le.jsx)(Ne.a,{children:Object(le.jsx)("span",{style:{fontStyle:"italic"},children:"*Orders over $100 qualify for free delivery"})})})]})})})})}function qt(){var e=X((function(e){return e.basket})),t=e.basket,n=e.status,r=$();return t?Object(le.jsx)(d.a,{container:!0,spacing:6,alignItems:"center",justifyContent:"center",marginBottom:"20px",children:Object(le.jsxs)(d.a,{item:!0,xs:10,sm:8,md:9,lg:10,children:[Object(le.jsx)(Ve.a,{component:he.a,children:Object(le.jsxs)(zt.a,{sx:{minWidth:650},children:[Object(le.jsx)(Tt.a,{children:Object(le.jsxs)(Ue.a,{children:[Object(le.jsx)(Ne.a,{children:"Product"}),Object(le.jsx)(Ne.a,{align:"left",children:"Price"}),Object(le.jsx)(Ne.a,{align:"left",children:"Quantity"}),Object(le.jsx)(Ne.a,{align:"left",children:"Subtotal"}),Object(le.jsx)(Ne.a,{})]})}),Object(le.jsx)(Re.a,{children:t.items.map((function(e){return Object(le.jsxs)(Ue.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(le.jsx)(Ne.a,{component:"th",scope:"row",children:Object(le.jsxs)(Pe.a,{display:"flex",alignItems:"center",children:[Object(le.jsx)("img",{src:e.pictureUrl,alt:e.name,style:{height:50,marginRight:20}}),Object(le.jsx)("span",{children:e.name})]})}),Object(le.jsx)(Ne.a,{align:"left",children:se(e.price)}),Object(le.jsxs)(Ne.a,{align:"left",children:[Object(le.jsx)(K.a,{loading:n==="pendingAddItem"+e.productId,onClick:function(){return r(T({productId:e.productId}))},color:"success",children:Object(le.jsx)(St.a,{})}),e.quantity,Object(le.jsx)(K.a,{loading:n==="pendingRemoveItem"+e.productId+"rem",onClick:function(){return r(E({productId:e.productId,quantity:1,name:"rem"}))},color:"error",children:Object(le.jsx)(Pt.a,{})})]}),Object(le.jsx)(Ne.a,{align:"left",children:se(e.price*e.quantity)}),Object(le.jsx)(Ne.a,{align:"left",children:Object(le.jsx)(K.a,{loading:n==="pendingRemoveItem"+e.productId+"del",onClick:function(){return r(E({productId:e.productId,quantity:e.quantity,name:"del"}))},color:"error",children:Object(le.jsx)(Bt.a,{})})})]},e.productId)}))})]})}),Object(le.jsxs)(d.a,{item:!0,xs:10,sm:9,md:7,lg:7,children:[Object(le.jsx)(Et,{}),Object(le.jsx)(ie.a,{component:oe.a,to:"/checkout",variant:"contained",size:"large",fullWidth:!0,children:"Checkout"})]})]})}):Object(le.jsx)(ae.a,{variant:"h3",children:"Your basket is empty"})}function Lt(){return Object(le.jsx)(ae.a,{variant:"h3",children:"Only logged in users should be able to see this!"})}var At=n(325);function Ft(){return Object(le.jsx)(he.a,{children:Object(le.jsxs)(ae.a,{variant:"body2",color:"text.disabled",children:["Copyright \xa9 ",Object(le.jsx)(At.a,{color:"inherit",href:"https://jstore-reactapp.herokuapp.com/",children:"JStore"})," ",(new Date).getFullYear()-1," "," - ",(new Date).getFullYear(),"."]})})}function Mt(){return Object(le.jsxs)(Pe.a,{sx:{fontSize:"20px",textAlign:"center",padding:"0px",position:"fixed",left:"0",bottom:"0",height:"20px",width:"100%"},children:[Object(le.jsx)(kt.a,{}),Object(le.jsx)(Pe.a,{component:"footer",children:Object(le.jsx)(He.a,{maxWidth:"sm",children:Object(le.jsx)(Ft,{})})})]})}var Dt=n(143),Wt=n.n(Dt),Vt=n(142),Rt=Object(wt.a)();function Ut(){var e,t,n=$(),a=Object(Vt.a)({mode:"all"}),c=a.register,i=a.handleSubmit,o=a.formState,s=o.isSubmitting,l=o.errors,u=o.isValid;function j(){return(j=Object(m.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(G(t));case 2:_t.push("/catalog");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(le.jsx)(Ct.a,{theme:Rt,children:Object(le.jsxs)(He.a,{component:he.a,maxWidth:"sm",sx:{display:"flex",flexDirection:"column",alignItems:"center",p:4},children:[Object(le.jsx)(te.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(le.jsx)(Wt.a,{})}),Object(le.jsx)(ae.a,{component:"h1",variant:"h5",children:"Login"}),Object(le.jsxs)(Pe.a,{component:"form",onSubmit:i((function(e){return j.apply(this,arguments)})),noValidate:!0,sx:{mt:1},children:[Object(le.jsx)(xe.a,Object(r.a)(Object(r.a)({margin:"normal",fullWidth:!0,label:"Username",autoFocus:!0},c("username",{required:"Username is required"})),{},{error:!!l.username,helperText:null===l||void 0===l||null===(e=l.username)||void 0===e?void 0:e.message})),Object(le.jsx)(xe.a,Object(r.a)(Object(r.a)({margin:"normal",fullWidth:!0,label:"Password",type:"password"},c("password",{required:"Password is required"})),{},{error:!!l.username,helperText:null===l||void 0===l||null===(t=l.password)||void 0===t?void 0:t.message})),Object(le.jsx)(K.a,{loading:s,disabled:!u,type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Log in"}),Object(le.jsx)(d.a,{container:!0,children:Object(le.jsx)(d.a,{item:!0,children:Object(le.jsx)(oe.a,{to:"/register",children:"Don't have an account? Sign Up"})})})]})]})})}function Nt(){return Object(le.jsx)("h1",{children:"Register"})}var Jt=function(){var e=$(),t=Object(i.useState)(!0),n=Object(a.a)(t,2),r=n[0],c=n[1];Object(i.useEffect)((function(){(function(e){var t=document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)");return t?t.pop():""})("buyerId")?z.Basket.get().then((function(t){return e(L(t))})).catch((function(e){return console.log(e)})).finally((function(){return c(!1)})):c(!1)}),[e]);var o=Object(i.useState)(!1),s=Object(a.a)(o,2),l=s[0],d=s[1],u=l?"dark":"light",j=Object(wt.a)({palette:{mode:u,background:{default:"light"===u?"#eaeaea":"#121212"}}});return r?Object(le.jsx)(qe,{message:"Initialising app..."}):Object(le.jsxs)(Ct.a,{theme:j,children:[Object(le.jsx)(y.a,{theme:"colored",position:"bottom-right",hideProgressBar:!0}),Object(le.jsx)(kt.a,{}),Object(le.jsx)(yt,{darkMode:l,handleThemeChange:function(){d(!l)}}),Object(le.jsx)(He.a,{children:Object(le.jsxs)(Je.c,{children:[Object(le.jsx)(Je.a,{path:"/",element:Object(le.jsx)(De,{})}),Object(le.jsx)(Je.a,{path:"/catalog",element:Object(le.jsx)(Ae,{})}),Object(le.jsx)(Je.a,{path:"/catalog/:id",element:Object(le.jsx)(Qe,{})}),Object(le.jsx)(Je.a,{path:"/about",element:Object(le.jsx)(et,{})}),Object(le.jsx)(Je.a,{path:"/contact",element:Object(le.jsx)(tt,{})}),Object(le.jsx)(Je.a,{path:"/server-error",element:Object(le.jsx)(It,{})}),Object(le.jsx)(Je.a,{path:"/not-found",element:Object(le.jsx)(Ge,{})}),Object(le.jsx)(Je.a,{path:"/basket",element:Object(le.jsx)(qt,{})}),Object(le.jsx)(Je.a,{path:"/checkout",element:Object(le.jsx)(Lt,{})}),Object(le.jsx)(Je.a,{path:"/login",element:Object(le.jsx)(Ut,{})}),Object(le.jsx)(Je.a,{path:"/register",element:Object(le.jsx)(Nt,{})})]})}),Object(le.jsx)(Mt,{})]})},Ht=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,326)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},Gt=n(29),Qt=(n(213),n(214),["history"]),_t=Object(Gt.b)(),Yt=function(e){var t=e.history,n=Object(c.a)(e,Qt),o=Object(i.useState)({action:t.action,location:t.location}),s=Object(a.a)(o,2),l=s[0],d=s[1];return Object(i.useLayoutEffect)((function(){return t.listen(d)}),[t]),Object(le.jsx)(Je.b,Object(r.a)(Object(r.a)({},n),{},{location:l.location,navigationType:l.action,navigator:t}))};l.a.render(Object(le.jsx)(o.a.StrictMode,{children:Object(le.jsx)(Yt,{history:_t,children:Object(le.jsx)(j.a,{store:Y,children:Object(le.jsx)(Jt,{})})})}),document.getElementById("root")),Ht()}},[[215,1,2]]]);
//# sourceMappingURL=main.3482f859.chunk.js.map