(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{229:function(e,t,n){},279:function(e,t,n){},381:function(e,t,n){"use strict";n.r(t),n.d(t,"history",(function(){return fn}));var r=n(15),a=n(11),c=n(96),i=n(1),s=n.n(i),o=n(41),l=n.n(o),d=(n(229),n(460)),u=n(28),j=n(98),b=Object(u.d)({name:"counter",initialState:{data:42,title:"yet another redux counter with redux toolkit"},reducers:{increment:function(e,t){e.data+=t.payload},decrement:function(e,t){e.data-=t.payload}}}),h=b.actions,p=h.increment,x=h.decrement,m=n(16),O=n.n(m),g=n(23),f=n(51),v=n.n(f),y=n(49),k=n(22),w=function e(t,n){Object(k.a)(this,e),this.items=void 0,this.metaData=void 0,this.items=t,this.metaData=n};v.a.defaults.baseURL="/api/",v.a.defaults.withCredentials=!0;var C=function(e){return e.data};v.a.interceptors.response.use(function(){var e=Object(g.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=3;break;case 3:if(!(n=t.headers.pagination)){e.next=7;break}return t.data=new w(t.data,JSON.parse(n)),e.abrupt("return",t);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){var t=e.response,n=t.data;switch(t.status){case 400:if(n.errors){var r=[];for(var a in n.errors)n.errors[a]&&r.push(n.errors[a]);throw r.flat()}y.b.error(n.title);break;case 401:y.b.error(n.title);break;case 404:fn.push("/not-found");break;case 500:fn.push("/server-error",{error:n})}return Promise.reject(e.response)}));var S=function(e,t){return v.a.get(e,{params:t}).then(C)},I=function(e,t){return v.a.post(e,t).then(C)},P=function(e){return v.a.delete(e).then(C)},q=function(e,t){return v.a.post(e,t,{headers:{"Content-type":"multipart/form-data"}}).then(C)},T=function(e,t){return v.a.put(e,t,{headers:{"Content-type":"multipart/form-data"}}).then(C)};function B(e){var t=new FormData;for(var n in e)t.append(n,e[n]);return t}var z={get:function(){return S("basket")},addItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return I("basket?productId=".concat(e,"&quantity=").concat(t),{})},removeItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return P("basket?productId=".concat(e,"&quantity=").concat(t))}},E={Catalog:{list:function(e){return S("products",e)},details:function(e){return S("products/".concat(e))},fetchFilters:function(){return S("products/filters")}},TestErrors:{get400Error:function(){return S("buggy/bad-request")},get401Error:function(){return S("buggy/unauthorized")},get404Error:function(){return S("buggy/not-found")},get500Error:function(){return S("buggy/server-error")},getValidationError:function(){return S("buggy/validation-error")}},Basket:z,Account:{login:function(e){return I("account/login",e)},register:function(e){return I("account/register",e)},currentUser:function(){return S("account/currentUser")}},Admin:{createProduct:function(e){return q("products",B(e))},updateProduct:function(e){return T("products",B(e))},deleteProduct:function(e){return P("products/".concat(e))}}},L=Object(u.b)("basket/addBasketItemAsync",function(){var e=Object(g.a)(O.a.mark((function e(t,n){var r,a,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.productId,a=t.quantity,c=void 0===a?1:a,e.prev=1,e.next=4,E.Basket.addItem(r,c);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",n.rejectWithValue({error:e.t0.data}));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()),D=Object(u.b)("basket/removeBasketItemAsync",function(){var e=Object(g.a)(O.a.mark((function e(t,n){var r,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.productId,a=t.quantity,e.prev=1,e.next=4,E.Basket.removeItem(r,a);case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",n.rejectWithValue({error:e.t0.data}));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()),A=Object(u.d)({name:"basket",initialState:{basket:null,status:"idle"},reducers:{setBasket:function(e,t){e.basket=t.payload}},extraReducers:function(e){e.addCase(L.pending,(function(e,t){e.status="pendingAddItem"+t.meta.arg.productId})),e.addCase(L.fulfilled,(function(e,t){e.basket=t.payload,e.status="idle"})),e.addCase(L.rejected,(function(e,t){e.status="idle",console.log(t.payload)})),e.addCase(D.pending,(function(e,t){e.status="pendingRemoveItem"+t.meta.arg.productId+t.meta.arg.name})),e.addCase(D.fulfilled,(function(e,t){var n,r,a=t.meta.arg,c=a.productId,i=a.quantity,s=null===(n=e.basket)||void 0===n?void 0:n.items.findIndex((function(e){return e.productId===c}));-1!==s&&void 0!==s&&(e.basket.items[s].quantity-=i,0===(null===(r=e.basket)||void 0===r?void 0:r.items[s].quantity)&&e.basket.items.splice(s,1),e.status="idle")})),e.addCase(D.rejected,(function(e,t){e.status="idle",console.log(t.payload)}))}}),W=A.actions.setBasket,U=Object(u.c)();function F(e){var t=new URLSearchParams;return t.append("pageNumber",e.pageNumber.toString()),t.append("pageSize",e.pageSize.toString()),t.append("orderBy",e.orderBy),e.searchTerm&&t.append("searchTerm",e.searchTerm),e.brands.length>0&&t.append("brands",e.brands.toString()),e.types.length>0&&t.append("types",e.types.toString()),t}var R=Object(u.b)("catalog/fetchProductsAsync",function(){var e=Object(g.a)(O.a.mark((function e(t,n){var r,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=F(n.getState().catalog.productParams),e.prev=1,e.next=4,E.Catalog.list(r);case 4:return a=e.sent,n.dispatch(Q(a.metaData)),e.abrupt("return",a.items);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",n.rejectWithValue({error:e.t0.data}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),V=Object(u.b)("catalog/fetchProductAsync",function(){var e=Object(g.a)(O.a.mark((function e(t,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.Catalog.details(t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue({error:e.t0.data}));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()),M=Object(u.b)("catalog/fetchFiltersAsync",function(){var e=Object(g.a)(O.a.mark((function e(t,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",E.Catalog.fetchFilters());case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue({error:e.t0.data}));case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t,n){return e.apply(this,arguments)}}());var N=Object(u.d)({name:"catalog",initialState:U.getInitialState({productsLoaded:!1,filtersLoaded:!1,status:"idle",brands:[],types:[],productParams:{pageNumber:1,pageSize:8,orderBy:"name",brands:[],types:[]},metaData:null}),reducers:{setProductParams:function(e,t){e.productsLoaded=!1,e.productParams=Object(r.a)(Object(r.a)(Object(r.a)({},e.productParams),t.payload),{},{pageNumber:1})},setPageNumber:function(e,t){e.productsLoaded=!1,e.productParams=Object(r.a)(Object(r.a)({},e.productParams),t.payload)},resetProductParams:function(e){e.productParams={pageNumber:1,pageSize:8,orderBy:"name",brands:[],types:[]}},setMetaData:function(e,t){e.metaData=t.payload},setProduct:function(e,t){U.upsertOne(e,t.payload),e.productsLoaded=!1},removeProduct:function(e,t){U.removeOne(e,t.payload),e.productsLoaded=!1}},extraReducers:function(e){e.addCase(R.pending,(function(e){e.status="pendingFetchProducts"})),e.addCase(R.fulfilled,(function(e,t){U.setAll(e,t.payload),e.status="idle",e.productsLoaded=!0})),e.addCase(R.rejected,(function(e,t){e.status="idle",console.log(t.payload)})),e.addCase(V.pending,(function(e){e.status="pendingFetchProduct"})),e.addCase(V.fulfilled,(function(e,t){U.upsertOne(e,t.payload),e.status="idle"})),e.addCase(V.rejected,(function(e,t){e.status="idle",console.log(t)})),e.addCase(M.pending,(function(e){e.status="pendingFetchFilters"})),e.addCase(M.fulfilled,(function(e,t){e.brands=t.payload.brands,e.types=t.payload.types,e.filtersLoaded=!0,e.status="idle"})),e.addCase(M.rejected,(function(e,t){e.status="idle",console.log(t.payload)}))}}),J=U.getSelectors((function(e){return e.catalog})),H=N.actions,$=H.setProductParams,Q=(H.resetProductParams,H.setMetaData),G=H.setPageNumber,_=H.setProduct,Y=H.removeProduct,X=["basket"],Z=["basket"],K=Object(u.b)("account/signInUser",function(){var e=Object(g.a)(O.a.mark((function e(t,n){var r,a,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.Account.login(t);case 3:return r=e.sent,a=r.basket,i=Object(c.a)(r,X),a&&n.dispatch(W(a)),localStorage.setItem("user",JSON.stringify(i)),y.b.success("Successfully logged in!"),e.abrupt("return",i);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue({error:e.t0.data}));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()),ee=Object(u.b)("account/fetchCurrentUser",function(){var e=Object(g.a)(O.a.mark((function e(t,n){var r,a,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch(re(JSON.parse(localStorage.getItem("user")))),e.prev=1,e.next=4,E.Account.currentUser();case 4:return r=e.sent,a=r.basket,i=Object(c.a)(r,Z),a&&n.dispatch(W(a)),localStorage.setItem("user",JSON.stringify(i)),e.abrupt("return",i);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",n.rejectWithValue({error:e.t0.data}));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),{condition:function(){if(!localStorage.getItem("user"))return!1}}),te=Object(u.d)({name:"account",initialState:{user:null},reducers:{signOut:function(e){e.user=null,localStorage.removeItem("user"),fn.push("/")},setUser:function(e,t){var n=JSON.parse(atob(t.payload.token.split(".")[1]))["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"];e.user=Object(r.a)(Object(r.a)({},t.payload),{},{roles:"string"===typeof n?[n]:n})}},extraReducers:function(e){e.addCase(ee.rejected,(function(e){e.user=null,localStorage.removeItem("user"),y.b.error("Session expired - please login again"),fn.push("/")})),e.addMatcher(Object(u.e)(K.fulfilled,ee.fulfilled),(function(e,t){var n=JSON.parse(atob(t.payload.token.split(".")[1]))["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"];e.user=Object(r.a)(Object(r.a)({},t.payload),{},{roles:"string"===typeof n?[n]:n})})),e.addMatcher(Object(u.e)(K.rejected),(function(e,t){throw t.payload}))}}),ne=te.actions,re=(ne.signOut,ne.setUser),ae=Object(u.a)({reducer:{counter:b.reducer,basket:A.reducer,catalog:N.reducer,account:te.reducer}}),ce=function(){return Object(j.b)()},ie=j.c,se=n(449),oe=n(464),le=n(466),de=n(459),ue=n(467),je=n(468),be=n(127),he=n(469),pe=n(470),xe=n(26);function me(e){return"$"+(e/100).toFixed(2)}var Oe=n(0);function ge(e){var t=e.product,n=ie((function(e){return e.basket})).status,r=ce();return Object(Oe.jsxs)(oe.a,{children:[Object(Oe.jsx)(le.a,{avatar:Object(Oe.jsx)(de.a,{sx:{bgcolor:"secondary.main"},children:t.name.charAt(0).toUpperCase()}),title:t.name,titleTypographyProps:{sx:{fontWeight:"bold",color:"primary.main"}}}),Object(Oe.jsx)(ue.a,{component:"img",sx:{height:140,objectFit:"contain",bgcolor:"primary.light"},image:t.pictureUrl,alt:t.name}),Object(Oe.jsxs)(je.a,{children:[Object(Oe.jsx)(be.a,{gutterBottom:!0,color:"secondary",variant:"h5",children:me(t.price)}),Object(Oe.jsxs)(be.a,{variant:"body2",color:"text.secondary",children:[t.brand," / ",t.type]})]}),Object(Oe.jsxs)(he.a,{children:[Object(Oe.jsx)(se.a,{loading:n.includes("pendingAddItem"+t.id),onClick:function(){return r(L({productId:t.id}))},size:"small",children:"Add to cart"}),Object(Oe.jsx)(pe.a,{component:xe.a,to:"/catalog/".concat(t.id),size:"small",children:"View"})]})]})}var fe=n(461);function ve(){return Object(Oe.jsxs)(d.a,{item:!0,xs:!0,component:oe.a,children:[Object(Oe.jsx)(le.a,{avatar:Object(Oe.jsx)(fe.a,{animation:"wave",variant:"circular",width:40,height:40}),title:Object(Oe.jsx)(fe.a,{animation:"wave",height:10,width:"80%",style:{marginBottom:6}})}),Object(Oe.jsx)(fe.a,{sx:{height:190},animation:"wave",variant:"rectangular"}),Object(Oe.jsx)(je.a,{children:Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(fe.a,{animation:"wave",height:10,style:{marginBottom:6}}),Object(Oe.jsx)(fe.a,{animation:"wave",height:10,width:"80%"})]})}),Object(Oe.jsx)(he.a,{children:Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(fe.a,{animation:"wave",height:10,width:"40%"}),Object(Oe.jsx)(fe.a,{animation:"wave",height:10,width:"20%"})]})})]})}function ye(e){var t=e.products,n=ie((function(e){return e.catalog})).productsLoaded;return Object(Oe.jsx)(d.a,{container:!0,spacing:4,marginBottom:"20px",children:t.map((function(e,t){return Object(Oe.jsx)(d.a,{item:!0,xs:12,sm:4,md:3,lg:3,children:n?Object(Oe.jsx)(ge,{product:e}):Object(Oe.jsx)(ve,{})},t)}))})}var ke=n(465),we=n(113),Ce=n(472);function Se(){var e=ie((function(e){return e.catalog})).productParams,t=Object(i.useState)(e.searchTerm),n=Object(a.a)(t,2),r=n[0],c=n[1],s=ce(),o=Object(we.a)((function(e){s($({searchTerm:e.target.value}))}),1e3);return Object(Oe.jsx)(Ce.a,{label:"Search products",variant:"outlined",fullWidth:!0,value:r||"",onChange:function(e){c(e.target.value),o(e)}})}var Ie=n(475),Pe=n(433),qe=n(436),Te=n(479),Be=n(453);function ze(e){var t=e.options,n=e.onChange,r=e.selectedValue;return Object(Oe.jsxs)(Ie.a,{children:[Object(Oe.jsx)(Pe.a,{id:"demo-radio-buttons-group-label",children:"Order by"}),Object(Oe.jsx)(qe.a,{onChange:n,value:r,children:t.map((function(e){var t=e.value,n=e.label;return Object(Oe.jsx)(Te.a,{value:t,control:Object(Oe.jsx)(Be.a,{}),label:n},t)}))})]})}var Ee=n(13),Le=n(392),De=n(454);function Ae(e){var t=e.items,n=e.checked,r=e.onChange,c=Object(i.useState)(n||[]),s=Object(a.a)(c,2),o=s[0],l=s[1];return Object(Oe.jsx)(Le.a,{children:t.map((function(e){return Object(Oe.jsx)(Te.a,{control:Object(Oe.jsx)(De.a,{checked:-1!==o.indexOf(e),onClick:function(){return function(e){var t=[];t=-1===o.findIndex((function(t){return t===e}))?[].concat(Object(Ee.a)(o),[e]):o.filter((function(t){return t!==e})),l(t),r(t)}(e)}}),label:e},e)}))})}var We=n(480),Ue=n(448);function Fe(e){var t=e.metaData,n=e.onPageChange,r=t.currentPage,a=t.totalCount,c=t.totalPages,i=t.pageSize;return Object(Oe.jsxs)(We.a,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:"20px",children:[Object(Oe.jsxs)(be.a,{children:["Displaying ",(r-1)*i+1,"-",r*i>a?a:r*i," of ",a," items"]}),Object(Oe.jsx)(Ue.a,{color:"secondary",size:"large",count:c,page:r,onChange:function(e,t){return n(t)}})]})}var Re=n(456),Ve=n(471);function Me(e){var t=e.message,n=void 0===t?"Loading...":t;return Object(Oe.jsx)(Re.a,{open:!0,invisible:!0,children:Object(Oe.jsxs)(We.a,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:[Object(Oe.jsx)(Ve.a,{size:100,color:"primary"}),Object(Oe.jsx)(be.a,{variant:"h4",sx:{justifyContent:"center",position:"fixed",top:"60%"},children:n})]})})}function Ne(){var e=ie(J.selectAll),t=ce(),n=ie((function(e){return e.catalog})),r=n.productsLoaded,a=n.filtersLoaded,c=n.brands,s=n.types,o=n.metaData;return Object(i.useEffect)((function(){r||t(R())}),[r,t]),Object(i.useEffect)((function(){a||t(M())}),[a,t]),{products:e,productsLoaded:r,filtersLoaded:a,brands:c,types:s,metaData:o}}var Je=[{value:"name",label:"Alphabetical"},{value:"priceDesc",label:"Price - High to low"},{value:"price",label:"Price - Low to high"}];function He(){var e=Ne(),t=e.products,n=e.brands,r=e.types,a=e.filtersLoaded,c=e.metaData,i=ie((function(e){return e.catalog})).productParams,s=ce();return a?Object(Oe.jsxs)(d.a,{container:!0,spacing:4,columnSpacing:4,children:[Object(Oe.jsxs)(d.a,{item:!0,xs:3,children:[Object(Oe.jsx)(ke.a,{sx:{mb:2},children:Object(Oe.jsx)(Se,{})}),Object(Oe.jsx)(ke.a,{sx:{mb:2,p:2},children:Object(Oe.jsx)(ze,{selectedValue:i.orderBy,options:Je,onChange:function(e){return s($({orderBy:e.target.value}))}})}),Object(Oe.jsx)(ke.a,{sx:{mb:2,p:2},children:Object(Oe.jsx)(Ae,{items:n,checked:i.brands,onChange:function(e){return s($({brands:e}))}})}),Object(Oe.jsx)(ke.a,{sx:{mb:2,p:2},children:Object(Oe.jsx)(Ae,{items:r,checked:i.types,onChange:function(e){return s($({types:e}))}})})]}),Object(Oe.jsx)(d.a,{item:!0,xs:9,children:Object(Oe.jsx)(ye,{products:t})}),Object(Oe.jsx)(d.a,{item:!0,xs:3}),Object(Oe.jsx)(d.a,{item:!0,xs:8,sx:{mb:2},children:c&&Object(Oe.jsx)(Fe,{metaData:c,onPageChange:function(e){return s(G({pageNumber:e}))}})})]}):Object(Oe.jsx)(Me,{message:"Loading products..."})}var $e=n(193),Qe=n.n($e);function Ge(){var e={display:"grid",placeItems:"center",width:"80%",marginTop:"50px",margin:"auto",height:"500px",padding:"0px",background:"red"},t={margin:"auto",height:"100%",width:"100%",maxWidth:"400px",maxHeight:"400px"};return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsxs)(Qe.a,Object(r.a)(Object(r.a)({},{dots:!0,infinite:!0,autoplay:!0,autoplaySpeed:3e3,speed:500,slidesToShow:1,slidesToScroll:1}),{},{children:[Object(Oe.jsx)("div",{style:e,children:Object(Oe.jsx)("img",{src:"https://freepikpsd.com/file/2019/10/dot-net-logo-png-2-Transparent-Images.png",alt:"product",style:t})}),Object(Oe.jsx)("div",{style:e,children:Object(Oe.jsx)("img",{src:"https://logos-download.com/wp-content/uploads/2016/09/React_logo_wordmark-700x235.png",alt:"product",style:t})}),Object(Oe.jsx)("div",{style:e,children:Object(Oe.jsx)("img",{src:"https://www.docker.com/sites/default/files/d8/2019-07/horizontal-logo-monochromatic-white.png",alt:"product",style:t})}),Object(Oe.jsx)("div",{style:e,children:Object(Oe.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/ec/Heroku_logo.svg/2560px-Heroku_logo.svg.png",alt:"product",style:t})}),Object(Oe.jsx)("div",{style:e,children:Object(Oe.jsx)("img",{src:"https://logos-world.net/wp-content/uploads/2020/11/GitHub-Logo.png",alt:"product",style:t})})]})),Object(Oe.jsxs)(d.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",marginBottom:"20px",marginTop:"30px",children:[Object(Oe.jsx)(be.a,{variant:"h3",children:"Welcome to JStore!"}),Object(Oe.jsx)(be.a,{variant:"h5",children:"Made with .Net and React."})]})]})}var _e=n(437),Ye=n(482),Xe=n(483),Ze=n(484),Ke=n(485),et=n(18),tt=n(481);function nt(){return Object(Oe.jsxs)(tt.a,{component:ke.a,children:[Object(Oe.jsx)(be.a,{gutterBottom:!0,variant:"h3",children:"Can't seem to find this item"}),Object(Oe.jsx)(_e.a,{}),Object(Oe.jsx)(pe.a,{fullWidth:!0,component:xe.a,to:"/catalog",children:"Go back to shop"})]})}function rt(){var e=ie((function(e){return e.basket})),t=e.basket,n=e.status,r=ce(),c=Object(et.g)().id,s=ie((function(e){return J.selectById(e,c)})),o=ie((function(e){return e.catalog})).status,l=Object(i.useState)(0),u=Object(a.a)(l,2),j=u[0],b=u[1],h=null===t||void 0===t?void 0:t.items.find((function(e){return e.productId===(null===s||void 0===s?void 0:s.id)}));return Object(i.useEffect)((function(){h&&b(h.quantity),s||r(V(parseInt(c)))}),[c,h,r,s]),o.includes("pending")?Object(Oe.jsx)(Me,{message:"Loading product..."}):s?Object(Oe.jsxs)(d.a,{container:!0,spacing:6,alignItems:"center",justifyContent:"center",marginBottom:"20px",children:[Object(Oe.jsx)(d.a,{item:!0,xs:10,sm:6,md:6,lg:6,children:Object(Oe.jsx)("img",{src:s.pictureUrl,alt:s.name,style:{width:"100%"}})}),Object(Oe.jsxs)(d.a,{item:!0,xs:16,sm:6,md:6,lg:6,children:[Object(Oe.jsx)(be.a,{variant:"h3",children:s.name}),Object(Oe.jsx)(_e.a,{sx:{mb:2}}),Object(Oe.jsxs)(be.a,{variant:"h4",color:"secondary",children:["$",(s.price/100).toFixed(2)]}),Object(Oe.jsx)(Ye.a,{children:Object(Oe.jsxs)(Xe.a,{children:[Object(Oe.jsxs)(Ze.a,{children:[Object(Oe.jsx)(Ke.a,{children:"Name"}),Object(Oe.jsx)(Ke.a,{children:s.name})]}),Object(Oe.jsxs)(Ze.a,{children:[Object(Oe.jsx)(Ke.a,{children:"Description"}),Object(Oe.jsx)(Ke.a,{children:s.description})]}),Object(Oe.jsxs)(Ze.a,{children:[Object(Oe.jsx)(Ke.a,{children:"Type"}),Object(Oe.jsx)(Ke.a,{children:s.type})]}),Object(Oe.jsxs)(Ze.a,{children:[Object(Oe.jsx)(Ke.a,{children:"Brand"}),Object(Oe.jsx)(Ke.a,{children:s.brand})]}),Object(Oe.jsxs)(Ze.a,{children:[Object(Oe.jsx)(Ke.a,{children:"Quantity in stock"}),Object(Oe.jsx)(Ke.a,{children:s.quantityInStock})]})]})}),Object(Oe.jsxs)(d.a,{container:!0,spacing:2,children:[Object(Oe.jsx)(d.a,{item:!0,xs:6,children:Object(Oe.jsx)(Ce.a,{onChange:function(e){e.target.value>0&&b(parseInt(e.target.value))},variant:"outlined",type:"number",label:"Quantity in Cart",fullWidth:!0,value:j})}),Object(Oe.jsx)(d.a,{item:!0,xs:6,children:Object(Oe.jsx)(se.a,{disabled:(null===h||void 0===h?void 0:h.quantity)===j,loading:n.includes("pending"),onClick:function(){if(!h||j>h.quantity){var e=h?j-h.quantity:j;r(L({productId:null===s||void 0===s?void 0:s.id,quantity:e}))}else{var t=h.quantity-j;r(D({productId:null===s||void 0===s?void 0:s.id,quantity:t}))}},sx:{height:"55px"},color:"primary",size:"large",variant:"contained",fullWidth:!0,children:h?"Update Quantity":"Add to Cart"})})]})]})]}):Object(Oe.jsx)(nt,{})}var at=n(486),ct=n(451),it=n(488),st=n(477),ot=n(455),lt=n(438);function dt(){var e=Object(i.useState)([]),t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(Oe.jsxs)(d.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",marginBottom:"20px",children:[Object(Oe.jsx)(be.a,{gutterBottom:!0,variant:"h6",children:"Since this is a portfolio project, I've taken the liberty of making this page an error testing page so have some buttons :)"}),Object(Oe.jsxs)(at.a,{style:{flexWrap:"wrap",textAlign:"center",display:"inline-block"},children:[Object(Oe.jsx)(pe.a,{variant:"contained",onClick:function(){return E.TestErrors.get400Error().catch((function(e){return console.log(e)}))},children:"Test 400 Error"}),Object(Oe.jsx)(pe.a,{variant:"contained",onClick:function(){return E.TestErrors.get401Error().catch((function(e){return console.log(e)}))},children:"Test 401 Error"}),Object(Oe.jsx)(pe.a,{variant:"contained",onClick:function(){return E.TestErrors.get404Error().catch((function(e){return console.log(e)}))},children:"Test 404 Error"}),Object(Oe.jsx)(pe.a,{variant:"contained",onClick:function(){return E.TestErrors.get500Error().catch((function(e){return console.log(e)}))},children:"Test 500 Error"}),Object(Oe.jsx)(pe.a,{variant:"contained",onClick:function(){E.TestErrors.getValidationError().then((function(){return console.log("should not see this")})).catch((function(e){return r(e)}))},children:" Test Validation Error"})]}),n.length>0&&Object(Oe.jsxs)(ct.a,{severity:"error",children:[Object(Oe.jsx)(it.a,{children:"Validation Errors"}),Object(Oe.jsx)(st.a,{children:n.map((function(e){return Object(Oe.jsx)(ot.a,{children:Object(Oe.jsx)(lt.a,{children:e})},e)}))})]})]})}var ut=n(150);n(279);function jt(){var e=ce(),t=ie((function(e){return e.counter})),n=t.data,r=t.title;return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(be.a,{variant:"h2",children:r}),Object(Oe.jsxs)(be.a,{variant:"h5",children:["Data is: ",n]}),Object(Oe.jsxs)(at.a,{children:[Object(Oe.jsx)(pe.a,{onClick:function(){return e(x(1))},variant:"contained",color:"error",children:"Decrement"}),Object(Oe.jsx)(pe.a,{onClick:function(){return e(p(1))},variant:"contained",color:"error",children:"Increment"})]}),Object(Oe.jsxs)(tt.a,{style:{display:"flex",justifyContent:"center"},children:[Object(Oe.jsx)(ut.SocialIcon,{className:"social",url:"https://github.com/fcolt"}),Object(Oe.jsx)(ut.SocialIcon,{className:"social",url:"https://www.linkedin.com/in/fabian-olteanu/"})]})]})}var bt=n(440),ht=n(490),pt=n(491),xt=n(487),mt=n(201),Ot=n(457),gt=n(447),ft=n(463),vt=n(4),yt=n(489),kt=Object(vt.a)(yt.a)((function(e){var t=e.theme;return{width:62,height:34,padding:7,"& .MuiSwitch-switchBase":{margin:1,padding:0,transform:"translateX(6px)","&.Mui-checked":{color:"#fff",transform:"translateX(22px)","& .MuiSwitch-thumb:before":{backgroundImage:'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="'.concat(encodeURIComponent("#fff"),'" d="M4.2 2.5l-.7 1.8-1.8.7 1.8.7.7 1.8.6-1.8L6.7 5l-1.9-.7-.6-1.8zm15 8.3a6.7 6.7 0 11-6.6-6.6 5.8 5.8 0 006.6 6.6z"/></svg>\')')},"& + .MuiSwitch-track":{opacity:1,backgroundColor:"dark"===t.palette.mode?"#8796A5":"#aab4be"}}},"& .MuiSwitch-thumb":{backgroundColor:"dark"===t.palette.mode?"#003892":"#001e3c",width:32,height:32,"&:before":{content:"''",position:"absolute",width:"100%",height:"100%",left:0,top:0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundImage:'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="'.concat(encodeURIComponent("#fff"),'" d="M9.305 1.667V3.75h1.389V1.667h-1.39zm-4.707 1.95l-.982.982L5.09 6.072l.982-.982-1.473-1.473zm10.802 0L13.927 5.09l.982.982 1.473-1.473-.982-.982zM10 5.139a4.872 4.872 0 00-4.862 4.86A4.872 4.872 0 0010 14.862 4.872 4.872 0 0014.86 10 4.872 4.872 0 0010 5.139zm0 1.389A3.462 3.462 0 0113.471 10a3.462 3.462 0 01-3.473 3.472A3.462 3.462 0 016.527 10 3.462 3.462 0 0110 6.528zM1.665 9.305v1.39h2.083v-1.39H1.666zm14.583 0v1.39h2.084v-1.39h-2.084zM5.09 13.928L3.616 15.4l.982.982 1.473-1.473-.982-.982zm9.82 0l-.982.982 1.473 1.473.982-.982-1.473-1.473zM9.305 16.25v2.083h1.389V16.25h-1.39z"/></svg>\')')}},"& .MuiSwitch-track":{opacity:1,backgroundColor:"dark"===t.palette.mode?"#8796A5":"#aab4be",borderRadius:10}}})),wt=n(43),Ct=n(439),St=n(151),It=n.n(St),Pt=n(195),qt=n.n(Pt),Tt=[{title:"Catalog",path:"/catalog"},{title:"About",path:"/about"},{title:"Contact",path:"/contact"}],Bt=[{title:"Login",path:"/login"},{title:"Register",path:"/register"}],zt={color:"inherit",textDecoration:"none",typography:"h5","&:hover":{color:"grey.500"},"&.active":{color:"text.secondary"}};function Et(e){var t=e.darkMode,n=e.handleThemeChange,r=ie((function(e){return e.account})).user,c=ie((function(e){return e.basket})).basket,s=null===c||void 0===c?void 0:c.items.reduce((function(e,t){return e+t.quantity}),0),o=Object(i.useState)(null),l=Object(a.a)(o,2),d=l[0],u=l[1],j=Object(i.useState)(null),b=Object(a.a)(j,2),h=b[0],p=b[1],x=function(e){p(e.currentTarget)},m=function(){u(null)},O=function(){p(null)},g=Object(wt.a)(),f=Object(Ct.a)(g.breakpoints.down("sm"));return Object(Oe.jsx)(We.a,{sx:{flexGrow:1},children:Object(Oe.jsx)(ht.a,{position:"static",sx:{mb:4},children:Object(Oe.jsx)(pt.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:f?Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsxs)(We.a,{sx:{flexGrow:1,display:"flex",alignItems:"center"},children:[Object(Oe.jsx)(xt.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){u(e.currentTarget)},color:"inherit",children:Object(Oe.jsx)(qt.a,{})}),Object(Oe.jsx)(mt.a,{id:"menu-appbar",anchorEl:d,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(d),onClose:m,sx:{display:{xs:"block",md:"none"}},children:Object(Oe.jsxs)(st.a,{sx:{display:"block"},children:[Tt.map((function(e){var t=e.title,n=e.path;return Object(Oe.jsx)(ot.a,{component:xe.b,to:n,sx:zt,children:t},n)})),r&&Object(Oe.jsx)(ot.a,{component:xe.b,to:"/inventory",sx:zt,children:"Inventory"})]})}),Object(Oe.jsx)(be.a,{variant:"h6",component:xe.b,to:"/",sx:zt,children:"JStore"}),Object(Oe.jsx)(kt,{checked:t,onChange:n})]}),Object(Oe.jsx)(We.a,{display:"flex",alignItems:"center"}),Object(Oe.jsxs)(We.a,{display:"flex",alignItems:"center",children:[Object(Oe.jsx)(xt.a,{component:xe.a,to:"/basket",size:"large",sx:{color:"inherit"},children:Object(Oe.jsx)(Ot.a,{badgeContent:s,color:"secondary",children:Object(Oe.jsx)(bt.a,{})})}),Object(Oe.jsx)(gt.a,{title:"Connect",children:Object(Oe.jsx)(xt.a,{onClick:x,sx:{color:"inherit"},children:Object(Oe.jsx)(It.a,{})})}),Object(Oe.jsx)(mt.a,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:h,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(h),onClose:O,children:Object(Oe.jsx)(ft.a,{onClick:m,children:Object(Oe.jsx)(st.a,{sx:{display:"block"},children:Bt.map((function(e){var t=e.title,n=e.path;return Object(Oe.jsx)(ot.a,{component:xe.b,to:n,sx:zt,children:t},n)}))})})})]})]}):Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsxs)(We.a,{display:"flex",alignItems:"center",children:[Object(Oe.jsx)(be.a,{variant:"h6",component:xe.b,to:"/",sx:zt,children:"JStore"}),Object(Oe.jsx)(kt,{checked:t,onChange:n})]}),Object(Oe.jsxs)(st.a,{sx:{display:"flex"},children:[Tt.map((function(e){var t=e.title,n=e.path;return Object(Oe.jsx)(ot.a,{component:xe.b,to:n,sx:zt,children:t},n)})),r&&Object(Oe.jsx)(ot.a,{component:xe.b,to:"/inventory",sx:zt,children:"Inventory"})]}),Object(Oe.jsxs)(We.a,{display:"flex",alignItems:"center",children:[Object(Oe.jsx)(xt.a,{component:xe.a,to:"/basket",size:"large",sx:{color:"inherit"},children:Object(Oe.jsx)(Ot.a,{badgeContent:s,color:"secondary",children:Object(Oe.jsx)(bt.a,{})})}),Object(Oe.jsx)(gt.a,{title:"Connect",children:Object(Oe.jsx)(xt.a,{onClick:x,sx:{color:"inherit"},children:Object(Oe.jsx)(It.a,{})})}),Object(Oe.jsx)(mt.a,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:h,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(h),onClose:O,children:Object(Oe.jsx)(ft.a,{onClick:m,children:Object(Oe.jsx)(st.a,{sx:{display:"block"},children:Bt.map((function(e){var t=e.title,n=e.path;return Object(Oe.jsx)(ot.a,{component:xe.b,to:n,sx:zt,children:t},n)}))})})})]})]})})})})}var Lt=n(444),Dt=n(200),At=n(458);n(280);function Wt(){var e=Object(et.e)().state;return Object(Oe.jsxs)(tt.a,{component:ke.a,children:[(null===e||void 0===e?void 0:e.error)?Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(be.a,{variant:"h3",color:"error",gutterBottom:!0,children:e.error.title}),Object(Oe.jsx)(_e.a,{}),Object(Oe.jsx)(be.a,{children:e.error.detail||"Internal server error"})]}):Object(Oe.jsx)(be.a,{variant:"h5",gutterBottom:!0,children:"Server error"}),Object(Oe.jsx)(pe.a,{onClick:function(){return fn.push("/catalog")},children:"Go back to the store"})]})}var Ut=n(441),Ft=n(442),Rt=n(443),Vt=n(492),Mt=n(493);function Nt(){var e,t=ie((function(e){return e.basket})).basket,n=null!==(e=null===t||void 0===t?void 0:t.items.reduce((function(e,t){return e+t.price*t.quantity}),0))&&void 0!==e?e:0,r=n/100<100&&0!==n?500:0;return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(Ye.a,{component:ke.a,variant:"outlined",children:Object(Oe.jsx)(Vt.a,{children:Object(Oe.jsxs)(Xe.a,{children:[Object(Oe.jsxs)(Ze.a,{children:[Object(Oe.jsx)(Ke.a,{colSpan:2,children:"Subtotal"}),Object(Oe.jsx)(Ke.a,{align:"right",children:me(n)})]}),Object(Oe.jsxs)(Ze.a,{children:[Object(Oe.jsx)(Ke.a,{colSpan:2,children:"Delivery fee*"}),Object(Oe.jsx)(Ke.a,{align:"right",children:me(r)})]}),Object(Oe.jsxs)(Ze.a,{children:[Object(Oe.jsx)(Ke.a,{colSpan:2,children:"Total"}),Object(Oe.jsx)(Ke.a,{align:"right",children:me(n+r)})]}),Object(Oe.jsx)(Ze.a,{children:Object(Oe.jsx)(Ke.a,{children:Object(Oe.jsx)("span",{style:{fontStyle:"italic"},children:"*Orders over $100 qualify for free delivery"})})})]})})})})}function Jt(){var e=ie((function(e){return e.basket})),t=e.basket,n=e.status,r=ce();return t?Object(Oe.jsx)(d.a,{container:!0,spacing:6,alignItems:"center",justifyContent:"center",marginBottom:"20px",children:Object(Oe.jsxs)(d.a,{item:!0,xs:10,sm:8,md:9,lg:10,children:[Object(Oe.jsx)(Ye.a,{component:ke.a,children:Object(Oe.jsxs)(Vt.a,{sx:{minWidth:650},children:[Object(Oe.jsx)(Mt.a,{children:Object(Oe.jsxs)(Ze.a,{children:[Object(Oe.jsx)(Ke.a,{children:"Product"}),Object(Oe.jsx)(Ke.a,{align:"left",children:"Price"}),Object(Oe.jsx)(Ke.a,{align:"left",children:"Quantity"}),Object(Oe.jsx)(Ke.a,{align:"left",children:"Subtotal"}),Object(Oe.jsx)(Ke.a,{})]})}),Object(Oe.jsx)(Xe.a,{children:t.items.map((function(e){return Object(Oe.jsxs)(Ze.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(Oe.jsx)(Ke.a,{component:"th",scope:"row",children:Object(Oe.jsxs)(We.a,{display:"flex",alignItems:"center",children:[Object(Oe.jsx)("img",{src:e.pictureUrl,alt:e.name,style:{height:50,marginRight:20}}),Object(Oe.jsx)("span",{children:e.name})]})}),Object(Oe.jsx)(Ke.a,{align:"left",children:me(e.price)}),Object(Oe.jsxs)(Ke.a,{align:"left",children:[Object(Oe.jsx)(se.a,{loading:n==="pendingAddItem"+e.productId,onClick:function(){return r(L({productId:e.productId}))},color:"success",children:Object(Oe.jsx)(Ut.a,{})}),e.quantity,Object(Oe.jsx)(se.a,{loading:n==="pendingRemoveItem"+e.productId+"rem",onClick:function(){return r(D({productId:e.productId,quantity:1,name:"rem"}))},color:"error",children:Object(Oe.jsx)(Ft.a,{})})]}),Object(Oe.jsx)(Ke.a,{align:"left",children:me(e.price*e.quantity)}),Object(Oe.jsx)(Ke.a,{align:"left",children:Object(Oe.jsx)(se.a,{loading:n==="pendingRemoveItem"+e.productId+"del",onClick:function(){return r(D({productId:e.productId,quantity:e.quantity,name:"del"}))},color:"error",children:Object(Oe.jsx)(Rt.a,{})})})]},e.productId)}))})]})}),Object(Oe.jsxs)(d.a,{item:!0,xs:10,sm:9,md:7,lg:7,children:[Object(Oe.jsx)(Nt,{}),Object(Oe.jsx)(pe.a,{component:xe.a,to:"/checkout",variant:"contained",size:"large",fullWidth:!0,children:"Checkout"})]})]})}):Object(Oe.jsx)(be.a,{variant:"h3",children:"Your basket is empty"})}function Ht(){return Object(Oe.jsx)(be.a,{variant:"h3",children:"Only logged in users should be able to see this!"})}var $t=n(494);function Qt(){return Object(Oe.jsx)(ke.a,{children:Object(Oe.jsxs)(be.a,{variant:"body2",color:"text.disabled",children:["Copyright \xa9 ",Object(Oe.jsx)($t.a,{color:"inherit",href:"https://jstore-reactapp.herokuapp.com/",children:"JStore"})," ",(new Date).getFullYear()-1," "," - ",(new Date).getFullYear(),"."]})})}function Gt(){return Object(Oe.jsxs)(We.a,{sx:{fontSize:"20px",textAlign:"center",padding:"0px",position:"fixed",left:"0",bottom:"0",height:"20px",width:"100%"},children:[Object(Oe.jsx)(Lt.a,{}),Object(Oe.jsx)(We.a,{component:"footer",children:Object(Oe.jsx)(tt.a,{maxWidth:"sm",children:Object(Oe.jsx)(Qt,{})})})]})}var _t=n(122),Yt=n.n(_t),Xt=n(29),Zt=Object(Dt.a)();function Kt(){var e,t,n=ce(),a=Object(Xt.e)({mode:"all"}),c=a.register,i=a.handleSubmit,s=a.formState,o=s.isSubmitting,l=s.errors,u=s.isValid;function j(){return(j=Object(g.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(K(t));case 2:fn.push("/catalog");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(Oe.jsx)(At.a,{theme:Zt,children:Object(Oe.jsxs)(tt.a,{component:ke.a,maxWidth:"sm",sx:{display:"flex",flexDirection:"column",alignItems:"center",p:4},children:[Object(Oe.jsx)(de.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(Oe.jsx)(Yt.a,{})}),Object(Oe.jsx)(be.a,{component:"h1",variant:"h5",children:"Login"}),Object(Oe.jsxs)(We.a,{component:"form",onSubmit:i((function(e){return j.apply(this,arguments)})),noValidate:!0,sx:{mt:1},children:[Object(Oe.jsx)(Ce.a,Object(r.a)(Object(r.a)({margin:"normal",fullWidth:!0,label:"Username",autoFocus:!0},c("username",{required:"Username is required"})),{},{error:!!l.username,helperText:null===l||void 0===l||null===(e=l.username)||void 0===e?void 0:e.message})),Object(Oe.jsx)(Ce.a,Object(r.a)(Object(r.a)({margin:"normal",fullWidth:!0,label:"Password",type:"password"},c("password",{required:"Password is required"})),{},{error:!!l.username,helperText:null===l||void 0===l||null===(t=l.password)||void 0===t?void 0:t.message})),Object(Oe.jsx)(se.a,{loading:o,disabled:!u,type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Log in"}),Object(Oe.jsx)(d.a,{container:!0,children:Object(Oe.jsx)(d.a,{item:!0,children:Object(Oe.jsx)(xe.a,{to:"/register",children:"Don't have an account? Sign Up"})})})]})]})})}function en(){var e,t,n,a=Object(Xt.e)({mode:"all"}),c=a.register,i=a.handleSubmit,s=a.setError,o=a.formState,l=o.isSubmitting,u=o.errors,j=o.isValid;return Object(Oe.jsxs)(tt.a,{component:ke.a,maxWidth:"sm",sx:{display:"flex",flexDirection:"column",alignItems:"center",p:4},children:[Object(Oe.jsx)(de.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(Oe.jsx)(Yt.a,{})}),Object(Oe.jsx)(be.a,{component:"h1",variant:"h5",children:"Register"}),Object(Oe.jsxs)(We.a,{component:"form",onSubmit:i((function(e){return E.Account.register(e).then((function(){y.b.success("Registration successful - you can now login"),fn.push("/login")})).catch((function(e){return function(e){e&&e.forEach((function(e){e.includes("Password")?s("password",{message:e}):e.includes("Email")?s("email",{message:e}):e.includes("Username")&&s("username",{message:e})}))}(e)}))})),noValidate:!0,sx:{mt:1},children:[Object(Oe.jsx)(Ce.a,Object(r.a)(Object(r.a)({margin:"normal",fullWidth:!0,label:"Username",autoFocus:!0},c("username",{required:"Username is required"})),{},{error:!!u.username,helperText:null===u||void 0===u||null===(e=u.username)||void 0===e?void 0:e.message})),Object(Oe.jsx)(Ce.a,Object(r.a)(Object(r.a)({margin:"normal",fullWidth:!0,label:"Email address"},c("email",{required:"Email is required",pattern:{value:/^\w+[\w-.]*@\w+((-\w+)|(\w*)).[a-z]{2,3}$/,message:"Not a valid email address"}})),{},{error:!!u.email,helperText:null===u||void 0===u||null===(t=u.email)||void 0===t?void 0:t.message})),Object(Oe.jsx)(Ce.a,Object(r.a)(Object(r.a)({margin:"normal",fullWidth:!0,label:"Password",type:"password"},c("password",{required:"Password is required",pattern:{value:/(?=^.{6,10}$)(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&amp;*()_+}{&quot;:;'?/&gt;.&lt;,])(?!.*\s).*$/,message:"Password must contain at least one uppercase letter and a special character"}})),{},{error:!!u.password,helperText:null===u||void 0===u||null===(n=u.password)||void 0===n?void 0:n.message})),Object(Oe.jsx)(se.a,{disabled:!j,loading:l,type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Register"}),Object(Oe.jsx)(d.a,{container:!0,children:Object(Oe.jsx)(d.a,{item:!0,children:Object(Oe.jsx)(xe.a,{to:"/login",children:"Already have an account? Sign In"})})})]})]})}var tn=n(446),nn=n(445),rn=n(478),an=n(202);function cn(e){var t,n=Object(Xt.d)(Object(r.a)(Object(r.a)({},e),{},{defaultValue:null})),a=n.fieldState,c=n.field,s={display:"flex",border:"dashed 3px #eee",borderColor:"#eee",borderRadius:"5px",paddingTop:"30px",alignItems:"center",height:200,width:500},o=Object(i.useCallback)((function(e){e[0]=Object.assign(e[0],{preview:URL.createObjectURL(e[0])}),c.onChange(e[0])}),[c]),l=Object(an.a)({onDrop:o}),d=l.getRootProps,u=l.getInputProps,j=l.isDragActive;return Object(Oe.jsx)("div",Object(r.a)(Object(r.a)({},d()),{},{children:Object(Oe.jsxs)(Ie.a,{error:!!a.error,style:j?Object(r.a)(Object(r.a)({},s),{borderColor:"green"}):s,children:[Object(Oe.jsx)("input",Object(r.a)({},u())),Object(Oe.jsx)(nn.a,{sx:{fontSize:"100px"}}),Object(Oe.jsx)(be.a,{variant:"h4",children:"Drop image here"}),Object(Oe.jsx)(rn.a,{children:null===(t=a.error)||void 0===t?void 0:t.message})]})}))}var sn=n(476),on=n(452);function ln(e){var t,n=Object(Xt.d)(Object(r.a)(Object(r.a)({},e),{},{defaultValue:""})),a=n.fieldState,c=n.field;return Object(Oe.jsxs)(Ie.a,{fullWidth:!0,error:!!a.error,children:[Object(Oe.jsx)(sn.a,{children:e.label}),Object(Oe.jsx)(on.a,{value:c.value,label:e.label,onChange:c.onChange,children:e.items.map((function(e,t){return Object(Oe.jsx)(ft.a,{value:e,children:e},t)}))}),Object(Oe.jsx)(rn.a,{children:null===(t=a.error)||void 0===t?void 0:t.message})]})}function dn(e){var t,n=Object(Xt.d)(Object(r.a)(Object(r.a)({},e),{},{defaultValue:""})),a=n.fieldState,c=n.field;return Object(Oe.jsx)(Ce.a,Object(r.a)(Object(r.a)(Object(r.a)({},e),c),{},{multiline:e.multiline,rows:e.rows,type:e.type,fullWidth:!0,variant:"outlined",error:!!a.error,helperText:null===(t=a.error)||void 0===t?void 0:t.message}))}var un=n(203),jn=n(52),bn=jn.c({name:jn.d().required(),brand:jn.d().required(),type:jn.d().required(),price:jn.b().required().moreThan(100),quantityInStock:jn.b().required().min(0),description:jn.d().required(),file:jn.a().when("pictureUrl",{is:function(e){return!e},then:jn.a().required("Please provide an image")})});function hn(e){var t=e.product,n=e.cancelEdit,r=Object(Xt.e)({mode:"all",resolver:Object(un.a)(bn)}),a=r.control,c=r.reset,s=r.handleSubmit,o=r.watch,l=r.formState,u=l.isDirty,j=l.isSubmitting,b=Ne(),h=b.brands,p=b.types,x=o("file",null),m=ce();function f(){return(f=Object(g.a)(O.a.mark((function e(r){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=7;break}return e.next=4,E.Admin.updateProduct(r);case 4:a=e.sent,e.next=10;break;case 7:return e.next=9,E.Admin.createProduct(r);case 9:a=e.sent;case 10:m(_(a)),n(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}return Object(i.useEffect)((function(){return!t||x||u||c(t),function(){x&&URL.revokeObjectURL(x.preview)}}),[t,c,x,u]),Object(Oe.jsxs)(We.a,{component:ke.a,sx:{p:4},children:[Object(Oe.jsx)(be.a,{variant:"h4",gutterBottom:!0,sx:{mb:4},children:"Product Details"}),Object(Oe.jsxs)("form",{onSubmit:s((function(e){return f.apply(this,arguments)})),children:[Object(Oe.jsxs)(d.a,{container:!0,spacing:3,children:[Object(Oe.jsx)(d.a,{item:!0,xs:12,sm:12,children:Object(Oe.jsx)(dn,{control:a,name:"name",label:"Product name"})}),Object(Oe.jsx)(d.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(ln,{items:h,control:a,name:"brand",label:"Brand"})}),Object(Oe.jsx)(d.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(ln,{items:p,control:a,name:"type",label:"Type"})}),Object(Oe.jsx)(d.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(dn,{type:"number",control:a,name:"price",label:"Price"})}),Object(Oe.jsx)(d.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(dn,{type:"number",control:a,name:"quantityInStock",label:"Quantity in Stock"})}),Object(Oe.jsx)(d.a,{item:!0,xs:12,children:Object(Oe.jsx)(dn,{multiline:!0,rows:4,control:a,name:"description",label:"Description"})}),Object(Oe.jsx)(d.a,{item:!0,xs:12,children:Object(Oe.jsxs)(We.a,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(Oe.jsx)(cn,{control:a,name:"file"}),x?Object(Oe.jsx)("img",{src:x.preview,alt:"preview",style:{maxHeight:200}}):Object(Oe.jsx)("img",{src:null===t||void 0===t?void 0:t.pictureUrl,alt:null===t||void 0===t?void 0:t.name,style:{maxHeight:200}})]})})]}),Object(Oe.jsxs)(We.a,{display:"flex",justifyContent:"space-between",sx:{mt:3},children:[Object(Oe.jsx)(pe.a,{onClick:n,variant:"contained",color:"inherit",children:"Cancel"}),Object(Oe.jsx)(se.a,{loading:j,type:"submit",variant:"contained",color:"success",children:"Submit"})]})]})]})}function pn(){var e=Ne(),t=e.products,n=e.metaData,r=ce(),c=Object(i.useState)(!1),s=Object(a.a)(c,2),o=s[0],l=s[1],d=Object(i.useState)(void 0),u=Object(a.a)(d,2),j=u[0],b=u[1],h=Object(i.useState)(!1),p=Object(a.a)(h,2),x=p[0],m=p[1],O=Object(i.useState)(0),g=Object(a.a)(O,2),f=g[0],v=g[1];return o?Object(Oe.jsx)(hn,{product:j,cancelEdit:function(){j&&b(void 0),l(!1)}}):Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsxs)(We.a,{display:"flex",justifyContent:"space-between",children:[Object(Oe.jsx)(be.a,{sx:{p:2},variant:"h4",children:"Inventory"}),Object(Oe.jsx)(pe.a,{onClick:function(){return l(!0)},sx:{m:2},size:"large",variant:"contained",children:"Create"})]}),Object(Oe.jsx)(Ye.a,{component:ke.a,children:Object(Oe.jsxs)(Vt.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(Oe.jsx)(Mt.a,{children:Object(Oe.jsxs)(Ze.a,{children:[Object(Oe.jsx)(Ke.a,{children:"#"}),Object(Oe.jsx)(Ke.a,{align:"left",children:"Product"}),Object(Oe.jsx)(Ke.a,{align:"right",children:"Price"}),Object(Oe.jsx)(Ke.a,{align:"center",children:"Type"}),Object(Oe.jsx)(Ke.a,{align:"center",children:"Brand"}),Object(Oe.jsx)(Ke.a,{align:"center",children:"Quantity"}),Object(Oe.jsx)(Ke.a,{align:"right"})]})}),Object(Oe.jsx)(Xe.a,{children:t.map((function(e){return Object(Oe.jsxs)(Ze.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(Oe.jsx)(Ke.a,{component:"th",scope:"row",children:e.id}),Object(Oe.jsx)(Ke.a,{align:"left",children:Object(Oe.jsxs)(We.a,{display:"flex",alignItems:"center",children:[Object(Oe.jsx)("img",{src:e.pictureUrl,alt:e.name,style:{height:50,marginRight:20}}),Object(Oe.jsx)("span",{children:e.name})]})}),Object(Oe.jsx)(Ke.a,{align:"right",children:me(e.price)}),Object(Oe.jsx)(Ke.a,{align:"center",children:e.type}),Object(Oe.jsx)(Ke.a,{align:"center",children:e.brand}),Object(Oe.jsx)(Ke.a,{align:"center",children:e.quantityInStock}),Object(Oe.jsxs)(Ke.a,{align:"right",children:[Object(Oe.jsx)(pe.a,{onClick:function(){return function(e){b(e),l(!0)}(e)},startIcon:Object(Oe.jsx)(tn.a,{})}),Object(Oe.jsx)(se.a,{loading:x&&f===e.id,startIcon:Object(Oe.jsx)(Rt.a,{}),color:"error",onClick:function(){return t=e.id,m(!0),v(t),void E.Admin.deleteProduct(t).then((function(){return r(Y(t))})).catch((function(e){return console.log(e)})).finally((function(){return m(!1)}));var t}})]})]},e.id)}))})]})}),n&&Object(Oe.jsx)(We.a,{sx:{pt:2},children:Object(Oe.jsx)(Fe,{metaData:n,onPageChange:function(e){return r(G({pageNumber:e}))}})})]})}var xn=function(){var e=ce(),t=Object(i.useState)(!0),n=Object(a.a)(t,2),r=n[0],c=n[1];Object(i.useEffect)((function(){(function(e){var t=document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)");return t?t.pop():""})("buyerId")?E.Basket.get().then((function(t){return e(W(t))})).catch((function(e){return console.log(e)})).finally((function(){return c(!1)})):c(!1)}),[e]);var s=Object(i.useState)(!1),o=Object(a.a)(s,2),l=o[0],d=o[1],u=l?"dark":"light",j=Object(Dt.a)({palette:{mode:u,background:{default:"light"===u?"#eaeaea":"#121212"}}});return r?Object(Oe.jsx)(Me,{message:"Initialising app..."}):Object(Oe.jsxs)(At.a,{theme:j,children:[Object(Oe.jsx)(y.a,{theme:"colored",position:"bottom-right",hideProgressBar:!0}),Object(Oe.jsx)(Lt.a,{}),Object(Oe.jsx)(Et,{darkMode:l,handleThemeChange:function(){d(!l)}}),Object(Oe.jsx)(tt.a,{children:Object(Oe.jsxs)(et.c,{children:[Object(Oe.jsx)(et.a,{path:"/",element:Object(Oe.jsx)(Ge,{})}),Object(Oe.jsx)(et.a,{path:"/catalog",element:Object(Oe.jsx)(He,{})}),Object(Oe.jsx)(et.a,{path:"/catalog/:id",element:Object(Oe.jsx)(rt,{})}),Object(Oe.jsx)(et.a,{path:"/about",element:Object(Oe.jsx)(dt,{})}),Object(Oe.jsx)(et.a,{path:"/contact",element:Object(Oe.jsx)(jt,{})}),Object(Oe.jsx)(et.a,{path:"/server-error",element:Object(Oe.jsx)(Wt,{})}),Object(Oe.jsx)(et.a,{path:"/not-found",element:Object(Oe.jsx)(nt,{})}),Object(Oe.jsx)(et.a,{path:"/basket",element:Object(Oe.jsx)(Jt,{})}),Object(Oe.jsx)(et.a,{path:"/checkout",element:Object(Oe.jsx)(Ht,{})}),Object(Oe.jsx)(et.a,{path:"/login",element:Object(Oe.jsx)(Kt,{})}),Object(Oe.jsx)(et.a,{path:"/register",element:Object(Oe.jsx)(en,{})}),Object(Oe.jsx)(et.a,{path:"/inventory",element:Object(Oe.jsx)(pn,{})})]})}),Object(Oe.jsx)(Gt,{})]})},mn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,495)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},On=n(33),gn=(n(379),n(380),["history"]),fn=Object(On.b)(),vn=function(e){var t=e.history,n=Object(c.a)(e,gn),s=Object(i.useState)({action:t.action,location:t.location}),o=Object(a.a)(s,2),l=o[0],d=o[1];return Object(i.useLayoutEffect)((function(){return t.listen(d)}),[t]),Object(Oe.jsx)(et.b,Object(r.a)(Object(r.a)({},n),{},{location:l.location,navigationType:l.action,navigator:t}))};l.a.render(Object(Oe.jsx)(s.a.StrictMode,{children:Object(Oe.jsx)(vn,{history:fn,children:Object(Oe.jsx)(j.a,{store:ae,children:Object(Oe.jsx)(xn,{})})})}),document.getElementById("root")),mn()}},[[381,1,2]]]);
//# sourceMappingURL=main.e3c1d666.chunk.js.map